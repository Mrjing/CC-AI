'use strict';const _0x27c631=_0x1d70;function _0x4a24(){const _0x27d9ef=['initBaiduSensitive','delete','configs','filingNumber','queryGptKeys','wechat\x20refresh\x20access_token\x20\x20==>\x20','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','qcloudPhoneSignName','registerBaseUrl','isShowAppCatIcon','getConfigs','setGptKeys','mjUseBaiduFy','appMenuHeaderBgUrl','324926UTiOOf','支付功能暂未开放!','axios','forEach','payHupiStatus','buyCramiAddress','response','inviteGiveSendModel4Count','every','configEntity','salesBaseRatio','readFileSync','payWeChatPrivateKey','invitedGuestSendModel3Count','请填写您的授权码','&secret=','metadata','MjdrawCount','findOne','TRUE','queryAllConfig','signInStatus','reduce','获取微信access_token失败、错误信息：','registerSendModel4Count','salesAllowDrawMoney','getPhoneVerifyConfig','ModelsService','&client_secret=','design:paramtypes','vxNumber','wechatRegisterStatus','wechatJsapiTicket','copyrightUrl','90894YJzuCT','fetchJsapiTicket','116736uojwfG','HttpException','version','72bpoDZq','ConfigEntity','noticeTitle','nineAiToken','qqNumber','nineaiBuiltInSensitiveAuthKey','epay','qcloudPhoneRegisterStatus','aliPhoneTemplateCode','isUseWxLogin','isVerifyEmail','getCopyright','8149840HAAkRv','getOwnPropertyDescriptor','cos','请按要求填写正确的授权信息','ChatLogEntity','签到功能暂未开放!','baiduTextSecretKey','fetchBaseAccessToken','payMpayStatus','json','queryConfig','__param','queryPayType','package.json','initGetAllConfig','log','../models/models.service','createOrUpdate','baiduTextAccessToken','defineProperty','decorate','companyName','NAMESPACE','firstRegisterSendRank','../../common/utils','default','parse','BAD_REQUEST','Like','error','access_token','请配置正确的秘钥、当前秘钥检测不通过！','onModuleInit','__decorate','ISDEV','payWechatStatus','tencent','Logger','隐私内容、非超级管理员无权查看','clientHomePath','942692DbRQbL','data','https://aip.baidubce.com/oauth/2.0/token?client_id=','设置配置信息错误！','Repository','modelsService','百度敏感词配置检测失败，您的参数可能配置的不正确!','InjectRepository','设置完成！','payEpayStatus','nineaiBuiltInSensitiveApiBase','copyrightTitle','emailRegisterStatus','application/json','signInModel3Count','configKey','ticket','baiduTextStatus','debug','entries','getWechatAccessToken','感谢您使用NineAi、祝您使用愉快~','appMenuHeaderTips','signInMjDrawToken','clientLogoPath','qcloudSMSTemplateId','../chatLog/chatLog.entity','gpt','@nestjs/common','chatGptKey','map','11060658HOYhRl','error:\x20','NINEAI','wechatAccessToken','mjHideNotBlock','firstRegisterSendStatus','emailLoginStatus','noticeInfo','hideString','typeorm','utf-8','clientFavoIconPath','wechatOfficialAppSecret','chatGptKey:','super','filter','invitedGuestSendDrawMjCount','domain','wechatOfficialAppId','getSensitiveConfig','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','15RsczoB','inviteGiveSendDrawMjCount','object','globalConfigs','getNineAiToken','includes','qcloudSecretId','wechat','https://api.jiangly.com/api/permission/auth','qcloudPhoneLoginStatus','&type=jsapi','signInModel4Count','操作完成！','user','firstRregisterSendModel4Count','OfficialService','mpay','post','手机验证码功能暂未开放!','baidu','update','mindDefaultData','robotAvatar','payWeChatPublicKey','function','Injectable','assign','mjProxyImgUrl','length','configVal','mjProxy','HttpStatus','get','254934dmPCad','\x20current\x20use\x20version\x20in\x20------>:\x20','pay','getQcloudPhoneVerifyConfig','GlobalConfigService','find','payEpayChannel','salesSeniorRatio','setConfig','payMpayChannel','siteName','81pRzhlI','Status','baiduTextApiKey','inviteGiveSendModel3Count','env','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!'];_0x4a24=function(){return _0x27d9ef;};return _0x4a24();}(function(_0x288690,_0x437336){const _0x545652=_0x1d70,_0x135115=_0x288690();while(!![]){try{const _0x18e5f1=parseInt(_0x545652(0x140))/0x1+-parseInt(_0x545652(0x13e))/0x2*(-parseInt(_0x545652(0x108))/0x3)+-parseInt(_0x545652(0xa8))/0x4*(parseInt(_0x545652(0xdc))/0x5)+parseInt(_0x545652(0xfd))/0x6+parseInt(_0x545652(0x11c))/0x7*(parseInt(_0x545652(0x143))/0x8)+-parseInt(_0x545652(0xc7))/0x9+parseInt(_0x545652(0x14f))/0xa;if(_0x18e5f1===_0x437336)break;else _0x135115['push'](_0x135115['shift']());}catch(_0x2ea748){_0x135115['push'](_0x135115['shift']());}}}(_0x4a24,0xa6c33));var __decorate=this&&this[_0x27c631(0xa1)]||function(_0x751abe,_0x5967bf,_0x374e26,_0x4225a1){const _0x1c448f=_0x27c631;var _0x3b013e=arguments['length'],_0x19181f=_0x3b013e<0x3?_0x5967bf:_0x4225a1===null?_0x4225a1=Object[_0x1c448f(0x150)](_0x5967bf,_0x374e26):_0x4225a1,_0x53fdd0;if(typeof Reflect===_0x1c448f(0xde)&&typeof Reflect['decorate']===_0x1c448f(0xf4))_0x19181f=Reflect[_0x1c448f(0x94)](_0x751abe,_0x5967bf,_0x374e26,_0x4225a1);else{for(var _0x599352=_0x751abe[_0x1c448f(0xf8)]-0x1;_0x599352>=0x0;_0x599352--)if(_0x53fdd0=_0x751abe[_0x599352])_0x19181f=(_0x3b013e<0x3?_0x53fdd0(_0x19181f):_0x3b013e>0x3?_0x53fdd0(_0x5967bf,_0x374e26,_0x19181f):_0x53fdd0(_0x5967bf,_0x374e26))||_0x19181f;}return _0x3b013e>0x3&&_0x19181f&&Object[_0x1c448f(0x93)](_0x5967bf,_0x374e26,_0x19181f),_0x19181f;},__metadata=this&&this['__metadata']||function(_0x518999,_0x1d9913){const _0xe459e0=_0x27c631;if(typeof Reflect===_0xe459e0(0xde)&&typeof Reflect[_0xe459e0(0x12c)]===_0xe459e0(0xf4))return Reflect[_0xe459e0(0x12c)](_0x518999,_0x1d9913);},__param=this&&this[_0x27c631(0x15a)]||function(_0x1ca47c,_0x4e467b){return function(_0x18e0d0,_0x56b52d){_0x4e467b(_0x18e0d0,_0x56b52d,_0x1ca47c);};};Object[_0x27c631(0x93)](exports,'__esModule',{'value':!![]}),exports[_0x27c631(0x101)]=void 0x0;const models_service_1=require(_0x27c631(0x90)),chatLog_entity_1=require(_0x27c631(0xc2)),common_1=require(_0x27c631(0xc4)),config_entity_1=require('./config.entity'),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x27c631(0xd0)),utils_1=require(_0x27c631(0x98)),axios_1=require(_0x27c631(0x11e)),fs=require('fs'),packageJsonContent=fs[_0x27c631(0x127)](_0x27c631(0x8d),_0x27c631(0xd1)),packageJson=JSON[_0x27c631(0x9a)](packageJsonContent),version=packageJson[_0x27c631(0x142)];console[_0x27c631(0x8f)](_0x27c631(0xfe),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x1efca3,_0x10e61c,_0x23036e){const _0x2d4b6b=_0x27c631;this[_0x2d4b6b(0x125)]=_0x1efca3,this['chatLogEntity']=_0x10e61c,this[_0x2d4b6b(0xad)]=_0x23036e,this[_0x2d4b6b(0xdf)]={},this[_0x2d4b6b(0x146)]=!![];}async[_0x27c631(0xa0)](){const _0x11f7cf=_0x27c631;await this[_0x11f7cf(0x8e)]();}async[_0x27c631(0x118)](_0xff43f4){const _0x4c33c1=_0x27c631;if(_0xff43f4[_0x4c33c1(0xf8)]===0x0)return;if(_0xff43f4[_0x4c33c1(0xe1)](_0x4c33c1(0xca))&&_0xff43f4[_0x4c33c1(0xf8)]===0x1)return this[_0x4c33c1(0xca)];if(_0xff43f4[_0x4c33c1(0xe1)]('wechatJsapiTicket')&&_0xff43f4['length']===0x1)return this[_0x4c33c1(0x13c)];if(_0xff43f4[_0x4c33c1(0xf8)]===0x1)return this[_0x4c33c1(0xdf)][_0xff43f4[0x0]];else{const _0x10e6c1={};return _0xff43f4[_0x4c33c1(0x11f)](_0x2f707e=>_0x10e6c1[_0x2f707e]=this[_0x4c33c1(0xdf)][_0x2f707e]),_0x10e6c1;}}async[_0x27c631(0x8e)](){const _0x38c546=_0x27c631,_0x5af2b6=await this[_0x38c546(0x125)][_0x38c546(0x102)]();this[_0x38c546(0xdf)]=_0x5af2b6['reduce']((_0x1938df,_0x25019e)=>{const _0x47806b=_0x38c546;return _0x1938df[_0x25019e[_0x47806b(0xb7)]]=_0x25019e[_0x47806b(0xf9)],_0x1938df;},{}),this[_0x38c546(0x10e)]();}async[_0x27c631(0x10e)](_0x1c516e=!![]){const _0x419770=_0x27c631,{baiduTextApiKey:_0x4fbf6e,baiduTextSecretKey:_0x4c0621}=await this[_0x419770(0x118)]([_0x419770(0x10a),_0x419770(0x155)]);if(!_0x4fbf6e||!_0x4c0621){common_1[_0x419770(0xa5)][_0x419770(0x9d)](_0x419770(0x10d),'GlobalConfigService');return;}const _0x3c52c2={'Content-Type':_0x419770(0xb5),'Accept':_0x419770(0xb5)},_0x240fc0=_0x419770(0xaa)+_0x4fbf6e+_0x419770(0x138)+_0x4c0621+'&grant_type=client_credentials';try{const _0x3d9b8a=await axios_1[_0x419770(0x99)][_0x419770(0xed)](_0x240fc0,{'headers':_0x3c52c2});this[_0x419770(0xdf)][_0x419770(0x92)]=_0x3d9b8a[_0x419770(0xa9)][_0x419770(0x9e)];}catch(_0x868240){if(_0x1c516e)common_1[_0x419770(0xa5)][_0x419770(0x9d)](_0x419770(0xae),_0x419770(0x101));else throw new common_1[(_0x419770(0x141))](_0x868240[_0x419770(0x122)]['data']['error_description'],common_1[_0x419770(0xfb)][_0x419770(0x9b)]);}}async[_0x27c631(0xbc)](_0x43b622=![]){const _0x97ea83=_0x27c631,{wechatOfficialAppId:_0x59583b,wechatOfficialAppSecret:_0x2ca8b8}=await this['getConfigs']([_0x97ea83(0xd9),_0x97ea83(0xd3)]);if(!_0x59583b||!_0x2ca8b8)return common_1[_0x97ea83(0xa5)][_0x97ea83(0x9d)]('还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','OfficialService');this[_0x97ea83(0xca)]=await this[_0x97ea83(0x156)](_0x59583b,_0x2ca8b8,_0x43b622),this[_0x97ea83(0x13c)]=await this[_0x97ea83(0x13f)](this[_0x97ea83(0xca)]),common_1['Logger'][_0x97ea83(0x8f)](_0x97ea83(0x113)+this[_0x97ea83(0xca)],'OfficialService');}async[_0x27c631(0x156)](_0x20df03,_0x2ccd98,_0x56ad72=![]){const _0x17ef10=_0x27c631;if(process['env'][_0x17ef10(0xa2)]===_0x17ef10(0x12f)){this[_0x17ef10(0xca)]='';return;}const {data:{errmsg:_0xa7d0ff,access_token:_0x141cab}}=await axios_1[_0x17ef10(0x99)]['get'](_0x17ef10(0x114)+_0x20df03+_0x17ef10(0x12b)+_0x2ccd98);if(_0xa7d0ff){console['log']('errMsg',_0xa7d0ff);if(_0x56ad72)common_1[_0x17ef10(0xa5)]['error'](_0x17ef10(0x133)+_0xa7d0ff,_0x17ef10(0xeb));else throw new common_1[(_0x17ef10(0x141))](_0x17ef10(0x9f),common_1['HttpStatus'][_0x17ef10(0x9b)]);return'';}return _0x141cab;}async['fetchJsapiTicket'](_0x719394){const _0x5ba647=_0x27c631;var _0x34a57d;if(process[_0x5ba647(0x10c)][_0x5ba647(0xa2)]==='TRUE'){this[_0x5ba647(0x13c)]='';return;}const _0x54fdb8=await axios_1['default'][_0x5ba647(0xfc)](_0x5ba647(0xdb)+_0x719394+_0x5ba647(0xe6));return(_0x34a57d=_0x54fdb8===null||_0x54fdb8===void 0x0?void 0x0:_0x54fdb8[_0x5ba647(0xa9)])===null||_0x34a57d===void 0x0?void 0x0:_0x34a57d[_0x5ba647(0xb8)];}async[_0x27c631(0x130)](_0x26563){const _0x4ead20=_0x27c631,{role:_0x3f828c}=_0x26563[_0x4ead20(0xe9)];return this['globalConfigs'];}async['queryFrontConfig'](_0x35aaeb,_0x4166d1){const _0x5f27d4=_0x27c631,_0x2d46dd=[_0x5f27d4(0x13a),'registerSendStatus','registerSendModel3Count',_0x5f27d4(0x134),'registerSendDrawMjCount',_0x5f27d4(0xcc),_0x5f27d4(0x97),'firstRregisterSendModel3Count',_0x5f27d4(0xea),'firstRregisterSendDrawMjCount','inviteSendStatus',_0x5f27d4(0x10b),_0x5f27d4(0x123),_0x5f27d4(0xdd),_0x5f27d4(0x129),'invitedGuestSendModel4Count',_0x5f27d4(0xd7),_0x5f27d4(0xa7),_0x5f27d4(0xc0),_0x5f27d4(0xd2),_0x5f27d4(0x14c),_0x5f27d4(0x107),_0x5f27d4(0xf2),'siteRobotName',_0x5f27d4(0x121),_0x5f27d4(0xf1),'baiduCode',_0x5f27d4(0x103),_0x5f27d4(0x106),'payEpayApiPayUrl',_0x5f27d4(0xb1),_0x5f27d4(0x120),'payWechatStatus',_0x5f27d4(0x157),'isAutoOpenNotice',_0x5f27d4(0x117),_0x5f27d4(0x126),_0x5f27d4(0x104),_0x5f27d4(0x135),_0x5f27d4(0x95),_0x5f27d4(0x111),'phoneRegisterStatus',_0x5f27d4(0x14a),_0x5f27d4(0xb4),_0x5f27d4(0xcd),'phoneLoginStatus',_0x5f27d4(0xe5),_0x5f27d4(0x13b),'wechatSilentLoginStatus',_0x5f27d4(0x131),_0x5f27d4(0xb6),_0x5f27d4(0xe7),_0x5f27d4(0xbf),_0x5f27d4(0xbe),_0x5f27d4(0x11b),_0x5f27d4(0x11a),_0x5f27d4(0xcb),'mjHideWorkIn',_0x5f27d4(0x14d)],_0x32e3b2=await this[_0x5f27d4(0x125)][_0x5f27d4(0x102)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x2d46dd)}}),{domain:_0x3b678b}=_0x35aaeb,_0x553cd3=this[_0x5f27d4(0xdf)][_0x5f27d4(0xd8)];_0x553cd3!==_0x3b678b&&(this[_0x5f27d4(0x91)]({'configKey':_0x5f27d4(0xd8),'configVal':_0x3b678b,'status':0x1}),await this[_0x5f27d4(0x8e)]());const _0x750df5=_0x32e3b2[_0x5f27d4(0x132)]((_0x164c16,_0x2ba223)=>{const _0x42d147=_0x5f27d4;return _0x164c16[_0x2ba223['configKey']]=_0x2ba223[_0x42d147(0xf9)],_0x164c16;},{}),{wechatOfficialAppId:_0x5c91ee,wechatOfficialAppSecret:_0x15fb37}=await this[_0x5f27d4(0x118)](['wechatOfficialAppId',_0x5f27d4(0xd3)]),_0x359f0d=!!(_0x5c91ee&&_0x15fb37);return Object[_0x5f27d4(0xf6)](Object[_0x5f27d4(0xf6)]({},_0x750df5),{'isUseWxLogin':_0x359f0d});}async[_0x27c631(0x112)](_0x7de4fb){const _0x269475=_0x27c631,{role:_0x2f6659}=_0x7de4fb[_0x269475(0xe9)],_0x23f086=await this[_0x269475(0x125)]['find']({'where':{'configKey':(0x0,typeorm_2[_0x269475(0x9c)])('%'+_0x269475(0xc5)+'%')}});if(_0x2f6659===_0x269475(0xd5))return _0x23f086;return _0x23f086[_0x269475(0xc6)](_0x39c375=>{const _0x3aee69=_0x269475;return _0x39c375[_0x3aee69(0xf9)]=(0x0,utils_1[_0x3aee69(0xcf)])(_0x39c375[_0x3aee69(0xf9)]),_0x39c375;});}async[_0x27c631(0x119)](_0x80e057){const _0x300864=_0x27c631,_0x3299c3=_0x80e057[_0x300864(0x110)][_0x300864(0xd6)](_0x441f13=>_0x441f13['configVal']),_0x596d34=_0x3299c3['map'](_0x4b6d72=>_0x4b6d72['configKey']);for(const [_0x2a2f75,_0x2f5c33]of _0x3299c3[_0x300864(0xbb)]()){const {configKey:_0x48d46b,configVal:_0x33a2ef,status:_0x532ab1}=_0x2f5c33;await this['createOrUpdate']({'configKey':_0x300864(0xd4)+(_0x2a2f75+0x1),'configVal':_0x33a2ef,'status':_0x532ab1});}const _0x35e53f=await this[_0x300864(0x125)][_0x300864(0x102)]({'where':{'configKey':(0x0,typeorm_2['Like'])('%'+_0x300864(0xc5)+'%')}}),_0x48d8b=_0x35e53f[_0x300864(0xc6)](_0x196ad8=>_0x196ad8[_0x300864(0xb7)]);if(_0x48d8b['length']>_0x596d34[_0x300864(0xf8)]){const _0x3c0b6f=(0x0,utils_1['getDiffArray'])(_0x48d8b['length'],_0x596d34[_0x300864(0xf8)],_0x300864(0xd4));for(const _0x4ec9cd of _0x3c0b6f){await this[_0x300864(0x125)][_0x300864(0x10f)]({'configKey':_0x4ec9cd});}}return await this[_0x300864(0x8e)](),_0x300864(0xe8);}async[_0x27c631(0x159)](_0x5e938a,_0x24b810){const _0x513aaf=_0x27c631,{role:_0x2963ac}=_0x24b810['user'],{keys:_0x4eac92}=_0x5e938a,_0x70e15b=await this['configEntity'][_0x513aaf(0x102)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x4eac92)}});return _0x2963ac!==_0x513aaf(0xd5)&&_0x70e15b[_0x513aaf(0x11f)](_0x210d74=>{const _0x4ae4cb=_0x513aaf;if(_0x210d74[_0x4ae4cb(0xb7)]['includes']('mj')||_0x210d74[_0x4ae4cb(0xb7)]['includes']('Key')||_0x210d74[_0x4ae4cb(0xb7)][_0x4ae4cb(0xe1)](_0x4ae4cb(0xc3))||_0x210d74['configKey']['includes'](_0x4ae4cb(0x151))||_0x210d74[_0x4ae4cb(0xb7)][_0x4ae4cb(0xe1)](_0x4ae4cb(0xef))||_0x210d74[_0x4ae4cb(0xb7)]['includes']('ali')||_0x210d74[_0x4ae4cb(0xb7)][_0x4ae4cb(0xe1)](_0x4ae4cb(0xa4))||_0x210d74['configKey'][_0x4ae4cb(0xe1)](_0x4ae4cb(0xff))||_0x210d74[_0x4ae4cb(0xb7)][_0x4ae4cb(0xe1)](_0x4ae4cb(0xe3))||_0x210d74[_0x4ae4cb(0xb7)][_0x4ae4cb(0xe1)](_0x4ae4cb(0xf7))||_0x210d74[_0x4ae4cb(0xb7)]==='openaiBaseUrl'){const _0x180197=[_0x4ae4cb(0xf3),_0x4ae4cb(0x128)];if(_0x180197[_0x4ae4cb(0xe1)](_0x210d74[_0x4ae4cb(0xb7)]))return _0x210d74['configVal']=(0x0,utils_1[_0x4ae4cb(0xcf)])(_0x210d74['configVal'],_0x4ae4cb(0xa6));const _0x16f547=[_0x4ae4cb(0xb1),_0x4ae4cb(0x120),_0x4ae4cb(0xfa)];!_0x16f547[_0x4ae4cb(0xe1)](_0x210d74[_0x4ae4cb(0xb7)])&&!_0x210d74[_0x4ae4cb(0xb7)]['includes'](_0x4ae4cb(0x109))&&(_0x210d74['configVal']=(0x0,utils_1['hideString'])(_0x210d74['configVal']));}}),_0x70e15b[_0x513aaf(0x132)]((_0x1fdeb1,_0x27b46a)=>{const _0x279494=_0x513aaf;return _0x1fdeb1[_0x27b46a[_0x279494(0xb7)]]=_0x27b46a['configVal'],_0x1fdeb1;},{});}[_0x27c631(0xe0)](){const _0x303887=_0x27c631,_0x2eb563=this[_0x303887(0xdf)][_0x303887(0x12d)],_0x10a2f6=this['nineAiToken'];return!_0x10a2f6||Number(_0x2eb563)===0x1;}async[_0x27c631(0x105)](_0x1368a0){const _0xe50ea8=_0x27c631;try{const {settings:_0x57034a}=_0x1368a0;for(const _0x281e3f of _0x57034a){await this['createOrUpdate'](_0x281e3f);}await this[_0xe50ea8(0x8e)]();const _0xb5fdd3=_0x57034a[_0xe50ea8(0xc6)](_0x11743f=>_0x11743f[_0xe50ea8(0xb7)]);return(_0xb5fdd3[_0xe50ea8(0xe1)]('baiduTextApiKey')||_0xb5fdd3[_0xe50ea8(0xe1)](_0xe50ea8(0x155)))&&await this[_0xe50ea8(0x10e)](![]),(_0xb5fdd3[_0xe50ea8(0xe1)](_0xe50ea8(0xd9))||_0xb5fdd3[_0xe50ea8(0xe1)](_0xe50ea8(0xd3)))&&await this[_0xe50ea8(0xbc)](),_0xe50ea8(0xb0);}catch(_0x553594){console['log'](_0xe50ea8(0xc8),_0x553594);}}async[_0x27c631(0x91)](_0x2b7fbd){const _0x55c3aa=_0x27c631;try{const {configKey:_0x4290ba,configVal:_0x332417,status:status=0x1}=_0x2b7fbd,_0xd52b53=await this[_0x55c3aa(0x125)][_0x55c3aa(0x12e)]({'where':{'configKey':_0x4290ba}});if(_0xd52b53){const _0x3578c2=await this[_0x55c3aa(0x125)][_0x55c3aa(0xf0)]({'configKey':_0x4290ba},{'configVal':_0x332417,'status':status});}else{const _0xc5d1d1=await this[_0x55c3aa(0x125)]['save']({'configKey':_0x4290ba,'configVal':_0x332417,'status':status});}}catch(_0x2031d9){console[_0x55c3aa(0x8f)]('error:\x20',_0x2031d9);throw new common_1[(_0x55c3aa(0x141))](_0x55c3aa(0xab),common_1[_0x55c3aa(0xfb)][_0x55c3aa(0x9b)]);}}async['queryNotice'](){const _0x11aac9=_0x27c631;return await this['getConfigs']([_0x11aac9(0xce),_0x11aac9(0x145)]);}async[_0x27c631(0x14e)](){const _0x208087=_0x27c631;return await this[_0x208087(0x118)]([_0x208087(0x13d),_0x208087(0xb3)]);}async[_0x27c631(0x8c)](){const _0x3a3410=_0x27c631,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this['getConfigs'](['payHupiStatus',_0x3a3410(0xb1),_0x3a3410(0x157),_0x3a3410(0xa3)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x3a3410(0x124)](_0x2d4505=>_0x2d4505===0x0))throw new common_1[(_0x3a3410(0x141))](_0x3a3410(0x11d),common_1['HttpStatus']['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0x3a3410(0xe3);if(Number(payEpayStatus)===0x1)return _0x3a3410(0x149);if(Number(payMpayStatus)===0x1)return _0x3a3410(0xec);if(Number(payHupiStatus)===0x1)return'hupi';}async['getAuthInfo'](){const _0x4ccb8c=_0x27c631,{siteName:_0x2110d9,qqNumber:_0x14da97,vxNumber:_0x2759c5,registerBaseUrl:_0x1b3143,domain:_0xcf7c69}=await this[_0x4ccb8c(0x118)]([_0x4ccb8c(0x107),_0x4ccb8c(0x147),'vxNumber',_0x4ccb8c(0x116),'domain']);return{'siteName':_0x2110d9,'qqNumber':_0x14da97,'vxNumber':_0x2759c5,'registerBaseUrl':_0x1b3143,'domain':_0xcf7c69};}async[_0x27c631(0x136)](){const _0x19ee22=_0x27c631,{phoneRegisterStatus:_0x7b3cf6,aliPhoneAccessKeyId:_0x51cd79,aliPhoneAccessKeySecret:_0x3b984f,aliPhoneSignName:_0x595065,aliPhoneTemplateCode:_0x53a998}=await this['getConfigs'](['phoneRegisterStatus','aliPhoneAccessKeyId','aliPhoneAccessKeySecret','aliPhoneSignName',_0x19ee22(0x14b)]);if(Number(_0x7b3cf6)!==0x1)throw new common_1[(_0x19ee22(0x141))](_0x19ee22(0xee),common_1[_0x19ee22(0xfb)][_0x19ee22(0x9b)]);return{'accessKeyId':_0x51cd79,'accessKeySecret':_0x3b984f,'SignName':_0x595065,'TemplateCode':_0x53a998};}async[_0x27c631(0x100)](){const _0x3e5e56=_0x27c631,{qcloudPhoneRegisterStatus:_0x2d750b,qcloudSecretId:_0x452969,qcloudSecretKey:_0x1a4921,qcloudPhoneSignName:_0x29df9a,qcloudSMSTemplateId:_0x38c84e,qcloudSMSSDKAppId:_0x5721db}=await this['getConfigs'](['qcloudPhoneRegisterStatus',_0x3e5e56(0xe2),'qcloudSecretKey',_0x3e5e56(0x115),_0x3e5e56(0xc1),'qcloudSMSSDKAppId']);if(Number(_0x2d750b)!==0x1)throw new common_1['HttpException'](_0x3e5e56(0xee),common_1['HttpStatus'][_0x3e5e56(0x9b)]);return{'secretId':_0x452969,'secretKey':_0x1a4921,'signName':_0x29df9a,'templateId':_0x38c84e,'sdkAppId':_0x5721db};}['getNamespace'](){const _0x245c45=_0x27c631;return process[_0x245c45(0x10c)][_0x245c45(0x96)]||_0x245c45(0xc9);}async['getSignatureGiftConfig'](){const _0x376793=_0x27c631,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x376793(0x118)]([_0x376793(0x131),'signInModel3Count',_0x376793(0xe7),_0x376793(0xbf)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x376793(0x141))](_0x376793(0x154),common_1[_0x376793(0xfb)][_0x376793(0x9b)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async['auth'](){const _0x478bcb=_0x27c631,_0x12357b=_0x478bcb(0xe4),_0x5b8178=await fetch(_0x12357b,{}),_0x228a56=await _0x5b8178[_0x478bcb(0x158)](),{success:success=!![],message:_0x46d633}=_0x228a56;common_1[_0x478bcb(0xa5)]['error'](_0x478bcb(0x152)),common_1[_0x478bcb(0xa5)]['error'](_0x478bcb(0x12a)),common_1['Logger']['error']('缺失ip信息'),common_1[_0x478bcb(0xa5)][_0x478bcb(0x9d)]('缺失ip信息'),common_1[_0x478bcb(0xa5)][_0x478bcb(0xba)](_0x478bcb(0xbd));}async[_0x27c631(0xda)](){const _0x95065f=_0x27c631,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x33e50b,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x48c162,nineaiBuiltInSensitiveAuthKey:_0x13cc61}=await this[_0x95065f(0x118)]([_0x95065f(0xb9),_0x95065f(0x92),'nineaiBuiltInSensitiveStatus',_0x95065f(0xb2),_0x95065f(0x148)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x95065f(0xef),'baiduTextAccessToken':_0x33e50b};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':'nineai','nineaiBuiltInSensitiveApiBase':_0x48c162,'nineaiBuiltInSensitiveAuthKey':_0x13cc61};return null;}};function _0x1d70(_0x3d6b19,_0x2bffe8){const _0x4a24b1=_0x4a24();return _0x1d70=function(_0x1d7050,_0xac78f2){_0x1d7050=_0x1d7050-0x8c;let _0x15e9fe=_0x4a24b1[_0x1d7050];return _0x15e9fe;},_0x1d70(_0x3d6b19,_0x2bffe8);}GlobalConfigService=__decorate([(0x0,common_1[_0x27c631(0xf5)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(config_entity_1[_0x27c631(0x144)])),__param(0x1,(0x0,typeorm_1[_0x27c631(0xaf)])(chatLog_entity_1[_0x27c631(0x153)])),__metadata(_0x27c631(0x139),[typeorm_2[_0x27c631(0xac)],typeorm_2[_0x27c631(0xac)],models_service_1[_0x27c631(0x137)]])],GlobalConfigService),exports[_0x27c631(0x101)]=GlobalConfigService;