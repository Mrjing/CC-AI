'use strict';const _0x96817e=_0x257a;(function(_0x1e23ed,_0x589684){const _0x209dfc=_0x257a,_0x3591dc=_0x1e23ed();while(!![]){try{const _0x41ddf6=-parseInt(_0x209dfc(0x1ea))/0x1+-parseInt(_0x209dfc(0x28a))/0x2+parseInt(_0x209dfc(0x1e9))/0x3*(-parseInt(_0x209dfc(0x221))/0x4)+-parseInt(_0x209dfc(0x272))/0x5+parseInt(_0x209dfc(0x2a3))/0x6+-parseInt(_0x209dfc(0x29d))/0x7+parseInt(_0x209dfc(0x27b))/0x8;if(_0x41ddf6===_0x589684)break;else _0x3591dc['push'](_0x3591dc['shift']());}catch(_0xd8504a){_0x3591dc['push'](_0x3591dc['shift']());}}}(_0x4278,0xb50b7));var __decorate=this&&this[_0x96817e(0x28f)]||function(_0x419568,_0x3ad85b,_0x162eeb,_0x592fb5){const _0x3236aa=_0x96817e;var _0x3cdc76=arguments[_0x3236aa(0x1fc)],_0x5f1b7d=_0x3cdc76<0x3?_0x3ad85b:_0x592fb5===null?_0x592fb5=Object[_0x3236aa(0x285)](_0x3ad85b,_0x162eeb):_0x592fb5,_0x2e2114;if(typeof Reflect==='object'&&typeof Reflect[_0x3236aa(0x27d)]==='function')_0x5f1b7d=Reflect[_0x3236aa(0x27d)](_0x419568,_0x3ad85b,_0x162eeb,_0x592fb5);else{for(var _0x215a43=_0x419568[_0x3236aa(0x1fc)]-0x1;_0x215a43>=0x0;_0x215a43--)if(_0x2e2114=_0x419568[_0x215a43])_0x5f1b7d=(_0x3cdc76<0x3?_0x2e2114(_0x5f1b7d):_0x3cdc76>0x3?_0x2e2114(_0x3ad85b,_0x162eeb,_0x5f1b7d):_0x2e2114(_0x3ad85b,_0x162eeb))||_0x5f1b7d;}return _0x3cdc76>0x3&&_0x5f1b7d&&Object[_0x3236aa(0x22d)](_0x3ad85b,_0x162eeb,_0x5f1b7d),_0x5f1b7d;},__metadata=this&&this[_0x96817e(0x252)]||function(_0x1169f3,_0x3cea0e){const _0x5a7579=_0x96817e;if(typeof Reflect===_0x5a7579(0x2a6)&&typeof Reflect[_0x5a7579(0x1fb)]===_0x5a7579(0x274))return Reflect[_0x5a7579(0x1fb)](_0x1169f3,_0x3cea0e);},__param=this&&this[_0x96817e(0x1fd)]||function(_0x5bad49,_0x4742f3){return function(_0x2878d8,_0x227145){_0x4742f3(_0x2878d8,_0x227145,_0x5bad49);};};Object[_0x96817e(0x22d)](exports,'__esModule',{'value':!![]}),exports[_0x96817e(0x246)]=void 0x0;const models_service_1=require(_0x96817e(0x242)),chatLog_entity_1=require('../chatLog/chatLog.entity'),common_1=require(_0x96817e(0x266)),config_entity_1=require('./config.entity'),typeorm_1=require(_0x96817e(0x23d)),typeorm_2=require(_0x96817e(0x277)),utils_1=require('../../common/utils'),axios_1=require(_0x96817e(0x26b)),fs=require('fs'),packageJsonContent=fs['readFileSync'](_0x96817e(0x238),'utf-8'),packageJson=JSON['parse'](packageJsonContent),version=packageJson[_0x96817e(0x214)];function _0x4278(){const _0x907946=['9641114cRkkFV','noticeTitle','mindDefaultData','initBaiduSensitive','signInStatus','filter','959502BQKHiW','getQcloudPhoneVerifyConfig','mjProxy','object','https://api.jiangly.com/api/permission/auth','签到功能暂未开放!','Repository','clientLogoPath','getSignatureGiftConfig','aliPhoneTemplateCode','error_description','33vuaIRG','1303967ViAmec','chatGptKey','data','error','clientFavoIconPath','Key','wechat\x20refresh\x20access_token\x20\x20==>\x20','ModelsService','baiduTextSecretKey','HttpStatus','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','findOne','update','getAuthInfo','companyName','emailLoginStatus','payMpayChannel','metadata','length','__param','mpay','siteName','onModuleInit','mjUseBaiduFy','emailRegisterStatus','invitedGuestSendModel3Count','getNineAiToken','registerSendModel4Count','setGptKeys','appMenuHeaderBgUrl','pay','payMpayStatus','InjectRepository','BAD_REQUEST','buyCramiAddress','设置配置信息错误！','fetchJsapiTicket','HttpException','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','aliPhoneAccessKeySecret','TRUE','Logger','version','请按要求填写正确的授权信息','registerSendModel3Count','debug','Injectable','includes','queryAllConfig','isUseWxLogin','registerSendStatus','获取微信access_token失败、错误信息：','qcloudSecretId','queryPayType','env','423428bzyEuH','configKey','default','qcloudPhoneSignName','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','globalConfigs','configEntity','queryConfig','isAutoOpenNotice','queryGptKeys','inviteSendStatus','setConfig','defineProperty','salesSeniorRatio','ChatLogEntity','chatLogEntity','wechatOfficialAppId','hideString','salesAllowDrawMoney','find','Status','nineaiBuiltInSensitiveApiBase','log','package.json','Like','reduce','aliPhoneSignName','firstRegisterSendRank','@nestjs/typeorm','save','signInModel3Count','wechatAccessToken','qcloudSMSTemplateId','../models/models.service','ISDEV','调了一次刷access_token','getNamespace','GlobalConfigService','getPhoneVerifyConfig','queryNotice','super','chatGptKey:','inviteGiveSendModel4Count','configVal','appMenuHeaderTips','tencent','forEach','signInMjDrawToken','error:\x20','__metadata','phoneLoginStatus','createOrUpdate','map','configs','firstRregisterSendDrawMjCount','https://aip.baidubce.com/oauth/2.0/token?client_id=','mjHideNotBlock','initGetAllConfig','copyrightTitle','nineaiBuiltInSensitiveStatus','wechatOfficialAppSecret','user','json','qqNumber','nineAiToken','NAMESPACE','ali','vxNumber','invitedGuestSendModel4Count','@nestjs/common','请填写您的授权码','&client_secret=','phoneRegisterStatus','wechatJsapiTicket','axios','registerBaseUrl','baiduTextApiKey','filingNumber','请配置正确的秘钥、当前秘钥检测不通过！','firstRregisterSendModel4Count','response','1087890aqPmGY','domain','function','copyrightUrl','baiduTextAccessToken','typeorm','OfficialService','getConfigs','nineai','43643160AKsOWr','post','decorate','wechatRegisterStatus','payWeChatPublicKey','delete','payHupiStatus','fetchBaseAccessToken','modelsService','隐私内容、非超级管理员无权查看','getOwnPropertyDescriptor','registerSendDrawMjCount','payWechatStatus','siteRobotName','手机验证码功能暂未开放!','1620958nPQRgF','auth','application/json','get','epay','__decorate','qcloudPhoneLoginStatus','缺失ip信息','mjProxyImgUrl','baidu','openaiBaseUrl','操作完成！','salesBaseRatio','assign','baiduTextStatus','qcloudPhoneRegisterStatus','payEpayStatus','firstRegisterSendStatus','NINEAI'];_0x4278=function(){return _0x907946;};return _0x4278();}console['log']('\x20current\x20use\x20version\x20in\x20------>:\x20',version);function _0x257a(_0x21a1aa,_0x2cc33e){const _0x427884=_0x4278();return _0x257a=function(_0x257a1a,_0x300289){_0x257a1a=_0x257a1a-0x1e5;let _0x39d9b9=_0x427884[_0x257a1a];return _0x39d9b9;},_0x257a(_0x21a1aa,_0x2cc33e);}let GlobalConfigService=class GlobalConfigService{constructor(_0x5d5ec8,_0x4f2d3a,_0x4359ca){const _0x3f742c=_0x96817e;this[_0x3f742c(0x227)]=_0x5d5ec8,this[_0x3f742c(0x230)]=_0x4f2d3a,this[_0x3f742c(0x283)]=_0x4359ca,this['globalConfigs']={},this[_0x3f742c(0x261)]=!![];}async[_0x96817e(0x200)](){await this['initGetAllConfig']();}async[_0x96817e(0x279)](_0x2167b2){const _0x962fc2=_0x96817e;if(_0x2167b2[_0x962fc2(0x1fc)]===0x0)return;if(_0x2167b2[_0x962fc2(0x219)](_0x962fc2(0x240))&&_0x2167b2[_0x962fc2(0x1fc)]===0x1)return this[_0x962fc2(0x240)];if(_0x2167b2[_0x962fc2(0x219)]('wechatJsapiTicket')&&_0x2167b2['length']===0x1)return this[_0x962fc2(0x26a)];if(_0x2167b2[_0x962fc2(0x1fc)]===0x1)return this[_0x962fc2(0x226)][_0x2167b2[0x0]];else{const _0x24148e={};return _0x2167b2[_0x962fc2(0x24f)](_0x2cf768=>_0x24148e[_0x2cf768]=this[_0x962fc2(0x226)][_0x2cf768]),_0x24148e;}}async[_0x96817e(0x25a)](){const _0x51ab6a=_0x96817e,_0x4be0b4=await this[_0x51ab6a(0x227)][_0x51ab6a(0x234)]();this[_0x51ab6a(0x226)]=_0x4be0b4[_0x51ab6a(0x23a)]((_0x48efed,_0x4e12b9)=>{const _0x20c9a5=_0x51ab6a;return _0x48efed[_0x4e12b9[_0x20c9a5(0x222)]]=_0x4e12b9[_0x20c9a5(0x24c)],_0x48efed;},{}),this[_0x51ab6a(0x2a0)]();}async[_0x96817e(0x2a0)](_0x2bb6a7=!![]){const _0x1d89c5=_0x96817e,{baiduTextApiKey:_0x27d911,baiduTextSecretKey:_0x25bb59}=await this[_0x1d89c5(0x279)]([_0x1d89c5(0x26d),_0x1d89c5(0x1f2)]);if(!_0x27d911||!_0x25bb59){common_1[_0x1d89c5(0x213)][_0x1d89c5(0x1ed)](_0x1d89c5(0x1f4),'GlobalConfigService');return;}const _0x3b40c4={'Content-Type':_0x1d89c5(0x28c),'Accept':_0x1d89c5(0x28c)},_0xade85a=_0x1d89c5(0x258)+_0x27d911+_0x1d89c5(0x268)+_0x25bb59+'&grant_type=client_credentials';try{const _0x506035=await axios_1[_0x1d89c5(0x223)]['post'](_0xade85a,{'headers':_0x3b40c4});this[_0x1d89c5(0x226)][_0x1d89c5(0x276)]=_0x506035[_0x1d89c5(0x1ec)]['access_token'];}catch(_0x1579ae){if(_0x2bb6a7)common_1[_0x1d89c5(0x213)][_0x1d89c5(0x1ed)]('百度敏感词配置检测失败，您的参数可能配置的不正确!','GlobalConfigService');else throw new common_1[(_0x1d89c5(0x20f))](_0x1579ae[_0x1d89c5(0x271)][_0x1d89c5(0x1ec)][_0x1d89c5(0x1e8)],common_1['HttpStatus']['BAD_REQUEST']);}}async['getWechatAccessToken'](_0x59e0a1=![]){const _0x5ae908=_0x96817e;console[_0x5ae908(0x237)](_0x5ae908(0x244));const {wechatOfficialAppId:_0x5ca8a2,wechatOfficialAppSecret:_0x3c5fbc}=await this[_0x5ae908(0x279)]([_0x5ae908(0x231),_0x5ae908(0x25d)]);if(!_0x5ca8a2||!_0x3c5fbc)return common_1[_0x5ae908(0x213)]['error'](_0x5ae908(0x210),'OfficialService');this[_0x5ae908(0x240)]=await this[_0x5ae908(0x282)](_0x5ca8a2,_0x3c5fbc,_0x59e0a1),this[_0x5ae908(0x26a)]=await this[_0x5ae908(0x20e)](this[_0x5ae908(0x240)]),common_1[_0x5ae908(0x213)][_0x5ae908(0x237)](_0x5ae908(0x1f0)+this['wechatAccessToken'],_0x5ae908(0x278));}async['fetchBaseAccessToken'](_0x2994fe,_0x1ad452,_0x3d3af8=![]){const _0x37b501=_0x96817e;if(process[_0x37b501(0x220)][_0x37b501(0x243)]==='TRUE'){this[_0x37b501(0x240)]='';return;}const {data:{errmsg:_0x270cbf,access_token:_0x435c42,expires_in:_0xb1c00}}=await axios_1[_0x37b501(0x223)][_0x37b501(0x27c)]('https://api.weixin.qq.com/cgi-bin/stable_token',{'grant_type':'client_credential','appid':_0x2994fe,'secret':_0x1ad452});console[_0x37b501(0x237)]('access_token',_0x435c42,_0xb1c00);if(_0x270cbf){console[_0x37b501(0x237)]('errMsg',_0x270cbf);if(_0x3d3af8)common_1['Logger'][_0x37b501(0x1ed)](_0x37b501(0x21d)+_0x270cbf,'OfficialService');else throw new common_1[(_0x37b501(0x20f))](_0x37b501(0x26f),common_1['HttpStatus']['BAD_REQUEST']);return'';}return _0x435c42;}async[_0x96817e(0x20e)](_0x403b50){const _0x3e8d08=_0x96817e;var _0x69e873;if(process['env'][_0x3e8d08(0x243)]===_0x3e8d08(0x212)){this['wechatJsapiTicket']='';return;}const _0x4cc608=await axios_1[_0x3e8d08(0x223)][_0x3e8d08(0x28d)](_0x3e8d08(0x225)+_0x403b50+'&type=jsapi');return(_0x69e873=_0x4cc608===null||_0x4cc608===void 0x0?void 0x0:_0x4cc608[_0x3e8d08(0x1ec)])===null||_0x69e873===void 0x0?void 0x0:_0x69e873['ticket'];}async[_0x96817e(0x21a)](_0x2b9284){const {role:_0x3f6262}=_0x2b9284['user'];return this['globalConfigs'];}async['queryFrontConfig'](_0x1b4959,_0x342967){const _0x14f475=_0x96817e,_0x28ff04=[_0x14f475(0x264),_0x14f475(0x21c),_0x14f475(0x216),_0x14f475(0x205),_0x14f475(0x286),_0x14f475(0x29b),_0x14f475(0x23c),'firstRregisterSendModel3Count',_0x14f475(0x270),_0x14f475(0x257),_0x14f475(0x22b),'inviteGiveSendModel3Count',_0x14f475(0x24b),'inviteGiveSendDrawMjCount',_0x14f475(0x203),_0x14f475(0x265),'invitedGuestSendDrawMjCount','clientHomePath',_0x14f475(0x1e5),_0x14f475(0x1ee),_0x14f475(0x21b),_0x14f475(0x1ff),'robotAvatar',_0x14f475(0x288),_0x14f475(0x20c),_0x14f475(0x29f),'baiduCode','payEpayChannel',_0x14f475(0x1fa),'payEpayApiPayUrl','payEpayStatus',_0x14f475(0x281),'payWechatStatus',_0x14f475(0x209),_0x14f475(0x229),'isShowAppCatIcon',_0x14f475(0x296),_0x14f475(0x22e),_0x14f475(0x233),_0x14f475(0x1f8),_0x14f475(0x26e),_0x14f475(0x269),_0x14f475(0x299),_0x14f475(0x202),_0x14f475(0x1f9),_0x14f475(0x253),_0x14f475(0x290),_0x14f475(0x27e),'wechatSilentLoginStatus',_0x14f475(0x2a1),_0x14f475(0x23f),'signInModel4Count','signInMjDrawToken',_0x14f475(0x24d),_0x14f475(0x207),_0x14f475(0x201),_0x14f475(0x259),'mjHideWorkIn','isVerifyEmail'],_0x45a2aa=await this[_0x14f475(0x227)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x28ff04)}}),{domain:_0x502fd6}=_0x1b4959,_0x18cc0f=this[_0x14f475(0x226)]['domain'];_0x18cc0f!==_0x502fd6&&(this[_0x14f475(0x254)]({'configKey':_0x14f475(0x273),'configVal':_0x502fd6,'status':0x1}),await this[_0x14f475(0x25a)]());const _0x38e479=_0x45a2aa['reduce']((_0x449395,_0x2c2425)=>{const _0x228c1d=_0x14f475;return _0x449395[_0x2c2425[_0x228c1d(0x222)]]=_0x2c2425[_0x228c1d(0x24c)],_0x449395;},{}),{wechatOfficialAppId:_0x48f4d7,wechatOfficialAppSecret:_0x465edb}=await this[_0x14f475(0x279)]([_0x14f475(0x231),_0x14f475(0x25d)]),_0x238092=!!(_0x48f4d7&&_0x465edb);return Object['assign'](Object[_0x14f475(0x297)]({},_0x38e479),{'isUseWxLogin':_0x238092});}async[_0x96817e(0x22a)](_0x84fe2f){const _0x1148e6=_0x96817e,{role:_0x155715}=_0x84fe2f['user'],_0x97c4fd=await this[_0x1148e6(0x227)][_0x1148e6(0x234)]({'where':{'configKey':(0x0,typeorm_2[_0x1148e6(0x239)])('%'+_0x1148e6(0x1eb)+'%')}});if(_0x155715===_0x1148e6(0x249))return _0x97c4fd;return _0x97c4fd[_0x1148e6(0x255)](_0x1e0d11=>{const _0x5b732c=_0x1148e6;return _0x1e0d11['configVal']=(0x0,utils_1[_0x5b732c(0x232)])(_0x1e0d11['configVal']),_0x1e0d11;});}async[_0x96817e(0x206)](_0xcc463d){const _0x3df08c=_0x96817e,_0x30ce21=_0xcc463d[_0x3df08c(0x256)][_0x3df08c(0x2a2)](_0x4380ee=>_0x4380ee['configVal']),_0xb997b7=_0x30ce21[_0x3df08c(0x255)](_0x49ec90=>_0x49ec90['configKey']);for(const [_0x4a2b2a,_0x388832]of _0x30ce21['entries']()){const {configKey:_0x33bc02,configVal:_0x2c0f1f,status:_0x34490d}=_0x388832;await this['createOrUpdate']({'configKey':_0x3df08c(0x24a)+(_0x4a2b2a+0x1),'configVal':_0x2c0f1f,'status':_0x34490d});}const _0x341781=await this[_0x3df08c(0x227)][_0x3df08c(0x234)]({'where':{'configKey':(0x0,typeorm_2[_0x3df08c(0x239)])('%'+_0x3df08c(0x1eb)+'%')}}),_0x1b163b=_0x341781[_0x3df08c(0x255)](_0x36d859=>_0x36d859[_0x3df08c(0x222)]);if(_0x1b163b['length']>_0xb997b7[_0x3df08c(0x1fc)]){const _0x3e9608=(0x0,utils_1['getDiffArray'])(_0x1b163b['length'],_0xb997b7[_0x3df08c(0x1fc)],_0x3df08c(0x24a));for(const _0x59ac25 of _0x3e9608){await this[_0x3df08c(0x227)][_0x3df08c(0x280)]({'configKey':_0x59ac25});}}return await this[_0x3df08c(0x25a)](),_0x3df08c(0x295);}async[_0x96817e(0x228)](_0xfb8594,_0x2a5cf4){const _0xe723ef=_0x96817e,{role:_0x32463c}=_0x2a5cf4[_0xe723ef(0x25e)],{keys:_0x31a4e6}=_0xfb8594,_0x46b140=await this[_0xe723ef(0x227)][_0xe723ef(0x234)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x31a4e6)}});return _0x32463c!==_0xe723ef(0x249)&&_0x46b140['forEach'](_0x41accd=>{const _0x189056=_0xe723ef;if(_0x41accd[_0x189056(0x222)]['includes']('mj')||_0x41accd[_0x189056(0x222)][_0x189056(0x219)](_0x189056(0x1ef))||_0x41accd[_0x189056(0x222)][_0x189056(0x219)]('gpt')||_0x41accd['configKey']['includes']('cos')||_0x41accd[_0x189056(0x222)][_0x189056(0x219)]('baidu')||_0x41accd[_0x189056(0x222)]['includes'](_0x189056(0x263))||_0x41accd[_0x189056(0x222)]['includes'](_0x189056(0x24e))||_0x41accd[_0x189056(0x222)][_0x189056(0x219)](_0x189056(0x208))||_0x41accd['configKey'][_0x189056(0x219)]('wechat')||_0x41accd[_0x189056(0x222)][_0x189056(0x219)](_0x189056(0x292))||_0x41accd[_0x189056(0x222)]===_0x189056(0x294)){const _0x4923fb=[_0x189056(0x27f),'payWeChatPrivateKey'];if(_0x4923fb[_0x189056(0x219)](_0x41accd[_0x189056(0x222)]))return _0x41accd['configVal']=(0x0,utils_1['hideString'])(_0x41accd[_0x189056(0x24c)],_0x189056(0x284));const _0x94db31=[_0x189056(0x29a),_0x189056(0x281),_0x189056(0x2a5)];!_0x94db31['includes'](_0x41accd[_0x189056(0x222)])&&!_0x41accd[_0x189056(0x222)][_0x189056(0x219)](_0x189056(0x235))&&(_0x41accd[_0x189056(0x24c)]=(0x0,utils_1[_0x189056(0x232)])(_0x41accd[_0x189056(0x24c)]));}}),_0x46b140[_0xe723ef(0x23a)]((_0x1495c2,_0x51c9b5)=>{const _0x1f64b2=_0xe723ef;return _0x1495c2[_0x51c9b5[_0x1f64b2(0x222)]]=_0x51c9b5[_0x1f64b2(0x24c)],_0x1495c2;},{});}[_0x96817e(0x204)](){const _0x2c87e5=_0x96817e,_0x316955=this[_0x2c87e5(0x226)]['MjdrawCount'],_0x355111=this[_0x2c87e5(0x261)];return!_0x355111||Number(_0x316955)===0x1;}async[_0x96817e(0x22c)](_0x3a4d44){const _0x494e18=_0x96817e;try{const {settings:_0x2ec669}=_0x3a4d44;for(const _0x104fbb of _0x2ec669){await this[_0x494e18(0x254)](_0x104fbb);}await this['initGetAllConfig']();const _0x1cf5f1=_0x2ec669[_0x494e18(0x255)](_0x15c1e3=>_0x15c1e3['configKey']);return(_0x1cf5f1[_0x494e18(0x219)](_0x494e18(0x26d))||_0x1cf5f1[_0x494e18(0x219)](_0x494e18(0x1f2)))&&await this[_0x494e18(0x2a0)](![]),(_0x1cf5f1[_0x494e18(0x219)](_0x494e18(0x231))||_0x1cf5f1['includes'](_0x494e18(0x25d)))&&await this['getWechatAccessToken'](),'设置完成！';}catch(_0x40c89f){console[_0x494e18(0x237)](_0x494e18(0x251),_0x40c89f);}}async[_0x96817e(0x254)](_0x2a5484){const _0x1ee970=_0x96817e;try{const {configKey:_0x5aa2f7,configVal:_0x24df29,status:status=0x1}=_0x2a5484,_0x387c6b=await this[_0x1ee970(0x227)][_0x1ee970(0x1f5)]({'where':{'configKey':_0x5aa2f7}});if(_0x387c6b){const _0x3d9a2d=await this[_0x1ee970(0x227)][_0x1ee970(0x1f6)]({'configKey':_0x5aa2f7},{'configVal':_0x24df29,'status':status});}else{const _0x266fcb=await this[_0x1ee970(0x227)][_0x1ee970(0x23e)]({'configKey':_0x5aa2f7,'configVal':_0x24df29,'status':status});}}catch(_0x4adfce){console[_0x1ee970(0x237)]('error:\x20',_0x4adfce);throw new common_1['HttpException'](_0x1ee970(0x20d),common_1[_0x1ee970(0x1f3)][_0x1ee970(0x20b)]);}}async[_0x96817e(0x248)](){const _0x200a77=_0x96817e;return await this[_0x200a77(0x279)](['noticeInfo',_0x200a77(0x29e)]);}async['getCopyright'](){const _0x41a86e=_0x96817e;return await this[_0x41a86e(0x279)]([_0x41a86e(0x275),_0x41a86e(0x25b)]);}async[_0x96817e(0x21f)](){const _0x4d7acb=_0x96817e,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this['getConfigs']([_0x4d7acb(0x281),_0x4d7acb(0x29a),_0x4d7acb(0x209),_0x4d7acb(0x287)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x2c5306=>_0x2c5306===0x0))throw new common_1[(_0x4d7acb(0x20f))]('支付功能暂未开放!',common_1['HttpStatus']['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return'wechat';if(Number(payEpayStatus)===0x1)return _0x4d7acb(0x28e);if(Number(payMpayStatus)===0x1)return _0x4d7acb(0x1fe);if(Number(payHupiStatus)===0x1)return'hupi';}async[_0x96817e(0x1f7)](){const _0x551bd5=_0x96817e,{siteName:_0x4a69dc,qqNumber:_0x215776,vxNumber:_0x21e3be,registerBaseUrl:_0x4f41f1,domain:_0x3bd5e8}=await this[_0x551bd5(0x279)]([_0x551bd5(0x1ff),_0x551bd5(0x260),_0x551bd5(0x264),_0x551bd5(0x26c),'domain']);return{'siteName':_0x4a69dc,'qqNumber':_0x215776,'vxNumber':_0x21e3be,'registerBaseUrl':_0x4f41f1,'domain':_0x3bd5e8};}async[_0x96817e(0x247)](){const _0x2d135a=_0x96817e,{phoneRegisterStatus:_0x5011f0,aliPhoneAccessKeyId:_0x416d5e,aliPhoneAccessKeySecret:_0x2f2300,aliPhoneSignName:_0x2ecfeb,aliPhoneTemplateCode:_0x45c7aa}=await this['getConfigs']([_0x2d135a(0x269),'aliPhoneAccessKeyId',_0x2d135a(0x211),_0x2d135a(0x23b),_0x2d135a(0x1e7)]);if(Number(_0x5011f0)!==0x1)throw new common_1[(_0x2d135a(0x20f))]('手机验证码功能暂未开放!',common_1[_0x2d135a(0x1f3)][_0x2d135a(0x20b)]);return{'accessKeyId':_0x416d5e,'accessKeySecret':_0x2f2300,'SignName':_0x2ecfeb,'TemplateCode':_0x45c7aa};}async[_0x96817e(0x2a4)](){const _0x23a454=_0x96817e,{qcloudPhoneRegisterStatus:_0x472058,qcloudSecretId:_0x11ae29,qcloudSecretKey:_0x2e8f9d,qcloudPhoneSignName:_0x3d7747,qcloudSMSTemplateId:_0x47a5e1,qcloudSMSSDKAppId:_0x4b20a4}=await this[_0x23a454(0x279)]([_0x23a454(0x299),_0x23a454(0x21e),'qcloudSecretKey',_0x23a454(0x224),_0x23a454(0x241),'qcloudSMSSDKAppId']);if(Number(_0x472058)!==0x1)throw new common_1[(_0x23a454(0x20f))](_0x23a454(0x289),common_1[_0x23a454(0x1f3)][_0x23a454(0x20b)]);return{'secretId':_0x11ae29,'secretKey':_0x2e8f9d,'signName':_0x3d7747,'templateId':_0x47a5e1,'sdkAppId':_0x4b20a4};}[_0x96817e(0x245)](){const _0x110573=_0x96817e;return process[_0x110573(0x220)][_0x110573(0x262)]||_0x110573(0x29c);}async[_0x96817e(0x1e6)](){const _0x141f01=_0x96817e,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x141f01(0x279)](['signInStatus',_0x141f01(0x23f),'signInModel4Count',_0x141f01(0x250)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x141f01(0x20f))](_0x141f01(0x2a8),common_1['HttpStatus'][_0x141f01(0x20b)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x96817e(0x28b)](){const _0xd8464f=_0x96817e,_0x3ec51a=_0xd8464f(0x2a7),_0x139b44=await fetch(_0x3ec51a,{}),_0x282371=await _0x139b44[_0xd8464f(0x25f)](),{success:success=!![],message:_0x249b0e}=_0x282371;common_1[_0xd8464f(0x213)]['error'](_0xd8464f(0x215)),common_1['Logger'][_0xd8464f(0x1ed)](_0xd8464f(0x267)),common_1[_0xd8464f(0x213)][_0xd8464f(0x1ed)](_0xd8464f(0x291)),common_1['Logger'][_0xd8464f(0x1ed)](_0xd8464f(0x291)),common_1[_0xd8464f(0x213)][_0xd8464f(0x217)]('感谢您使用NineAi、祝您使用愉快~');}async['getSensitiveConfig'](){const _0x575d60=_0x96817e,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x3e4a77,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x380f73,nineaiBuiltInSensitiveAuthKey:_0x2b6375}=await this[_0x575d60(0x279)]([_0x575d60(0x298),_0x575d60(0x276),_0x575d60(0x25c),_0x575d60(0x236),'nineaiBuiltInSensitiveAuthKey']);if(Number(baiduTextStatus)===0x1)return{'useType':_0x575d60(0x293),'baiduTextAccessToken':_0x3e4a77};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x575d60(0x27a),'nineaiBuiltInSensitiveApiBase':_0x380f73,'nineaiBuiltInSensitiveAuthKey':_0x2b6375};return null;}};GlobalConfigService=__decorate([(0x0,common_1[_0x96817e(0x218)])(),__param(0x0,(0x0,typeorm_1[_0x96817e(0x20a)])(config_entity_1['ConfigEntity'])),__param(0x1,(0x0,typeorm_1[_0x96817e(0x20a)])(chatLog_entity_1[_0x96817e(0x22f)])),__metadata('design:paramtypes',[typeorm_2[_0x96817e(0x2a9)],typeorm_2[_0x96817e(0x2a9)],models_service_1[_0x96817e(0x1f1)]])],GlobalConfigService),exports[_0x96817e(0x246)]=GlobalConfigService;