'use strict';function _0x5541(_0x51727b,_0x25426b){const _0x453efb=_0x453e();return _0x5541=function(_0x5541e0,_0x2bf836){_0x5541e0=_0x5541e0-0x72;let _0x423522=_0x453efb[_0x5541e0];return _0x423522;},_0x5541(_0x51727b,_0x25426b);}const _0x59f981=_0x5541;(function(_0x6d489e,_0x4e51a9){const _0x6a307=_0x5541,_0x39c181=_0x6d489e();while(!![]){try{const _0x4e2811=-parseInt(_0x6a307(0xac))/0x1*(-parseInt(_0x6a307(0x118))/0x2)+-parseInt(_0x6a307(0xed))/0x3+-parseInt(_0x6a307(0xad))/0x4*(-parseInt(_0x6a307(0xdd))/0x5)+parseInt(_0x6a307(0xc0))/0x6+-parseInt(_0x6a307(0x8a))/0x7+-parseInt(_0x6a307(0x103))/0x8+parseInt(_0x6a307(0x13c))/0x9*(parseInt(_0x6a307(0xd1))/0xa);if(_0x4e2811===_0x4e51a9)break;else _0x39c181['push'](_0x39c181['shift']());}catch(_0xfe4d54){_0x39c181['push'](_0x39c181['shift']());}}}(_0x453e,0x3a94b));var __decorate=this&&this['__decorate']||function(_0x2a3248,_0x8a10f5,_0xa1da89,_0x157332){const _0x4bf13c=_0x5541;var _0x18adf4=arguments[_0x4bf13c(0xb6)],_0x49f833=_0x18adf4<0x3?_0x8a10f5:_0x157332===null?_0x157332=Object[_0x4bf13c(0x13a)](_0x8a10f5,_0xa1da89):_0x157332,_0x6dcc5d;if(typeof Reflect===_0x4bf13c(0x74)&&typeof Reflect['decorate']==='function')_0x49f833=Reflect[_0x4bf13c(0x78)](_0x2a3248,_0x8a10f5,_0xa1da89,_0x157332);else{for(var _0x6acd0b=_0x2a3248[_0x4bf13c(0xb6)]-0x1;_0x6acd0b>=0x0;_0x6acd0b--)if(_0x6dcc5d=_0x2a3248[_0x6acd0b])_0x49f833=(_0x18adf4<0x3?_0x6dcc5d(_0x49f833):_0x18adf4>0x3?_0x6dcc5d(_0x8a10f5,_0xa1da89,_0x49f833):_0x6dcc5d(_0x8a10f5,_0xa1da89))||_0x49f833;}return _0x18adf4>0x3&&_0x49f833&&Object['defineProperty'](_0x8a10f5,_0xa1da89,_0x49f833),_0x49f833;},__metadata=this&&this['__metadata']||function(_0x1e075e,_0x27f2df){const _0x210563=_0x5541;if(typeof Reflect==='object'&&typeof Reflect[_0x210563(0xcd)]===_0x210563(0x11e))return Reflect[_0x210563(0xcd)](_0x1e075e,_0x27f2df);},__param=this&&this['__param']||function(_0x2663d5,_0x3823f9){return function(_0x268cfc,_0x351a3b){_0x3823f9(_0x268cfc,_0x351a3b,_0x2663d5);};};Object[_0x59f981(0x8c)](exports,_0x59f981(0x104),{'value':!![]}),exports[_0x59f981(0x88)]=void 0x0;const models_service_1=require(_0x59f981(0x138)),chatLog_entity_1=require(_0x59f981(0x9c)),common_1=require(_0x59f981(0x139)),config_entity_1=require(_0x59f981(0x123)),typeorm_1=require(_0x59f981(0x73)),typeorm_2=require('typeorm'),utils_1=require(_0x59f981(0x89)),axios_1=require('axios'),fs=require('fs'),packageJsonContent=fs[_0x59f981(0x7c)](_0x59f981(0x10d),_0x59f981(0x8d)),packageJson=JSON[_0x59f981(0x148)](packageJsonContent),version=packageJson[_0x59f981(0xb9)];console[_0x59f981(0xca)]('\x20current\x20use\x20version\x20in\x20------>:\x20',version);let GlobalConfigService=class GlobalConfigService{constructor(_0x546bd1,_0x392381,_0x2b5cbd){const _0x31dfe2=_0x59f981;this[_0x31dfe2(0x95)]=_0x546bd1,this[_0x31dfe2(0x7e)]=_0x392381,this[_0x31dfe2(0xc7)]=_0x2b5cbd,this[_0x31dfe2(0x7a)]={},this[_0x31dfe2(0x92)]=!![];}async[_0x59f981(0x93)](){const _0x3459bb=_0x59f981;await this[_0x3459bb(0xd6)]();}async[_0x59f981(0x140)](_0x35c09f){const _0x4042ef=_0x59f981;if(_0x35c09f['length']===0x0)return;if(_0x35c09f['includes']('wechatAccessToken')&&_0x35c09f[_0x4042ef(0xb6)]===0x1)return this[_0x4042ef(0x7f)];if(_0x35c09f[_0x4042ef(0xbe)]('wechatJsapiTicket')&&_0x35c09f[_0x4042ef(0xb6)]===0x1)return this['wechatJsapiTicket'];if(_0x35c09f[_0x4042ef(0xb6)]===0x1)return this[_0x4042ef(0x7a)][_0x35c09f[0x0]];else{const _0xa6949d={};return _0x35c09f[_0x4042ef(0x13e)](_0x40ce3=>_0xa6949d[_0x40ce3]=this[_0x4042ef(0x7a)][_0x40ce3]),_0xa6949d;}}async[_0x59f981(0xd6)](){const _0x58c182=_0x59f981,_0x1b801d=await this[_0x58c182(0x95)][_0x58c182(0xe4)]();this[_0x58c182(0x7a)]=_0x1b801d[_0x58c182(0xa6)]((_0x1c8d73,_0x2795f5)=>{const _0x3ee29b=_0x58c182;return _0x1c8d73[_0x2795f5[_0x3ee29b(0x12b)]]=_0x2795f5[_0x3ee29b(0xe0)],_0x1c8d73;},{}),this[_0x58c182(0xaa)]();}async['initBaiduSensitive'](_0x1b7118=!![]){const _0x9b2a3b=_0x59f981,{baiduTextApiKey:_0xd31847,baiduTextSecretKey:_0x5d92be}=await this[_0x9b2a3b(0x140)]([_0x9b2a3b(0x10e),_0x9b2a3b(0x9e)]);if(!_0xd31847||!_0x5d92be){common_1['Logger']['error'](_0x9b2a3b(0xbf),_0x9b2a3b(0x88));return;}const _0x1e32dd={'Content-Type':_0x9b2a3b(0xd0),'Accept':_0x9b2a3b(0xd0)},_0x15bd69=_0x9b2a3b(0x90)+_0xd31847+_0x9b2a3b(0x10f)+_0x5d92be+_0x9b2a3b(0xce);try{const _0x319ce8=await axios_1[_0x9b2a3b(0xec)]['post'](_0x15bd69,{'headers':_0x1e32dd});this[_0x9b2a3b(0x7a)][_0x9b2a3b(0x8f)]=_0x319ce8[_0x9b2a3b(0x13f)][_0x9b2a3b(0xb3)];}catch(_0x26a17c){if(_0x1b7118)common_1[_0x9b2a3b(0xae)]['error']('百度敏感词配置检测失败，您的参数可能配置的不正确!',_0x9b2a3b(0x88));else throw new common_1[(_0x9b2a3b(0xea))](_0x26a17c[_0x9b2a3b(0x144)]['data']['error_description'],common_1['HttpStatus'][_0x9b2a3b(0xb4)]);}}async['getWechatAccessToken'](_0x49d277=![]){const _0x3915df=_0x59f981,{wechatOfficialAppId:_0x563df5,wechatOfficialAppSecret:_0x50b91f}=await this['getConfigs']([_0x3915df(0x10b),'wechatOfficialAppSecret']);if(!_0x563df5||!_0x50b91f)return common_1['Logger'][_0x3915df(0xf8)](_0x3915df(0x100),'OfficialService');this[_0x3915df(0x7f)]=await this[_0x3915df(0x10c)](_0x563df5,_0x50b91f,_0x49d277),this[_0x3915df(0xc8)]=await this['fetchJsapiTicket'](this[_0x3915df(0x7f)]),common_1[_0x3915df(0xae)]['log']('wechat\x20refresh\x20access_token\x20\x20==>\x20'+this['wechatAccessToken'],_0x3915df(0xa2));}async[_0x59f981(0x10c)](_0x99b8c3,_0x3e7e1d,_0x1969c3=![]){const _0x22b808=_0x59f981;if(process['env'][_0x22b808(0x147)]===_0x22b808(0xba)){this[_0x22b808(0x7f)]='';return;}const {data:{errmsg:_0x16f340,access_token:_0x6cf409}}=await axios_1[_0x22b808(0xec)][_0x22b808(0xa4)](_0x22b808(0x119)+_0x99b8c3+_0x22b808(0xf3)+_0x3e7e1d);if(_0x16f340){console['log'](_0x22b808(0x110),_0x16f340);if(_0x1969c3)common_1[_0x22b808(0xae)][_0x22b808(0xf8)](_0x22b808(0x122)+_0x16f340,_0x22b808(0xa2));else throw new common_1[(_0x22b808(0xea))](_0x22b808(0xb7),common_1[_0x22b808(0x143)][_0x22b808(0xb4)]);return'';}return _0x6cf409;}async[_0x59f981(0x72)](_0x2b5176){const _0x24061d=_0x59f981;var _0x1872d4;if(process[_0x24061d(0x111)][_0x24061d(0x147)]===_0x24061d(0xba)){this['wechatJsapiTicket']='';return;}const _0x23d3ef=await axios_1['default'][_0x24061d(0xa4)](_0x24061d(0x102)+_0x2b5176+'&type=jsapi');return(_0x1872d4=_0x23d3ef===null||_0x23d3ef===void 0x0?void 0x0:_0x23d3ef['data'])===null||_0x1872d4===void 0x0?void 0x0:_0x1872d4[_0x24061d(0x121)];}async[_0x59f981(0x8e)](_0x35a81a){const _0x4a6b4b=_0x59f981,{role:_0x324c6d}=_0x35a81a[_0x4a6b4b(0x117)];return this[_0x4a6b4b(0x7a)];}async[_0x59f981(0xa9)](_0x1de858,_0x420177){const _0x21506d=_0x59f981,_0xa07f3e=[_0x21506d(0x120),_0x21506d(0xf0),_0x21506d(0x86),_0x21506d(0xcb),_0x21506d(0xe7),_0x21506d(0x114),_0x21506d(0x141),_0x21506d(0xa1),'firstRregisterSendModel4Count',_0x21506d(0x142),'inviteSendStatus','inviteGiveSendModel3Count',_0x21506d(0x146),_0x21506d(0x12d),_0x21506d(0x7d),_0x21506d(0x136),_0x21506d(0xe8),'clientHomePath',_0x21506d(0x75),_0x21506d(0xfb),'isUseWxLogin',_0x21506d(0xf6),'robotAvatar',_0x21506d(0xf9),'buyCramiAddress','mindDefaultData','baiduCode',_0x21506d(0xb5),'payMpayChannel',_0x21506d(0x127),_0x21506d(0x13d),_0x21506d(0x115),_0x21506d(0xf5),'payMpayStatus','isAutoOpenNotice','isShowAppCatIcon',_0x21506d(0x82),_0x21506d(0xe3),'salesAllowDrawMoney',_0x21506d(0x81),_0x21506d(0x101),_0x21506d(0xeb),_0x21506d(0x125),_0x21506d(0xf2),_0x21506d(0x87),_0x21506d(0xee),_0x21506d(0x99),_0x21506d(0xd4),_0x21506d(0x131),_0x21506d(0xf1),'signInModel3Count',_0x21506d(0x105),'signInMjDrawToken',_0x21506d(0xde),_0x21506d(0x112),_0x21506d(0x94),'mjHideNotBlock',_0x21506d(0x124),_0x21506d(0xef)],_0x184d4e=await this[_0x21506d(0x95)][_0x21506d(0xe4)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0xa07f3e)}}),{domain:_0xe27d8b}=_0x1de858,_0x50a440=this[_0x21506d(0x7a)][_0x21506d(0xb0)];_0x50a440!==_0xe27d8b&&(this['createOrUpdate']({'configKey':_0x21506d(0xb0),'configVal':_0xe27d8b,'status':0x1}),await this[_0x21506d(0xd6)]());const _0x243660=_0x184d4e[_0x21506d(0xa6)]((_0x98823b,_0x2497df)=>{const _0x3cee6c=_0x21506d;return _0x98823b[_0x2497df[_0x3cee6c(0x12b)]]=_0x2497df['configVal'],_0x98823b;},{}),{wechatOfficialAppId:_0xa97a5b,wechatOfficialAppSecret:_0x39b331}=await this[_0x21506d(0x140)](['wechatOfficialAppId',_0x21506d(0x12c)]),_0x22abed=!!(_0xa97a5b&&_0x39b331);return Object[_0x21506d(0x135)](Object[_0x21506d(0x135)]({},_0x243660),{'isUseWxLogin':_0x22abed});}async[_0x59f981(0x96)](_0xb217c){const _0x5db036=_0x59f981,{role:_0x11eb90}=_0xb217c[_0x5db036(0x117)],_0x131a3e=await this[_0x5db036(0x95)]['find']({'where':{'configKey':(0x0,typeorm_2[_0x5db036(0x80)])('%'+_0x5db036(0x9d)+'%')}});if(_0x11eb90===_0x5db036(0xa5))return _0x131a3e;return _0x131a3e['map'](_0x339113=>{const _0x4e978c=_0x5db036;return _0x339113[_0x4e978c(0xe0)]=(0x0,utils_1[_0x4e978c(0x126)])(_0x339113[_0x4e978c(0xe0)]),_0x339113;});}async[_0x59f981(0xab)](_0x29af20){const _0x1c0404=_0x59f981,_0x6c9908=_0x29af20[_0x1c0404(0xda)][_0x1c0404(0xbb)](_0x3f55f2=>_0x3f55f2['configVal']),_0x527256=_0x6c9908['map'](_0x1d6839=>_0x1d6839[_0x1c0404(0x12b)]);for(const [_0x4aff70,_0xaaadcb]of _0x6c9908['entries']()){const {configKey:_0x3d4cba,configVal:_0x41975c,status:_0x46fb01}=_0xaaadcb;await this[_0x1c0404(0x12a)]({'configKey':'chatGptKey:'+(_0x4aff70+0x1),'configVal':_0x41975c,'status':_0x46fb01});}const _0x46b843=await this[_0x1c0404(0x95)]['find']({'where':{'configKey':(0x0,typeorm_2[_0x1c0404(0x80)])('%'+'chatGptKey'+'%')}}),_0x1aa623=_0x46b843['map'](_0x18969e=>_0x18969e['configKey']);if(_0x1aa623[_0x1c0404(0xb6)]>_0x527256[_0x1c0404(0xb6)]){const _0x1e3b58=(0x0,utils_1[_0x1c0404(0x11a)])(_0x1aa623[_0x1c0404(0xb6)],_0x527256['length'],_0x1c0404(0xfc));for(const _0x7ceca4 of _0x1e3b58){await this[_0x1c0404(0x95)]['delete']({'configKey':_0x7ceca4});}}return await this[_0x1c0404(0xd6)](),_0x1c0404(0xd9);}async[_0x59f981(0x108)](_0x219274,_0x1df24f){const _0x42c40b=_0x59f981,{role:_0x3d1dbb}=_0x1df24f[_0x42c40b(0x117)],{keys:_0x274ec6}=_0x219274,_0x1c188a=await this[_0x42c40b(0x95)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x274ec6)}});return _0x3d1dbb!==_0x42c40b(0xa5)&&_0x1c188a[_0x42c40b(0x13e)](_0xe00e60=>{const _0x3a2228=_0x42c40b;if(_0xe00e60[_0x3a2228(0x12b)]['includes']('mj')||_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)](_0x3a2228(0xfa))||_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)](_0x3a2228(0xc1))||_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)](_0x3a2228(0xd5))||_0xe00e60[_0x3a2228(0x12b)]['includes'](_0x3a2228(0xc3))||_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)](_0x3a2228(0xff))||_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)](_0x3a2228(0x11b))||_0xe00e60['configKey'][_0x3a2228(0xbe)](_0x3a2228(0x134))||_0xe00e60['configKey'][_0x3a2228(0xbe)]('wechat')||_0xe00e60['configKey'][_0x3a2228(0xbe)](_0x3a2228(0x116))||_0xe00e60[_0x3a2228(0x12b)]===_0x3a2228(0xc6)){const _0x2c0fe4=[_0x3a2228(0xfd),_0x3a2228(0x77)];if(_0x2c0fe4[_0x3a2228(0xbe)](_0xe00e60['configKey']))return _0xe00e60[_0x3a2228(0xe0)]=(0x0,utils_1[_0x3a2228(0x126)])(_0xe00e60[_0x3a2228(0xe0)],_0x3a2228(0xdb));const _0x4405ff=[_0x3a2228(0x13d),_0x3a2228(0x115),_0x3a2228(0xb8)];!_0x4405ff['includes'](_0xe00e60[_0x3a2228(0x12b)])&&!_0xe00e60[_0x3a2228(0x12b)][_0x3a2228(0xbe)]('Status')&&(_0xe00e60[_0x3a2228(0xe0)]=(0x0,utils_1[_0x3a2228(0x126)])(_0xe00e60['configVal']));}}),_0x1c188a[_0x42c40b(0xa6)]((_0x411e04,_0x1f960c)=>{const _0x2ed177=_0x42c40b;return _0x411e04[_0x1f960c[_0x2ed177(0x12b)]]=_0x1f960c['configVal'],_0x411e04;},{});}[_0x59f981(0xdf)](){const _0x508c20=_0x59f981,_0x51d3d3=this['globalConfigs'][_0x508c20(0xa0)],_0x434c49=this[_0x508c20(0x92)];return!_0x434c49||Number(_0x51d3d3)===0x1;}async[_0x59f981(0xb2)](_0x4e08c5){const _0x1a80f8=_0x59f981;try{const {settings:_0x50d881}=_0x4e08c5;for(const _0x5cab79 of _0x50d881){await this[_0x1a80f8(0x12a)](_0x5cab79);}await this[_0x1a80f8(0xd6)]();const _0xeb041b=_0x50d881['map'](_0x32c48d=>_0x32c48d[_0x1a80f8(0x12b)]);return(_0xeb041b[_0x1a80f8(0xbe)](_0x1a80f8(0x10e))||_0xeb041b[_0x1a80f8(0xbe)](_0x1a80f8(0x9e)))&&await this['initBaiduSensitive'](![]),(_0xeb041b[_0x1a80f8(0xbe)]('wechatOfficialAppId')||_0xeb041b[_0x1a80f8(0xbe)](_0x1a80f8(0x12c)))&&await this[_0x1a80f8(0xdc)](),_0x1a80f8(0x91);}catch(_0x278a19){console[_0x1a80f8(0xca)]('error:\x20',_0x278a19);}}async[_0x59f981(0x12a)](_0x3d6204){const _0x10571c=_0x59f981;try{const {configKey:_0x275646,configVal:_0x33507d,status:status=0x1}=_0x3d6204,_0x3d362a=await this[_0x10571c(0x95)][_0x10571c(0xe2)]({'where':{'configKey':_0x275646}});if(_0x3d362a){const _0x5be9b6=await this[_0x10571c(0x95)][_0x10571c(0x12f)]({'configKey':_0x275646},{'configVal':_0x33507d,'status':status});}else{const _0x3f6985=await this[_0x10571c(0x95)][_0x10571c(0xcc)]({'configKey':_0x275646,'configVal':_0x33507d,'status':status});}}catch(_0x4f38f0){console[_0x10571c(0xca)]('error:\x20',_0x4f38f0);throw new common_1[(_0x10571c(0xea))](_0x10571c(0xd3),common_1['HttpStatus'][_0x10571c(0xb4)]);}}async[_0x59f981(0xd2)](){const _0x16db92=_0x59f981;return await this[_0x16db92(0x140)](['noticeInfo',_0x16db92(0x13b)]);}async[_0x59f981(0x109)](){const _0x285deb=_0x59f981;return await this[_0x285deb(0x140)]([_0x285deb(0xf7),_0x285deb(0x145)]);}async[_0x59f981(0xfe)](){const _0xca4c88=_0x59f981,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0xca4c88(0x140)]([_0xca4c88(0x115),_0xca4c88(0x13d),_0xca4c88(0xbc),_0xca4c88(0xf5)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x1c29f1=>_0x1c29f1===0x0))throw new common_1['HttpException'](_0xca4c88(0x83),common_1[_0xca4c88(0x143)][_0xca4c88(0xb4)]);if(Number(payWechatStatus)===0x1)return _0xca4c88(0x10a);if(Number(payEpayStatus)===0x1)return _0xca4c88(0xa3);if(Number(payMpayStatus)===0x1)return _0xca4c88(0xc4);if(Number(payHupiStatus)===0x1)return _0xca4c88(0x11c);}async['getAuthInfo'](){const _0x316d3b=_0x59f981,{siteName:_0x369dca,qqNumber:_0x3b122d,vxNumber:_0xe01b90,registerBaseUrl:_0x52fb6c,domain:_0x319174}=await this['getConfigs'](['siteName',_0x316d3b(0x137),_0x316d3b(0x120),_0x316d3b(0x133),_0x316d3b(0xb0)]);return{'siteName':_0x369dca,'qqNumber':_0x3b122d,'vxNumber':_0xe01b90,'registerBaseUrl':_0x52fb6c,'domain':_0x319174};}async[_0x59f981(0x132)](){const _0x2aafe6=_0x59f981,{phoneRegisterStatus:_0x537c42,aliPhoneAccessKeyId:_0x8ccf32,aliPhoneAccessKeySecret:_0xe3cabc,aliPhoneSignName:_0x4f1f4f,aliPhoneTemplateCode:_0x40fd95}=await this[_0x2aafe6(0x140)](['phoneRegisterStatus',_0x2aafe6(0xd8),_0x2aafe6(0xa8),_0x2aafe6(0xf4),_0x2aafe6(0x129)]);if(Number(_0x537c42)!==0x1)throw new common_1[(_0x2aafe6(0xea))]('手机验证码功能暂未开放!',common_1[_0x2aafe6(0x143)][_0x2aafe6(0xb4)]);return{'accessKeyId':_0x8ccf32,'accessKeySecret':_0xe3cabc,'SignName':_0x4f1f4f,'TemplateCode':_0x40fd95};}async[_0x59f981(0x130)](){const _0x5ca1bb=_0x59f981,{qcloudPhoneRegisterStatus:_0x3f82cd,qcloudSecretId:_0x73744c,qcloudSecretKey:_0x34452d,qcloudPhoneSignName:_0x321c29,qcloudSMSTemplateId:_0x417744,qcloudSMSSDKAppId:_0x4a1212}=await this[_0x5ca1bb(0x140)]([_0x5ca1bb(0x125),_0x5ca1bb(0x97),'qcloudSecretKey',_0x5ca1bb(0x107),'qcloudSMSTemplateId',_0x5ca1bb(0x79)]);if(Number(_0x3f82cd)!==0x1)throw new common_1[(_0x5ca1bb(0xea))]('手机验证码功能暂未开放!',common_1['HttpStatus']['BAD_REQUEST']);return{'secretId':_0x73744c,'secretKey':_0x34452d,'signName':_0x321c29,'templateId':_0x417744,'sdkAppId':_0x4a1212};}[_0x59f981(0x106)](){const _0x3e2d22=_0x59f981;return process[_0x3e2d22(0x111)][_0x3e2d22(0xc9)]||_0x3e2d22(0xd7);}async[_0x59f981(0xaf)](){const _0x42427d=_0x59f981,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x42427d(0x140)](['signInStatus',_0x42427d(0xc5),_0x42427d(0x105),_0x42427d(0x7b)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x42427d(0xea))](_0x42427d(0x9a),common_1[_0x42427d(0x143)]['BAD_REQUEST']);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x59f981(0x11d)](){const _0xfd0015=_0x59f981,_0xe47052=_0xfd0015(0x8b),_0x344696=await fetch(_0xe47052,{}),_0x5267e6=await _0x344696[_0xfd0015(0x9b)](),{success:success=!![],message:_0x482550}=_0x5267e6;common_1[_0xfd0015(0xae)]['error'](_0xfd0015(0x98)),common_1['Logger']['error'](_0xfd0015(0x84)),common_1['Logger'][_0xfd0015(0xf8)](_0xfd0015(0xe6)),common_1['Logger']['error']('缺失ip信息'),common_1[_0xfd0015(0xae)][_0xfd0015(0x12e)](_0xfd0015(0xa7));}async[_0x59f981(0x9f)](){const _0x260112=_0x59f981,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x57b9cb,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x11bf8f,nineaiBuiltInSensitiveAuthKey:_0x3e06bd}=await this[_0x260112(0x140)]([_0x260112(0xc2),_0x260112(0x8f),_0x260112(0xe5),_0x260112(0x85),_0x260112(0x11f)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x260112(0xc3),'baiduTextAccessToken':_0x57b9cb};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x260112(0x76),'nineaiBuiltInSensitiveApiBase':_0x11bf8f,'nineaiBuiltInSensitiveAuthKey':_0x3e06bd};return null;}};GlobalConfigService=__decorate([(0x0,common_1[_0x59f981(0xcf)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(config_entity_1[_0x59f981(0x113)])),__param(0x1,(0x0,typeorm_1[_0x59f981(0xbd)])(chatLog_entity_1[_0x59f981(0xe9)])),__metadata(_0x59f981(0x128),[typeorm_2['Repository'],typeorm_2[_0x59f981(0xb1)],models_service_1[_0x59f981(0xe1)]])],GlobalConfigService),exports[_0x59f981(0x88)]=GlobalConfigService;function _0x453e(){const _0x475d21=['Logger','getSignatureGiftConfig','domain','Repository','setConfig','access_token','BAD_REQUEST','payEpayChannel','length','请配置正确的秘钥、当前秘钥检测不通过！','mjProxy','version','TRUE','filter','payMpayStatus','InjectRepository','includes','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','1521918wBfXrs','gpt','baiduTextStatus','baidu','mpay','signInModel3Count','openaiBaseUrl','modelsService','wechatJsapiTicket','NAMESPACE','log','registerSendModel4Count','save','metadata','&grant_type=client_credentials','Injectable','application/json','12490dDKatl','queryNotice','设置配置信息错误！','wechatRegisterStatus','cos','initGetAllConfig','NINEAI','aliPhoneAccessKeyId','操作完成！','configs','隐私内容、非超级管理员无权查看','getWechatAccessToken','335hhHdZj','appMenuHeaderTips','getNineAiToken','configVal','ModelsService','findOne','salesSeniorRatio','find','nineaiBuiltInSensitiveStatus','缺失ip信息','registerSendDrawMjCount','invitedGuestSendDrawMjCount','ChatLogEntity','HttpException','phoneRegisterStatus','default','896931JotxpK','phoneLoginStatus','isVerifyEmail','registerSendStatus','signInStatus','emailRegisterStatus','&secret=','aliPhoneSignName','payWechatStatus','siteName','copyrightUrl','error','siteRobotName','Key','clientFavoIconPath','chatGptKey:','payWeChatPublicKey','queryPayType','ali','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','filingNumber','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','2664000gtUAAo','__esModule','signInModel4Count','getNamespace','qcloudPhoneSignName','queryConfig','getCopyright','wechat','wechatOfficialAppId','fetchBaseAccessToken','package.json','baiduTextApiKey','&client_secret=','errMsg','env','appMenuHeaderBgUrl','ConfigEntity','firstRegisterSendStatus','payHupiStatus','mjProxyImgUrl','user','1778Ijbzuy','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','getDiffArray','tencent','hupi','auth','function','nineaiBuiltInSensitiveAuthKey','vxNumber','ticket','获取微信access_token失败、错误信息：','./config.entity','mjHideWorkIn','qcloudPhoneRegisterStatus','hideString','payEpayApiPayUrl','design:paramtypes','aliPhoneTemplateCode','createOrUpdate','configKey','wechatOfficialAppSecret','inviteGiveSendDrawMjCount','debug','update','getQcloudPhoneVerifyConfig','wechatSilentLoginStatus','getPhoneVerifyConfig','registerBaseUrl','pay','assign','invitedGuestSendModel4Count','qqNumber','../models/models.service','@nestjs/common','getOwnPropertyDescriptor','noticeTitle','3222YvRXXM','payEpayStatus','forEach','data','getConfigs','firstRegisterSendRank','firstRregisterSendDrawMjCount','HttpStatus','response','copyrightTitle','inviteGiveSendModel4Count','ISDEV','parse','fetchJsapiTicket','@nestjs/typeorm','object','clientLogoPath','nineai','payWeChatPrivateKey','decorate','qcloudSMSSDKAppId','globalConfigs','signInMjDrawToken','readFileSync','invitedGuestSendModel3Count','chatLogEntity','wechatAccessToken','Like','companyName','salesBaseRatio','支付功能暂未开放!','请填写您的授权码','nineaiBuiltInSensitiveApiBase','registerSendModel3Count','emailLoginStatus','GlobalConfigService','../../common/utils','2269344yEnSAf','https://api.jiangly.com/api/permission/auth','defineProperty','utf-8','queryAllConfig','baiduTextAccessToken','https://aip.baidubce.com/oauth/2.0/token?client_id=','设置完成！','nineAiToken','onModuleInit','mjUseBaiduFy','configEntity','queryGptKeys','qcloudSecretId','请按要求填写正确的授权信息','qcloudPhoneLoginStatus','签到功能暂未开放!','json','../chatLog/chatLog.entity','chatGptKey','baiduTextSecretKey','getSensitiveConfig','MjdrawCount','firstRregisterSendModel3Count','OfficialService','epay','get','super','reduce','感谢您使用NineAi、祝您使用愉快~','aliPhoneAccessKeySecret','queryFrontConfig','initBaiduSensitive','setGptKeys','260gBdGNC','15772PhnGLe'];_0x453e=function(){return _0x475d21;};return _0x453e();}