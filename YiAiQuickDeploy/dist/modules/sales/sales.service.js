'use strict';function _0x1202(_0x4c43ae,_0x533e6b){const _0x2589bc=_0x2589();return _0x1202=function(_0x1202f0,_0x1d3a1f){_0x1202f0=_0x1202f0-0x91;let _0x4a81ff=_0x2589bc[_0x1202f0];return _0x4a81ff;},_0x1202(_0x4c43ae,_0x533e6b);}const _0x3e5967=_0x1202;(function(_0x57091a,_0x4a9b18){const _0x1257fd=_0x1202,_0x1d5193=_0x57091a();while(!![]){try{const _0x3c3579=parseInt(_0x1257fd(0xbb))/0x1+parseInt(_0x1257fd(0xde))/0x2*(-parseInt(_0x1257fd(0xdc))/0x3)+parseInt(_0x1257fd(0xb2))/0x4+parseInt(_0x1257fd(0xdd))/0x5+parseInt(_0x1257fd(0xb4))/0x6*(parseInt(_0x1257fd(0xf7))/0x7)+-parseInt(_0x1257fd(0xff))/0x8+-parseInt(_0x1257fd(0x9e))/0x9;if(_0x3c3579===_0x4a9b18)break;else _0x1d5193['push'](_0x1d5193['shift']());}catch(_0x4fa227){_0x1d5193['push'](_0x1d5193['shift']());}}}(_0x2589,0x2fd0f));var __decorate=this&&this[_0x3e5967(0xdf)]||function(_0x178e91,_0x3b450f,_0x18e9f7,_0xe009b3){const _0xbdee33=_0x3e5967;var _0x5c4af9=arguments[_0xbdee33(0xba)],_0x270f1d=_0x5c4af9<0x3?_0x3b450f:_0xe009b3===null?_0xe009b3=Object['getOwnPropertyDescriptor'](_0x3b450f,_0x18e9f7):_0xe009b3,_0x1e861d;if(typeof Reflect===_0xbdee33(0xca)&&typeof Reflect[_0xbdee33(0xa2)]===_0xbdee33(0xc1))_0x270f1d=Reflect[_0xbdee33(0xa2)](_0x178e91,_0x3b450f,_0x18e9f7,_0xe009b3);else{for(var _0x2b4049=_0x178e91[_0xbdee33(0xba)]-0x1;_0x2b4049>=0x0;_0x2b4049--)if(_0x1e861d=_0x178e91[_0x2b4049])_0x270f1d=(_0x5c4af9<0x3?_0x1e861d(_0x270f1d):_0x5c4af9>0x3?_0x1e861d(_0x3b450f,_0x18e9f7,_0x270f1d):_0x1e861d(_0x3b450f,_0x18e9f7))||_0x270f1d;}return _0x5c4af9>0x3&&_0x270f1d&&Object['defineProperty'](_0x3b450f,_0x18e9f7,_0x270f1d),_0x270f1d;},__metadata=this&&this[_0x3e5967(0xe7)]||function(_0x41ef97,_0x52a306){const _0xae9067=_0x3e5967;if(typeof Reflect===_0xae9067(0xca)&&typeof Reflect[_0xae9067(0xfb)]==='function')return Reflect[_0xae9067(0xfb)](_0x41ef97,_0x52a306);},__param=this&&this[_0x3e5967(0xf4)]||function(_0x3f01e7,_0x18d88a){return function(_0x124fb1,_0x4eeb92){_0x18d88a(_0x124fb1,_0x4eeb92,_0x3f01e7);};};function _0x2589(){const _0x5b12f2=['__param','GlobalConfigService','审核失败','7CFurkl','salesOutletName','findAndCount','HttpStatus','metadata','salesBaseRatio','toNumber','log','178992mWXFrK','审核完成','salesBaseTitle','auditUserId','drawMoneyOrder','plus','../user/user.entity','withdrawalChannels','xxxxxxx','orderStatus','HttpException','includes','createSalesRecords','super','error:\x20','1800927usDryg','新秀分销商','inviterAvatar','createOrder','decorate','userEntity','count','hideString','user','assign','userId','findOne','DESC','./salesUsers.entity','update','salesOrder','提现金额不足','username','SalesService','该工单已审核过','208108gDqzEb','UserEntity','1918614gHjwwo','../globalConfig/globalConfig.service','affected','withdrawalAmount','saveCommissionAmount','minus','length','20183oedBde','avatar','inviterEmail','inviteRecords','getMineRecords','changeUserBaseSalesInfo','function','./salesOrder.entity','find','inviteeUsername','default','salesRecordsEntity','typeorm','@nestjs/typeorm','inviterUserId','object','inviterUsername','totalAmount,\x20distributionBalance:\x20','@nestjs/common','forEach','创建提现工单失败','InjectRepository','__esModule','Repository','inviteeEmail','design:paramtypes','creaetUserBaseSalesInfo','defineProperty','userInfo','salesOrderEntity','salesUsersEntity','role','email','369DEUaKc','211715wXrbOZ','260kUnbmf','__decorate','提现金额必须为数字且大于0','push','auditOrder','save','updateUserSales','SalesRecordsEntity','salesAllowDrawMoney','__metadata','Injectable','auditUserName','BAD_REQUEST','inviteeUserId','globalConfigService','SalesOrderEntity','SalesUsersEntity','修改失败','map','提现金额最低必须为','getConfigs','formatCreateOrUpdateDate'];_0x2589=function(){return _0x5b12f2;};return _0x2589();}Object[_0x3e5967(0xd6)](exports,_0x3e5967(0xd1),{'value':!![]}),exports[_0x3e5967(0xb0)]=void 0x0;const globalConfig_service_1=require(_0x3e5967(0xb5)),common_1=require(_0x3e5967(0xcd)),salesUsers_entity_1=require(_0x3e5967(0xab)),typeorm_1=require(_0x3e5967(0xc8)),typeorm_2=require(_0x3e5967(0xc7)),salesRecords_entity_1=require('./salesRecords.entity'),utils_1=require('../../common/utils'),user_entity_1=require(_0x3e5967(0x95)),decimal_js_1=require('decimal.js'),salesOrder_entity_1=require(_0x3e5967(0xc2));let SalesService=class SalesService{constructor(_0xc791cc,_0x2849c8,_0x49a0f5,_0x37b89a,_0x32c952){const _0x20062e=_0x3e5967;this[_0x20062e(0xd9)]=_0xc791cc,this[_0x20062e(0xc6)]=_0x2849c8,this[_0x20062e(0xa3)]=_0x49a0f5,this[_0x20062e(0xd8)]=_0x37b89a,this[_0x20062e(0xec)]=_0x32c952;}async['getMineAccount'](_0x4da07b){const _0x2b8473=_0x3e5967;try{const {id:_0x5eb473}=_0x4da07b[_0x2b8473(0xa6)];let _0x30d0fa=await this[_0x2b8473(0xd9)][_0x2b8473(0xa9)]({'where':{'userId':_0x5eb473}});if(!_0x30d0fa){const {salesBaseRatio:salesBaseRatio=0xa,salesBaseTitle:salesBaseTitle=_0x2b8473(0x9f)}=await this['globalConfigService'][_0x2b8473(0xf2)]([_0x2b8473(0xfc),_0x2b8473(0x91)]);_0x30d0fa=await this[_0x2b8473(0xd5)]({'userId':_0x5eb473,'performanceRatio':Number(salesBaseRatio),'salesOutletName':salesBaseTitle});}const _0x33dfff=(0x0,utils_1[_0x2b8473(0xf3)])(_0x30d0fa),_0x25cea7=await this[_0x2b8473(0xc6)][_0x2b8473(0xa4)]({'where':{'inviterUserId':_0x5eb473}}),_0x57df87=await this[_0x2b8473(0xa3)]['findOne']({'where':{'id':_0x5eb473}})||{'inviteLinkCount':0x0,'inviteCode':_0x2b8473(0x97)},{inviteLinkCount:_0x9fb13e,inviteCode:_0x33ea4b}=_0x57df87,_0x544fef=await this['userEntity'][_0x2b8473(0xa4)]({'where':{'invitedBy':_0x33ea4b}});return Object[_0x2b8473(0xa7)](Object['assign']({},_0x33dfff),{'orderCount':_0x25cea7,'inviteCount':_0x544fef,'inviteLinkCount':_0x9fb13e});}catch(_0x22b5ba){console[_0x2b8473(0xfe)](_0x2b8473(0x9d),_0x22b5ba);}}async[_0x3e5967(0xbf)](_0x462ffe,_0x25fb33){const _0x743e48=_0x3e5967;try{const {id:_0x3d86aa}=_0x462ffe[_0x743e48(0xa6)],{page:_0x50f955,size:_0x205cb9}=_0x25fb33,[_0x2aa414,_0x8198c7]=await this[_0x743e48(0xc6)][_0x743e48(0xf9)]({'where':{'inviterUserId':_0x3d86aa},'order':{'createdAt':_0x743e48(0xaa)},'skip':(_0x50f955-0x1)*_0x205cb9,'take':_0x205cb9});return{'rows':(0x0,utils_1[_0x743e48(0xf3)])(_0x2aa414),'count':_0x8198c7};}catch(_0x326546){console[_0x743e48(0xfe)](_0x743e48(0x9d),_0x326546);}}async[_0x3e5967(0xbe)](_0x41163e,_0x120c47){const _0x41cc94=_0x3e5967;try{const {page:_0x141e59,size:_0x34ffe9,orderId:_0x152266,orderPrice:_0x3ca003}=_0x120c47;let _0x52fe3b={};_0x152266&&(_0x52fe3b={'orderId':_0x152266}),_0x3ca003&&(_0x52fe3b={'orderPrice':_0x3ca003});const [_0x58b7a5,_0xecad3f]=await this['salesRecordsEntity']['findAndCount']({'where':_0x52fe3b,'order':{'createdAt':'DESC'},'skip':(_0x141e59-0x1)*_0x34ffe9,'take':_0x34ffe9}),_0x23fb66=[];_0x58b7a5[_0x41cc94(0xf0)](_0x42aba6=>{const _0x592e65=_0x41cc94;_0x23fb66['push'](_0x42aba6[_0x592e65(0xc9)]),_0x23fb66[_0x592e65(0xe1)](_0x42aba6[_0x592e65(0xeb)]);});const _0x2712d3=await this[_0x41cc94(0xa3)][_0x41cc94(0xc3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x23fb66)}});return _0x58b7a5[_0x41cc94(0xce)](_0x2208c4=>{const _0x4bf4f9=_0x41cc94,_0x250cc3=_0x2712d3[_0x4bf4f9(0xc3)](_0x34db46=>_0x34db46['id']===_0x2208c4[_0x4bf4f9(0xc9)]),_0x530210=_0x2712d3[_0x4bf4f9(0xc3)](_0x4a92d3=>_0x4a92d3['id']===_0x2208c4[_0x4bf4f9(0xeb)]),{username:_0x4d3714,email:_0x5815a0,avatar:_0x2254cf}=_0x2712d3[_0x4bf4f9(0xc3)](_0xc414a7=>_0xc414a7['id']===_0x2208c4['inviterUserId']);_0x2208c4[_0x4bf4f9(0xcb)]=_0x250cc3===null||_0x250cc3===void 0x0?void 0x0:_0x250cc3[_0x4bf4f9(0xaf)],_0x2208c4[_0x4bf4f9(0xbd)]=_0x250cc3===null||_0x250cc3===void 0x0?void 0x0:_0x250cc3[_0x4bf4f9(0xdb)],_0x2208c4[_0x4bf4f9(0xa0)]=_0x250cc3===null||_0x250cc3===void 0x0?void 0x0:_0x250cc3[_0x4bf4f9(0xbc)],_0x2208c4[_0x4bf4f9(0xc4)]=_0x530210===null||_0x530210===void 0x0?void 0x0:_0x530210[_0x4bf4f9(0xaf)],_0x2208c4[_0x4bf4f9(0xd3)]=_0x530210===null||_0x530210===void 0x0?void 0x0:_0x530210[_0x4bf4f9(0xdb)],_0x2208c4['inviteeAvatar']=_0x530210===null||_0x530210===void 0x0?void 0x0:_0x530210['avatar'];}),_0x41163e[_0x41cc94(0xa6)][_0x41cc94(0xda)]!==_0x41cc94(0x9c)&&_0x58b7a5['forEach'](_0x383818=>{const _0x575636=_0x41cc94;_0x383818[_0x575636(0xbd)]=_0x383818[_0x575636(0xbd)]?(0x0,utils_1[_0x575636(0xa5)])(_0x383818['inviterEmail']):'',_0x383818[_0x575636(0xd3)]=_0x383818[_0x575636(0xd3)]?(0x0,utils_1[_0x575636(0xa5)])(_0x383818[_0x575636(0xd3)]):'';}),{'rows':(0x0,utils_1['formatCreateOrUpdateDate'])(_0x58b7a5),'count':_0xecad3f};}catch(_0x5e5d70){console[_0x41cc94(0xfe)](_0x41cc94(0x9d),_0x5e5d70);}}async[_0x3e5967(0xd5)](_0x4ecb9a){const _0x299749=_0x3e5967,{userId:_0x144ab4,performanceRatio:_0x540694,salesOutletName:_0x28bdbf}=_0x4ecb9a;return await this[_0x299749(0xd9)]['save']({'userId':_0x144ab4,'performanceRatio':_0x540694,'salesOutletName':_0x28bdbf});}async[_0x3e5967(0xc0)](_0xf0cb09){const _0x2cb340=_0x3e5967;return await this[_0x2cb340(0xd9)][_0x2cb340(0xe3)](_0xf0cb09);}async[_0x3e5967(0x9b)](_0x24ed6f){const _0x260166=_0x3e5967;return await this[_0x260166(0xc6)]['save'](_0x24ed6f);}async[_0x3e5967(0xb8)](_0x3e4164,_0xfe5b86){const _0x1d3a86=_0x3e5967,_0x283802=await this[_0x1d3a86(0xd9)][_0x1d3a86(0xa9)]({'where':{'userId':_0x3e4164}});if(!_0x283802)return;const {totalAmount:_0x294538,distributionBalance:_0x373102}=_0x283802;return console['log'](_0x1d3a86(0xcc),_0x294538,_0x373102),await this[_0x1d3a86(0xd9)][_0x1d3a86(0xac)]({'userId':_0x3e4164},{'totalAmount':new decimal_js_1[(_0x1d3a86(0xc5))](_0x294538)[_0x1d3a86(0x94)](_0xfe5b86)['toNumber'](),'distributionBalance':new decimal_js_1[(_0x1d3a86(0xc5))](_0x373102)[_0x1d3a86(0x94)](_0xfe5b86)[_0x1d3a86(0xfd)]()});}async['appForMoney'](_0x54d158,_0xe4a868){const _0x393252=_0x3e5967,{id:_0x52c66a}=_0x54d158['user'],{withdrawalAmount:_0x325581,withdrawalChannels:_0x18e877,contactInformation:_0x391fed,remark:_0x182a0d}=_0xe4a868,_0xba69b7=await this['globalConfigService'][_0x393252(0xf2)]([_0x393252(0xe6)])||0xa;if(typeof _0x325581!=='number'||_0x325581<=0x0)throw new common_1[(_0x393252(0x99))](_0x393252(0xe0),common_1['HttpStatus'][_0x393252(0xea)]);if(Number(_0x325581)<Number(_0xba69b7))throw new common_1[(_0x393252(0x99))](_0x393252(0xf1)+_0xba69b7+'元',common_1[_0x393252(0xfa)]['BAD_REQUEST']);const _0xa39f15=await this[_0x393252(0xd9)]['findOne']({'where':{'userId':_0x52c66a}}),{distributionBalance:_0x4cbc0d,drawMoneyIn:_0x1b6c4b}=_0xa39f15;if(Number(_0x4cbc0d)<Number(_0x325581))throw new common_1[(_0x393252(0x99))](_0x393252(0xae),common_1[_0x393252(0xfa)][_0x393252(0xea)]);const _0x92fc76=new decimal_js_1[(_0x393252(0xc5))](_0x4cbc0d)[_0x393252(0xb9)](_0x325581)[_0x393252(0xfd)](),_0x58e188={'userId':_0x52c66a,'withdrawalAmount':_0x325581,'orderStatus':0x0,'auditStatus':0x0,'withdrawalChannels':_0x18e877,'contactInformation':_0x391fed,'remark':_0x182a0d};await this['createOrder'](_0x58e188);const _0x3be565=await this[_0x393252(0xd9)][_0x393252(0xac)]({'userId':_0x52c66a},{'distributionBalance':_0x92fc76,'drawMoneyIn':new decimal_js_1['default'](_0x1b6c4b)['plus'](_0x325581)[_0x393252(0xfd)]()});}async[_0x3e5967(0x93)](_0x25b7e9,_0x321756){const _0xf21bf3=_0x3e5967,{id:_0x4557a7}=_0x25b7e9[_0xf21bf3(0xa6)],{page:_0x542419,size:_0x2df49a}=_0x321756,[_0x5b59e9,_0x1801af]=await this[_0xf21bf3(0xd8)][_0xf21bf3(0xf9)]({'where':{'userId':_0x4557a7},'order':{'createdAt':_0xf21bf3(0xaa)},'skip':(_0x542419-0x1)*_0x2df49a,'take':_0x2df49a}),_0x40cd61=_0x5b59e9['map'](_0x294fe3=>_0x294fe3[_0xf21bf3(0x92)]),_0x304e79=await this[_0xf21bf3(0xa3)][_0xf21bf3(0xc3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x40cd61)}});return _0x5b59e9[_0xf21bf3(0xce)](_0xe99bc5=>{const _0x5838ed=_0xf21bf3,_0x453c29=_0x304e79['find'](_0x1b50c0=>_0x1b50c0['id']===_0xe99bc5['auditUserId']);_0xe99bc5[_0x5838ed(0xe9)]=_0x453c29?_0x453c29[_0x5838ed(0xaf)]:'';}),{'rows':(0x0,utils_1[_0xf21bf3(0xf3)])(_0x5b59e9),'count':_0x1801af};}async[_0x3e5967(0xad)](_0x350e59,_0x307371){const _0x4be62d=_0x3e5967,{page:_0x371651,size:_0x541c28}=_0x307371,_0x446fef={};_0x307371[_0x4be62d(0x98)]!==undefined&&_0x307371[_0x4be62d(0x98)]!==''&&(_0x446fef[_0x4be62d(0x98)]=_0x307371[_0x4be62d(0x98)]),_0x307371[_0x4be62d(0x96)]&&(_0x446fef['withdrawalChannels']=_0x307371[_0x4be62d(0x96)]);const [_0x23a46e,_0x1b8c3a]=await this['salesOrderEntity']['findAndCount']({'where':_0x446fef,'order':{'createdAt':_0x4be62d(0xaa)},'skip':(_0x371651-0x1)*_0x541c28,'take':_0x541c28}),_0x1af4e6=_0x23a46e[_0x4be62d(0xf0)](_0x408033=>_0x408033[_0x4be62d(0xa8)]),_0x5ce03a=await this['userEntity'][_0x4be62d(0xc3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x1af4e6)}});return _0x23a46e[_0x4be62d(0xce)](_0x91d5ff=>{const _0x57083d=_0x4be62d,_0x1abc64=_0x5ce03a['find'](_0x271739=>_0x271739['id']===_0x91d5ff[_0x57083d(0xa8)]);if(_0x1abc64){const {username:_0x1db951,email:_0x3de1cd,avatar:_0x153684}=_0x1abc64;_0x91d5ff[_0x57083d(0xd7)]={'username':_0x1db951,'avatar':_0x153684,'email':(0x0,utils_1[_0x57083d(0xa5)])(_0x3de1cd)};}}),{'rows':(0x0,utils_1[_0x4be62d(0xf3)])(_0x23a46e),'count':_0x1b8c3a};}async[_0x3e5967(0xa1)](_0x11dd5d){const _0x136a9c=_0x3e5967;try{return await this[_0x136a9c(0xd8)][_0x136a9c(0xe3)](_0x11dd5d);}catch(_0x2d5f59){console[_0x136a9c(0xfe)]('error:\x20',_0x2d5f59);throw new common_1[(_0x136a9c(0x99))](_0x136a9c(0xcf),common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x3e5967(0xe2)](_0x5a6771,_0x49d75e){const _0x309734=_0x3e5967;try{const {id:_0x26bade}=_0x5a6771['user'],{id:_0x1433f0,status:_0x844b9e}=_0x49d75e;if(![0x1,-0x1][_0x309734(0x9a)](_0x844b9e))throw new common_1[(_0x309734(0x99))]('审核状态错误',common_1[_0x309734(0xfa)][_0x309734(0xea)]);const _0x104d64=await this[_0x309734(0xd8)]['findOne']({'where':{'id':_0x1433f0}});if(_0x104d64['orderStatus']!==0x0)throw new common_1[(_0x309734(0x99))](_0x309734(0xb1),common_1['HttpStatus'][_0x309734(0xea)]);const _0x1049a2=await this[_0x309734(0xd9)][_0x309734(0xa9)]({'where':{'userId':_0x104d64['userId']}}),{withdrawalAmount:_0x2611a3,drawMoneyIn:_0x264317}=_0x1049a2,_0x1e86d4=new decimal_js_1['default'](_0x2611a3)[_0x309734(0x94)](_0x104d64[_0x309734(0xb7)])['toNumber'](),_0xa8952a=new decimal_js_1[(_0x309734(0xc5))](_0x264317)[_0x309734(0xb9)](_0x104d64[_0x309734(0xb7)])[_0x309734(0xfd)]();return await this[_0x309734(0xd9)][_0x309734(0xac)]({'userId':_0x104d64[_0x309734(0xa8)]},{'withdrawalAmount':_0x1e86d4,'drawMoneyIn':_0xa8952a}),await this[_0x309734(0xd8)][_0x309734(0xac)]({'id':_0x1433f0},{'orderStatus':_0x844b9e,'auditStatus':_0x844b9e,'auditUserId':_0x26bade,'paymentStatus':_0x844b9e}),_0x309734(0x100);}catch(_0x2b5d61){console[_0x309734(0xfe)](_0x309734(0x9d),_0x2b5d61);throw new common_1[(_0x309734(0x99))](_0x309734(0xf6),common_1[_0x309734(0xfa)][_0x309734(0xea)]);}}async['salesUserList'](_0x51c80a,_0x379305){const _0x22542d=_0x3e5967,{page:_0x4cc4a1,size:_0x299378,salesOutletName:_0x2c9831,performanceRatio:_0x78698d}=_0x379305,_0xdfc68a={};_0x2c9831&&(_0xdfc68a[_0x22542d(0xf8)]=(0x0,typeorm_2['Like'])('%'+_0x2c9831+'%')),_0x78698d&&(_0xdfc68a['performanceRatio']=_0x78698d);const [_0x492e3f,_0x1b7550]=await this[_0x22542d(0xd9)]['findAndCount']({'where':_0xdfc68a,'order':{'id':_0x22542d(0xaa)},'skip':(_0x4cc4a1-0x1)*_0x299378,'take':_0x299378}),_0x1b6f4e=_0x492e3f['map'](_0x1f1256=>_0x1f1256[_0x22542d(0xa8)]),_0x533daf=await this[_0x22542d(0xa3)]['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x1b6f4e)}});return _0x492e3f[_0x22542d(0xce)](_0x57152d=>{const _0x365aa1=_0x22542d,_0x48aee2=_0x533daf[_0x365aa1(0xc3)](_0x42b057=>_0x42b057['id']===_0x57152d[_0x365aa1(0xa8)]);_0x57152d[_0x365aa1(0xd7)]=_0x48aee2?_0x48aee2:{};}),_0x51c80a[_0x22542d(0xa6)][_0x22542d(0xda)]!==_0x22542d(0x9c)&&_0x492e3f[_0x22542d(0xce)](_0x4da453=>{const _0x515fad=_0x22542d;var _0x25256b,_0x3c7b22;_0x4da453[_0x515fad(0xd7)][_0x515fad(0xdb)]=((_0x25256b=_0x4da453['userInfo'])===null||_0x25256b===void 0x0?void 0x0:_0x25256b['email'])?(0x0,utils_1[_0x515fad(0xa5)])((_0x3c7b22=_0x4da453['userInfo'])===null||_0x3c7b22===void 0x0?void 0x0:_0x3c7b22[_0x515fad(0xdb)]):'';}),{'rows':_0x492e3f,'count':_0x1b7550};}async[_0x3e5967(0xe4)](_0xcbc7d8,_0x21e4eb){const _0x20ffd1=_0x3e5967,{performanceRatio:_0x101cc7,salesOutletName:_0x566fff,userId:_0x459e19}=_0x21e4eb,_0x3b0232=await this['salesUsersEntity'][_0x20ffd1(0xa9)]({'where':{'userId':_0x459e19}});if(!_0x3b0232)throw new common_1[(_0x20ffd1(0x99))]('用户不存在',common_1[_0x20ffd1(0xfa)]['BAD_REQUEST']);const _0x1f75d8=await this[_0x20ffd1(0xd9)]['update']({'userId':_0x459e19},{'performanceRatio':_0x101cc7,'salesOutletName':_0x566fff});if(_0x1f75d8[_0x20ffd1(0xb6)]>0x0)return'修改成功';else throw new common_1[(_0x20ffd1(0x99))](_0x20ffd1(0xef),common_1[_0x20ffd1(0xfa)][_0x20ffd1(0xea)]);}};SalesService=__decorate([(0x0,common_1[_0x3e5967(0xe8)])(),__param(0x0,(0x0,typeorm_1[_0x3e5967(0xd0)])(salesUsers_entity_1[_0x3e5967(0xee)])),__param(0x1,(0x0,typeorm_1[_0x3e5967(0xd0)])(salesRecords_entity_1[_0x3e5967(0xe5)])),__param(0x2,(0x0,typeorm_1[_0x3e5967(0xd0)])(user_entity_1[_0x3e5967(0xb3)])),__param(0x3,(0x0,typeorm_1[_0x3e5967(0xd0)])(salesOrder_entity_1[_0x3e5967(0xed)])),__metadata(_0x3e5967(0xd4),[typeorm_2[_0x3e5967(0xd2)],typeorm_2[_0x3e5967(0xd2)],typeorm_2[_0x3e5967(0xd2)],typeorm_2['Repository'],globalConfig_service_1[_0x3e5967(0xf5)]])],SalesService),exports[_0x3e5967(0xb0)]=SalesService;