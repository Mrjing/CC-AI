'use strict';const _0x188c4f=_0xc26b;(function(_0x28fc7a,_0x4c0263){const _0x15698c=_0xc26b,_0x1eb3e0=_0x28fc7a();while(!![]){try{const _0x53015c=-parseInt(_0x15698c(0x21d))/0x1+-parseInt(_0x15698c(0x1d9))/0x2*(parseInt(_0x15698c(0x1d6))/0x3)+parseInt(_0x15698c(0x220))/0x4*(parseInt(_0x15698c(0x1f8))/0x5)+parseInt(_0x15698c(0x207))/0x6*(-parseInt(_0x15698c(0x1e2))/0x7)+parseInt(_0x15698c(0x1e5))/0x8*(parseInt(_0x15698c(0x1e9))/0x9)+-parseInt(_0x15698c(0x1dc))/0xa*(parseInt(_0x15698c(0x1cf))/0xb)+parseInt(_0x15698c(0x20c))/0xc;if(_0x53015c===_0x4c0263)break;else _0x1eb3e0['push'](_0x1eb3e0['shift']());}catch(_0x3616e7){_0x1eb3e0['push'](_0x1eb3e0['shift']());}}}(_0x3b05,0xc9cfa));var __decorate=this&&this[_0x188c4f(0x221)]||function(_0x2dd815,_0x104911,_0x58bc12,_0x469aa2){const _0x46d740=_0x188c4f;var _0x490d64=arguments['length'],_0x24fd54=_0x490d64<0x3?_0x104911:_0x469aa2===null?_0x469aa2=Object[_0x46d740(0x1e1)](_0x104911,_0x58bc12):_0x469aa2,_0x58c93e;if(typeof Reflect==='object'&&typeof Reflect[_0x46d740(0x21a)]==='function')_0x24fd54=Reflect[_0x46d740(0x21a)](_0x2dd815,_0x104911,_0x58bc12,_0x469aa2);else{for(var _0x3d4c51=_0x2dd815[_0x46d740(0x224)]-0x1;_0x3d4c51>=0x0;_0x3d4c51--)if(_0x58c93e=_0x2dd815[_0x3d4c51])_0x24fd54=(_0x490d64<0x3?_0x58c93e(_0x24fd54):_0x490d64>0x3?_0x58c93e(_0x104911,_0x58bc12,_0x24fd54):_0x58c93e(_0x104911,_0x58bc12))||_0x24fd54;}return _0x490d64>0x3&&_0x24fd54&&Object[_0x46d740(0x1d1)](_0x104911,_0x58bc12,_0x24fd54),_0x24fd54;},__metadata=this&&this[_0x188c4f(0x1c3)]||function(_0xdda48e,_0x5f488e){const _0x10f21d=_0x188c4f;if(typeof Reflect===_0x10f21d(0x223)&&typeof Reflect[_0x10f21d(0x1e8)]===_0x10f21d(0x200))return Reflect[_0x10f21d(0x1e8)](_0xdda48e,_0x5f488e);};Object[_0x188c4f(0x1d1)](exports,_0x188c4f(0x203),{'value':!![]}),exports[_0x188c4f(0x1f6)]=void 0x0;function _0x3b05(){const _0x4d1152=['创建默认网站配置失败！','function',']、初始密码为[','registerSuccessEmailTeamName','__esModule','inviteGiveSendModel4Count','connection','registerFailEmailTitle','30MJKYMM','inviteGiveSendDrawMjCount','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27','Connection','registerSendModel3Count','29573280dMdKAY','vxNumber','admin','query','noticeInfo','registerSendDrawMjCount','\x27,\x200,\x201000,\x20100)','createDefaultUser','baiduToken','invitedGuestSendDrawMjCount','inviteGiveSendModel3Count','registerSendStatus','typeorm','registerVerifyExpir','decorate','\x0a####\x20YiAi\x20欢迎您\x0a\x20-\x20欢迎使用YiAi\x0a\x20-\x20初始管理员账号密码\x20\x20super\x20\x20123456\x20【前台后台登录都可以修改】\x0a\x20-\x20初始预览账号密码\x20\x20admin\x20\x20123456\x20【为后台查看账号\x20仅可查看部分非敏感数据】\x0a','registerSuccessEmaileAppend','1476623noqSMq','registerVerifyEmailTitle','Logger','32hAvlBa','__decorate','isVerifyEmail','object','length','public','super','openaiBaseUrl','registerVerifyEmailFrom','HttpException','Yi\x20Ai团队','insertId','userDefautlAvatar','__metadata','onModuleInit','创建默认超级管理员失败！',',请妥善保管您的账号，祝您使用愉快','registerSendModel4Count','500','createBaseSiteConfig','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','bcryptjs',']\x20==============>\x20请注意查阅','用户成功、用户名为[','error:\x20','7062XxbCct','firstRregisterSendDrawMjCount','defineProperty','configKey','join','design:paramtypes','buyCramiAddress','417ttRHex','初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅','checkSuperAdmin','6622ikLvrW','123456','Yi\x20Ai','3560NiRDgB','INTERNAL_SERVER_ERROR','log','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20(','invitedGuestSendModel4Count','getOwnPropertyDescriptor','1652770qLYSKJ','INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20','map','112yPJZyk','count','encry','metadata','729090suRFZH','robotAvatar','firstRregisterSendModel3Count','replace','HttpStatus','nine-super','\x27,\x20\x27','registerSuccessEmailTitle','firstRegisterSendRank','qqNumber','default@cooper.com','@nestjs/common','1800','DatabaseService','hashSync','358745SAEnUo','Injectable','Yi\x20Ai账号激活成功','checkSiteBaseConfig','invitedGuestSendModel3Count','欢迎使用Yi\x20Ai团队的产品服务,请在五分钟内完成你的账号激活,点击以下按钮激活您的账号，','firstRegisterSendStatus'];_0x3b05=function(){return _0x4d1152;};return _0x3b05();}const common_1=require(_0x188c4f(0x1f4)),typeorm_1=require(_0x188c4f(0x218)),bcrypt=require(_0x188c4f(0x1cb));let DatabaseService=class DatabaseService{constructor(_0x5037c1){const _0x593e17=_0x188c4f;this[_0x593e17(0x205)]=_0x5037c1;}async[_0x188c4f(0x1c4)](){const _0x56a087=_0x188c4f;await this[_0x56a087(0x1d8)](),await this[_0x56a087(0x1fb)]();}async[_0x188c4f(0x1d8)](){const _0x1b564c=_0x188c4f,_0xd60fc3=await this[_0x1b564c(0x205)][_0x1b564c(0x20f)](_0x1b564c(0x209));if(!_0xd60fc3||_0xd60fc3[_0x1b564c(0x224)]===0x0){const _0x5130e0=bcrypt[_0x1b564c(0x1f7)](_0x1b564c(0x1da),0xa),_0x2ef88f=bcrypt['hashSync']('123456',0xa),_0x494f2d=_0x1b564c(0x1f3),_0x52c4b3='defaultAdmin@cooper.com',_0xe4ad53={'username':_0x1b564c(0x1bc),'password':_0x5130e0,'status':0x1,'email':_0x494f2d,'sex':0x1,'role':_0x1b564c(0x1bc)},_0xdf0dcb={'username':'admin','password':_0x2ef88f,'status':0x1,'email':_0x52c4b3,'sex':0x1,'role':_0x1b564c(0x20e)};await this[_0x1b564c(0x213)](_0xe4ad53),await this[_0x1b564c(0x213)](_0xdf0dcb);}}async[_0x188c4f(0x213)](_0x387335){const _0x1754ea=_0x188c4f;try{const {username:_0x273083,password:_0x549afd,status:_0x3383e6,email:_0x2b3d85,role:_0x1714de}=_0x387335,_0x401892=await this['connection'][_0x1754ea(0x20f)](_0x1754ea(0x1ca)+_0x273083+_0x1754ea(0x1ef)+_0x549afd+_0x1754ea(0x1ef)+_0x3383e6+_0x1754ea(0x1ef)+_0x2b3d85+_0x1754ea(0x1ef)+_0x1714de+'\x27)'),_0x15f746=_0x401892[_0x1754ea(0x1c1)],_0x43e99e=await this[_0x1754ea(0x205)][_0x1754ea(0x20f)]('INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27'+_0x15f746+_0x1754ea(0x212));common_1['Logger'][_0x1754ea(0x1de)]('初始化创建'+_0x1714de+_0x1754ea(0x1cd)+_0x273083+_0x1754ea(0x201)+(_0x273083===_0x1754ea(0x1bc)?_0x1754ea(0x1ee):_0x1754ea(0x1da))+_0x1754ea(0x1cc),_0x1754ea(0x1f6));}catch(_0x457a58){console['log'](_0x1754ea(0x1ce),_0x457a58);throw new common_1[(_0x1754ea(0x1bf))](_0x1754ea(0x1c5),common_1[_0x1754ea(0x1ed)][_0x1754ea(0x1dd)]);}}async[_0x188c4f(0x1fb)](){const _0x276132=_0x188c4f,_0x5bee73=['siteName',_0x276132(0x1f2),_0x276132(0x20d),_0x276132(0x1ea),_0x276132(0x1c2)],_0x19efd9=await this[_0x276132(0x205)][_0x276132(0x20f)](_0x276132(0x1df)+_0x5bee73[_0x276132(0x1e4)](_0xf3325b=>'\x27'+_0xf3325b+'\x27')[_0x276132(0x1d3)](',')+')\x0a'),_0x5c241b=parseInt(_0x19efd9[0x0][_0x276132(0x1e6)]);_0x5c241b===0x0&&await this[_0x276132(0x1c9)]();}async['createBaseSiteConfig'](){const _0x5dffd2=_0x188c4f;try{const _0x579083='',_0x157794=_0x5dffd2(0x21b),_0x3c9246=[{'configKey':'siteName','configVal':_0x5dffd2(0x1db),'public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1f2),'configVal':'805239273','public':0x1,'encry':0x0},{'configKey':'vxNumber','configVal':'HelloWordYi819','public':0x1,'encry':0x0},{'configKey':'robotAvatar','configVal':'','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1c2),'configVal':'','public':0x0,'encry':0x0},{'configKey':'baiduCode','configVal':_0x579083,'public':0x1,'encry':0x0},{'configKey':'baiduSiteId','configVal':'','public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x214),'configVal':'','public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x1d5),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1bd),'configVal':'https://api.openai.com','public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x210),'configVal':_0x157794,'public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x21e),'configVal':'Yi\x20Ai团队账号验证','public':0x0,'encry':0x0},{'configKey':'registerVerifyEmailDesc','configVal':_0x5dffd2(0x1fd),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x1be),'configVal':_0x5dffd2(0x1c0),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x219),'configVal':_0x5dffd2(0x1f5),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x1f0),'configVal':_0x5dffd2(0x1fa),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x202),'configVal':_0x5dffd2(0x1db),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x21c),'configVal':_0x5dffd2(0x1c6),'public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x206),'configVal':'Yi\x20Ai账号激活失败','public':0x0,'encry':0x0},{'configKey':'registerFailEmailTeamName','configVal':'Yi\x20Ai团队','public':0x0,'encry':0x0},{'configKey':_0x5dffd2(0x217),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x20b),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1c7),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x211),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1fe),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1f1),'configVal':_0x5dffd2(0x1c8),'public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1eb),'configVal':'10','public':0x1,'encry':0x0},{'configKey':'firstRregisterSendModel4Count','configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1d0),'configVal':'10','public':0x1,'encry':0x0},{'configKey':'inviteSendStatus','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x216),'configVal':'0','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x204),'configVal':'0','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x208),'configVal':'0','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1fc),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x1e0),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x215),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x5dffd2(0x222),'configVal':'1','public':0x1,'encry':0x0}],_0x248e0e=await this[_0x5dffd2(0x205)][_0x5dffd2(0x20f)](_0x5dffd2(0x1e3)+_0x3c9246[_0x5dffd2(0x1e4)](_0x2442f6=>'(\x27'+_0x2442f6[_0x5dffd2(0x1d2)]+_0x5dffd2(0x1ef)+_0x2442f6['configVal'][_0x5dffd2(0x1ec)](/'/g,'\x5c\x27')+_0x5dffd2(0x1ef)+_0x2442f6[_0x5dffd2(0x225)]+_0x5dffd2(0x1ef)+_0x2442f6[_0x5dffd2(0x1e7)]+'\x27)')['join'](',\x20'));common_1[_0x5dffd2(0x21f)]['log'](_0x5dffd2(0x1d7),_0x5dffd2(0x1f6));}catch(_0x3e76c5){console['log'](_0x5dffd2(0x1ce),_0x3e76c5);throw new common_1[(_0x5dffd2(0x1bf))](_0x5dffd2(0x1ff),common_1[_0x5dffd2(0x1ed)][_0x5dffd2(0x1dd)]);}}};function _0xc26b(_0xa655e5,_0x500e93){const _0x3b0524=_0x3b05();return _0xc26b=function(_0xc26b78,_0x40cf0c){_0xc26b78=_0xc26b78-0x1bc;let _0x5c06e0=_0x3b0524[_0xc26b78];return _0x5c06e0;},_0xc26b(_0xa655e5,_0x500e93);}DatabaseService=__decorate([(0x0,common_1[_0x188c4f(0x1f9)])(),__metadata(_0x188c4f(0x1d4),[typeorm_1[_0x188c4f(0x20a)]])],DatabaseService),exports[_0x188c4f(0x1f6)]=DatabaseService;