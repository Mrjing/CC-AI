'use strict';function _0x5185(){const _0x315558=['execute','then','DB_PORT','2258YUkdge','132126yBWiXq','mysql2/promise','18xSuokj','DB_HOST','log','4nYuahF','DB_DATABASE','2028858ekcTLS','203jVbprC','isArray','defineProperty','316KginYR','createConnection','7765176STTOcc','@nestjs/common','1033865dqMGDn','2572420gIlWVZ','env','end','DB_USER','length','Logger','25773165rssukS'];_0x5185=function(){return _0x315558;};return _0x5185();}const _0x57228a=_0x2eb6;(function(_0xc294d7,_0x53a117){const _0x2e3c2c=_0x2eb6,_0x3cc468=_0xc294d7();while(!![]){try{const _0x396f06=parseInt(_0x2e3c2c(0x18a))/0x1*(parseInt(_0x2e3c2c(0x17e))/0x2)+-parseInt(_0x2e3c2c(0x186))/0x3*(-parseInt(_0x2e3c2c(0x184))/0x4)+-parseInt(_0x2e3c2c(0x18e))/0x5+parseInt(_0x2e3c2c(0x17f))/0x6*(parseInt(_0x2e3c2c(0x187))/0x7)+parseInt(_0x2e3c2c(0x18c))/0x8+-parseInt(_0x2e3c2c(0x181))/0x9*(-parseInt(_0x2e3c2c(0x18f))/0xa)+-parseInt(_0x2e3c2c(0x17a))/0xb;if(_0x396f06===_0x53a117)break;else _0x3cc468['push'](_0x3cc468['shift']());}catch(_0x36b502){_0x3cc468['push'](_0x3cc468['shift']());}}}(_0x5185,0x9431a));Object[_0x57228a(0x189)](exports,'__esModule',{'value':!![]}),exports['initDatabase']=void 0x0;const mysql=require(_0x57228a(0x180)),common_1=require(_0x57228a(0x18d));function _0x2eb6(_0x26764a,_0x182361){const _0x5185f0=_0x5185();return _0x2eb6=function(_0x2eb607,_0x13d877){_0x2eb607=_0x2eb607-0x175;let _0x53448f=_0x5185f0[_0x2eb607];return _0x53448f;},_0x2eb6(_0x26764a,_0x182361);}function initDatabase(){const _0x4a2ef7=_0x57228a;mysql[_0x4a2ef7(0x18b)]({'host':process['env'][_0x4a2ef7(0x182)],'user':process[_0x4a2ef7(0x175)][_0x4a2ef7(0x177)],'password':process[_0x4a2ef7(0x175)]['DB_PASS'],'port':parseInt(process[_0x4a2ef7(0x175)][_0x4a2ef7(0x17d)])})[_0x4a2ef7(0x17c)](async _0x2612db=>{const _0x297b68=_0x4a2ef7,[_0x41baa6]=await _0x2612db[_0x297b68(0x17b)]('SHOW\x20DATABASES\x20LIKE\x20\x27'+process[_0x297b68(0x175)]['DB_DATABASE']+'\x27');Array[_0x297b68(0x188)](_0x41baa6)&&_0x41baa6[_0x297b68(0x178)]===0x0&&(await _0x2612db['execute']('CREATE\x20DATABASE\x20'+process[_0x297b68(0x175)][_0x297b68(0x185)]),common_1[_0x297b68(0x179)][_0x297b68(0x183)]('数据库创建成功['+process[_0x297b68(0x175)]['DB_DATABASE']+']')),await _0x2612db[_0x297b68(0x176)]();});}exports['initDatabase']=initDatabase;