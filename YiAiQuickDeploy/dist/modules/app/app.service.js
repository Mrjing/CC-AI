'use strict';const _0x1bf3c1=_0x1857;function _0x5519(){const _0x146e96=['frontAppList','4212630HKnlZk','super','InjectRepository','74eoBkcD','应用审核通过','AppEntity','getOwnPropertyDescriptor','userAppsEntity','appDes','appId','DESC','mineApps','metadata','name','删除失败！','已将应用加入到我的个人工作台！','customApp','auditFail','delete','forEach','appRole','808580EbGwnI','collect','appEntity','该分类不存在！','demoData','修改成功','user','typeorm','findAndCount','修改失败！','UserAppsEntity','该应用已被用户关联使用中，不可删除！','appCount','删除成功','map','appCatsList','count','144044tQsmhG','BAD_REQUEST','delApp','update','decorate','split','311908oeIfPK','function','auditPass','status','AppService','7479PdAhCL','save','@nestjs/typeorm','Like','./appCats.entity','434046abeqwL','删除App成功','appCatsEntity','delAppCat','./userApps.entity','该应用不存在！','defineProperty','取消收藏成功!','preset','delMineApp','24WVLfIW','21nqrNdt','AppCatsEntity','取消收藏失败！','findOne','您正在编辑一个不存在的应用！','role','Repository','缺失必要参数！','删除App失败！','catName','405333vFQWTH','affected','删除应用成功！','userId','应用审核拒绝完成','catId','system','修改App信息失败！','******','HttpStatus','Not','该应用名称已存在！','find','该分类名称已存在！','IsNull','appList','coverImg','HttpException','__decorate'];_0x5519=function(){return _0x146e96;};return _0x5519();}(function(_0x564739,_0x29d127){const _0x37f883=_0x1857,_0x327c17=_0x564739();while(!![]){try{const _0x376c1e=-parseInt(_0x37f883(0x19d))/0x1+parseInt(_0x37f883(0x174))/0x2*(-parseInt(_0x37f883(0x1a2))/0x3)+-parseInt(_0x37f883(0x197))/0x4+-parseInt(_0x37f883(0x186))/0x5+-parseInt(_0x37f883(0x1a7))/0x6*(-parseInt(_0x37f883(0x153))/0x7)+-parseInt(_0x37f883(0x152))/0x8*(-parseInt(_0x37f883(0x15d))/0x9)+parseInt(_0x37f883(0x171))/0xa;if(_0x376c1e===_0x29d127)break;else _0x327c17['push'](_0x327c17['shift']());}catch(_0x828c82){_0x327c17['push'](_0x327c17['shift']());}}}(_0x5519,0x29e01));var __decorate=this&&this[_0x1bf3c1(0x16f)]||function(_0x38cb7b,_0x4ff46a,_0x2e3129,_0x521a97){const _0xad4d82=_0x1bf3c1;var _0x4ca12d=arguments['length'],_0x4e48ab=_0x4ca12d<0x3?_0x4ff46a:_0x521a97===null?_0x521a97=Object[_0xad4d82(0x177)](_0x4ff46a,_0x2e3129):_0x521a97,_0x1685d3;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xad4d82(0x19e))_0x4e48ab=Reflect[_0xad4d82(0x19b)](_0x38cb7b,_0x4ff46a,_0x2e3129,_0x521a97);else{for(var _0x51302d=_0x38cb7b['length']-0x1;_0x51302d>=0x0;_0x51302d--)if(_0x1685d3=_0x38cb7b[_0x51302d])_0x4e48ab=(_0x4ca12d<0x3?_0x1685d3(_0x4e48ab):_0x4ca12d>0x3?_0x1685d3(_0x4ff46a,_0x2e3129,_0x4e48ab):_0x1685d3(_0x4ff46a,_0x2e3129))||_0x4e48ab;}return _0x4ca12d>0x3&&_0x4e48ab&&Object[_0xad4d82(0x1ad)](_0x4ff46a,_0x2e3129,_0x4e48ab),_0x4e48ab;},__metadata=this&&this['__metadata']||function(_0x49ab2d,_0x440891){const _0xf34f4d=_0x1bf3c1;if(typeof Reflect==='object'&&typeof Reflect[_0xf34f4d(0x17d)]===_0xf34f4d(0x19e))return Reflect[_0xf34f4d(0x17d)](_0x49ab2d,_0x440891);},__param=this&&this['__param']||function(_0x4df151,_0x5adaf9){return function(_0x3133de,_0x28b936){_0x5adaf9(_0x3133de,_0x28b936,_0x4df151);};};Object[_0x1bf3c1(0x1ad)](exports,'__esModule',{'value':!![]}),exports[_0x1bf3c1(0x1a1)]=void 0x0;const common_1=require('@nestjs/common'),appCats_entity_1=require(_0x1bf3c1(0x1a6)),typeorm_1=require(_0x1bf3c1(0x18d)),typeorm_2=require(_0x1bf3c1(0x1a4)),app_entity_1=require('./app.entity'),userApps_entity_1=require(_0x1bf3c1(0x1ab));function _0x1857(_0xb92eda,_0x27e1d3){const _0x551993=_0x5519();return _0x1857=function(_0x1857f7,_0x35a465){_0x1857f7=_0x1857f7-0x152;let _0x6dc43c=_0x551993[_0x1857f7];return _0x6dc43c;},_0x1857(_0xb92eda,_0x27e1d3);}let AppService=class AppService{constructor(_0x36b1a6,_0x5f142f,_0x315493){const _0x2ad9e8=_0x1bf3c1;this[_0x2ad9e8(0x1a9)]=_0x36b1a6,this[_0x2ad9e8(0x188)]=_0x5f142f,this[_0x2ad9e8(0x178)]=_0x315493;}async['createAppCat'](_0x8e8094){const _0x1383f4=_0x1bf3c1,{name:_0x235a6e}=_0x8e8094,_0x24c14a=await this['appCatsEntity'][_0x1383f4(0x156)]({'where':{'name':_0x235a6e}});if(_0x24c14a)throw new common_1['HttpException'](_0x1383f4(0x16a),common_1['HttpStatus']['BAD_REQUEST']);return await this[_0x1383f4(0x1a9)]['save'](_0x8e8094);}async[_0x1bf3c1(0x1aa)](_0x18fc64){const _0x3b3e93=_0x1bf3c1,{id:_0x544a91}=_0x18fc64,_0x3ccac7=await this[_0x3b3e93(0x1a9)]['findOne']({'where':{'id':_0x544a91}});if(!_0x3ccac7)throw new common_1[(_0x3b3e93(0x16e))]('该分类不存在！',common_1[_0x3b3e93(0x166)]['BAD_REQUEST']);const _0x508c65=await this[_0x3b3e93(0x188)]['count']({'where':{'catId':_0x544a91}});if(_0x508c65>0x0)throw new common_1[(_0x3b3e93(0x16e))]('该分类下存在App，不可删除！',common_1['HttpStatus'][_0x3b3e93(0x198)]);const _0x1cfb68=await this['appCatsEntity']['delete'](_0x544a91);if(_0x1cfb68[_0x3b3e93(0x15e)]>0x0)return _0x3b3e93(0x193);throw new common_1[(_0x3b3e93(0x16e))](_0x3b3e93(0x17f),common_1[_0x3b3e93(0x166)]['BAD_REQUEST']);}async['updateAppCats'](_0x126d09){const _0x9ad9ae=_0x1bf3c1,{id:_0x2b3807,name:_0x53f5ec}=_0x126d09,_0x134198=await this[_0x9ad9ae(0x1a9)][_0x9ad9ae(0x156)]({'where':{'name':_0x53f5ec,'id':(0x0,typeorm_1[_0x9ad9ae(0x167)])(_0x2b3807)}});if(_0x134198)throw new common_1['HttpException']('该分类名称已存在！',common_1[_0x9ad9ae(0x166)][_0x9ad9ae(0x198)]);const _0x15f5c5=await this[_0x9ad9ae(0x1a9)][_0x9ad9ae(0x19a)]({'id':_0x2b3807},_0x126d09);if(_0x15f5c5[_0x9ad9ae(0x15e)]>0x0)return'修改成功';throw new common_1[(_0x9ad9ae(0x16e))](_0x9ad9ae(0x18f),common_1['HttpStatus']['BAD_REQUEST']);}async['queryOneCat'](_0x21b625){const _0x2f6441=_0x1bf3c1,{id:_0x168a92}=_0x21b625;if(!_0x168a92)throw new common_1[(_0x2f6441(0x16e))](_0x2f6441(0x15a),common_1[_0x2f6441(0x166)][_0x2f6441(0x198)]);const _0x124bf6=await this[_0x2f6441(0x188)]['findOne']({'where':{'id':_0x168a92}}),{demoData:_0x365f05,coverImg:_0x103300,des:_0x26337f,name:_0x175754}=_0x124bf6;return{'demoData':_0x365f05?_0x365f05[_0x2f6441(0x19c)]('\x0a'):[],'coverImg':_0x103300,'des':_0x26337f,'name':_0x175754};}async[_0x1bf3c1(0x195)](_0x3b14c1){const _0x5d07b2=_0x1bf3c1,{page:page=0x1,size:size=0xa,name:_0x1296d4,status:_0x39410f}=_0x3b14c1,_0x2ecba8={};_0x1296d4&&(_0x2ecba8[_0x5d07b2(0x17e)]=(0x0,typeorm_1[_0x5d07b2(0x1a5)])('%'+_0x1296d4+'%')),[0x0,0x1,'0','1']['includes'](_0x39410f)&&(_0x2ecba8[_0x5d07b2(0x1a0)]=_0x39410f);const [_0x94d7f8,_0x316473]=await this[_0x5d07b2(0x1a9)]['findAndCount']({'where':_0x2ecba8,'order':{'order':'DESC'},'skip':(page-0x1)*size,'take':size}),_0x1da02b=_0x94d7f8[_0x5d07b2(0x194)](_0x2c3da9=>_0x2c3da9['id']),_0x47c3cb=await this[_0x5d07b2(0x188)][_0x5d07b2(0x169)]({'where':{'catId':(0x0,typeorm_1['In'])(_0x1da02b)}}),_0x4a0a9e={};return _0x47c3cb[_0x5d07b2(0x184)](_0x359490=>{const _0x23b4e0=_0x5d07b2;_0x4a0a9e[_0x359490[_0x23b4e0(0x162)]]?_0x4a0a9e[_0x359490['catId']]+=0x1:_0x4a0a9e[_0x359490[_0x23b4e0(0x162)]]=0x1;}),_0x94d7f8[_0x5d07b2(0x184)](_0x1f5b4c=>_0x1f5b4c[_0x5d07b2(0x192)]=_0x4a0a9e[_0x1f5b4c['id']]||0x0),{'rows':_0x94d7f8,'count':_0x316473};}async[_0x1bf3c1(0x16c)](_0x44482e,_0x412133,_0x2e7e62='id'){const _0x2a1b58=_0x1bf3c1;var _0x62cbe5;const {page:page=0x1,size:size=0xa,name:_0x453be9,status:_0xe20527,catId:_0x57ad29,role:_0x560ce9}=_0x412133,_0x3cefd8={};_0x453be9&&(_0x3cefd8[_0x2a1b58(0x17e)]=(0x0,typeorm_1[_0x2a1b58(0x1a5)])('%'+_0x453be9+'%')),_0x57ad29&&(_0x3cefd8[_0x2a1b58(0x162)]=_0x57ad29),_0x560ce9&&(_0x3cefd8['role']=_0x560ce9),_0xe20527&&(_0x3cefd8[_0x2a1b58(0x1a0)]=_0xe20527);const [_0x37fa0b,_0x2c24af]=await this[_0x2a1b58(0x188)][_0x2a1b58(0x18e)]({'where':_0x3cefd8,'order':{[_0x2e7e62]:_0x2a1b58(0x17b)},'skip':(page-0x1)*size,'take':size}),_0xb01414=_0x37fa0b[_0x2a1b58(0x194)](_0x346f50=>_0x346f50['catId']),_0x1c4beb=await this[_0x2a1b58(0x1a9)][_0x2a1b58(0x169)]({'where':{'id':(0x0,typeorm_1['In'])(_0xb01414)}});return _0x37fa0b[_0x2a1b58(0x184)](_0x53e0e7=>{const _0xda04f4=_0x2a1b58,_0x40d570=_0x1c4beb[_0xda04f4(0x169)](_0x5aa7f2=>_0x5aa7f2['id']===_0x53e0e7[_0xda04f4(0x162)]);_0x53e0e7[_0xda04f4(0x15c)]=_0x40d570?_0x40d570[_0xda04f4(0x17e)]:'';}),((_0x62cbe5=_0x44482e===null||_0x44482e===void 0x0?void 0x0:_0x44482e[_0x2a1b58(0x18c)])===null||_0x62cbe5===void 0x0?void 0x0:_0x62cbe5[_0x2a1b58(0x158)])!==_0x2a1b58(0x172)&&_0x37fa0b['forEach'](_0x374f40=>{const _0x45ac12=_0x2a1b58;delete _0x374f40[_0x45ac12(0x1af)];}),{'rows':_0x37fa0b,'count':_0x2c24af};}async[_0x1bf3c1(0x170)](_0x131172,_0x3ffb2f,_0x110de3='id'){const _0x274e7d=_0x1bf3c1;var _0x50f15d;const {page:page=0x1,size:size=0x3e8,name:_0x3e902c,catId:_0x4130a4,role:_0x4424d8}=_0x3ffb2f,_0x4d9022=[{'status':(0x0,typeorm_1['In'])([0x1,0x4]),'userId':(0x0,typeorm_1[_0x274e7d(0x16b)])(),'public':![]},{'userId':(0x0,typeorm_1['MoreThan'])(0x0),'public':!![]}],[_0x1eb7f6,_0x21a73a]=await this[_0x274e7d(0x188)][_0x274e7d(0x18e)]({'where':_0x4d9022,'order':{'order':_0x274e7d(0x17b)},'skip':(page-0x1)*size,'take':size}),_0x20c7c6=_0x1eb7f6[_0x274e7d(0x194)](_0x741b73=>_0x741b73[_0x274e7d(0x162)]),_0x544a1b=await this[_0x274e7d(0x1a9)][_0x274e7d(0x169)]({'where':{'id':(0x0,typeorm_1['In'])(_0x20c7c6)}});return _0x1eb7f6[_0x274e7d(0x184)](_0x57375c=>{const _0x1a56d8=_0x274e7d,_0x59dc78=_0x544a1b[_0x1a56d8(0x169)](_0xecc414=>_0xecc414['id']===_0x57375c[_0x1a56d8(0x162)]);_0x57375c[_0x1a56d8(0x15c)]=_0x59dc78?_0x59dc78[_0x1a56d8(0x17e)]:'';}),((_0x50f15d=_0x131172===null||_0x131172===void 0x0?void 0x0:_0x131172['user'])===null||_0x50f15d===void 0x0?void 0x0:_0x50f15d[_0x274e7d(0x158)])!==_0x274e7d(0x172)&&_0x1eb7f6[_0x274e7d(0x184)](_0x3b29a4=>{const _0x3bcb98=_0x274e7d;delete _0x3b29a4[_0x3bcb98(0x1af)];}),{'rows':_0x1eb7f6,'count':_0x21a73a};}async['createApp'](_0x453cc9){const _0x4b1561=_0x1bf3c1,{name:_0x1425fd,catId:_0x198e3c}=_0x453cc9;_0x453cc9[_0x4b1561(0x158)]=_0x4b1561(0x163);const _0x54c6e8=await this['appEntity'][_0x4b1561(0x156)]({'where':{'name':_0x1425fd}});if(_0x54c6e8)throw new common_1[(_0x4b1561(0x16e))](_0x4b1561(0x168),common_1['HttpStatus']['BAD_REQUEST']);const _0x3cc7c8=await this[_0x4b1561(0x1a9)][_0x4b1561(0x156)]({'where':{'id':_0x198e3c}});if(!_0x3cc7c8)throw new common_1[(_0x4b1561(0x16e))](_0x4b1561(0x189),common_1[_0x4b1561(0x166)]['BAD_REQUEST']);return await this['appEntity'][_0x4b1561(0x1a3)](_0x453cc9);}async[_0x1bf3c1(0x181)](_0x1b8af8,_0x21f1b1){const _0x836534=_0x1bf3c1,{id:_0x33cefc}=_0x21f1b1['user'],{name:_0x45c94f,catId:_0x45dfbf,des:_0x2857d1,preset:_0xb04b5f,coverImg:_0x245ec8,demoData:_0x1ccb2a,public:_0x131398,appId:_0x401458}=_0x1b8af8;if(_0x401458){const _0x59699c=await this['appEntity'][_0x836534(0x156)]({'where':{'id':_0x401458,'userId':_0x33cefc}});if(!_0x59699c)throw new common_1[(_0x836534(0x16e))](_0x836534(0x157),common_1[_0x836534(0x166)][_0x836534(0x198)]);const _0x1d71e5={'name':_0x45c94f,'catId':_0x45dfbf,'des':_0x2857d1,'preset':_0xb04b5f,'coverImg':_0x245ec8,'demoData':_0x1ccb2a,'public':_0x131398,'status':_0x131398?0x3:0x1},_0x24221a=await this[_0x836534(0x188)][_0x836534(0x19a)]({'id':_0x401458,'userId':_0x33cefc},_0x1d71e5);if(_0x24221a['affected'])return _0x836534(0x18b);else throw new common_1[(_0x836534(0x16e))](_0x836534(0x18f),common_1[_0x836534(0x166)]['BAD_REQUEST']);}if(!_0x401458){const _0x292f69=await this[_0x836534(0x1a9)]['findOne']({'where':{'id':_0x45dfbf}});if(!_0x292f69)throw new common_1[(_0x836534(0x16e))](_0x836534(0x189),common_1['HttpStatus']['BAD_REQUEST']);const _0x37a42f=await this['appEntity'][_0x836534(0x156)]({'where':{'name':_0x45c94f}});if(_0x37a42f)throw new common_1[(_0x836534(0x16e))](_0x836534(0x168),common_1[_0x836534(0x166)][_0x836534(0x198)]);const _0x35a83e={'name':_0x45c94f,'catId':_0x45dfbf,'des':_0x2857d1,'preset':_0xb04b5f,'coverImg':_0x245ec8,'status':_0x131398?0x3:0x1,'demoData':_0x1ccb2a,'public':_0x131398,'role':'user','userId':_0x33cefc},_0x3d38d6=await this[_0x836534(0x188)]['save'](_0x35a83e),_0x277974={'appId':_0x3d38d6['id'],'userId':_0x33cefc,'appType':_0x836534(0x18c),'public':_0x131398,'status':_0x131398?0x3:0x1,'catId':_0x45dfbf};return this[_0x836534(0x178)][_0x836534(0x1a3)](_0x277974);}}async['updateApp'](_0x133816){const _0x15744c=_0x1bf3c1,{id:_0x24af1f,name:_0x2046b8,catId:_0x10eea0,status:_0x49e1ad}=_0x133816,_0x110469=await this[_0x15744c(0x188)][_0x15744c(0x156)]({'where':{'name':_0x2046b8,'id':(0x0,typeorm_1[_0x15744c(0x167)])(_0x24af1f)}});if(_0x110469)throw new common_1[(_0x15744c(0x16e))](_0x15744c(0x168),common_1[_0x15744c(0x166)]['BAD_REQUEST']);const _0x15701d=await this[_0x15744c(0x1a9)]['findOne']({'where':{'id':_0x10eea0}});if(!_0x15701d)throw new common_1[(_0x15744c(0x16e))](_0x15744c(0x189),common_1['HttpStatus'][_0x15744c(0x198)]);const _0x4c8f94=await this[_0x15744c(0x188)]['findOne']({'where':{'id':_0x24af1f}});_0x4c8f94[_0x15744c(0x1a0)]!==_0x133816[_0x15744c(0x1a0)]&&await this[_0x15744c(0x178)]['update']({'appId':_0x24af1f},{'status':_0x49e1ad});const _0x23105a=await this[_0x15744c(0x188)][_0x15744c(0x19a)]({'id':_0x24af1f},_0x133816);if(_0x23105a[_0x15744c(0x15e)]>0x0)return'修改App信息成功';throw new common_1[(_0x15744c(0x16e))](_0x15744c(0x164),common_1[_0x15744c(0x166)][_0x15744c(0x198)]);}async[_0x1bf3c1(0x199)](_0x3b7467){const _0x281d67=_0x1bf3c1,{id:_0x415452}=_0x3b7467,_0x70fdc0=await this[_0x281d67(0x188)][_0x281d67(0x156)]({'where':{'id':_0x415452}});if(!_0x70fdc0)throw new common_1[(_0x281d67(0x16e))](_0x281d67(0x1ac),common_1[_0x281d67(0x166)][_0x281d67(0x198)]);const _0x57c86d=await this[_0x281d67(0x178)][_0x281d67(0x196)]({'where':{'appId':_0x415452}});if(_0x57c86d>0x0)throw new common_1[(_0x281d67(0x16e))](_0x281d67(0x191),common_1[_0x281d67(0x166)]['BAD_REQUEST']);const _0x13a4f0=await this['appEntity'][_0x281d67(0x183)](_0x415452);if(_0x13a4f0[_0x281d67(0x15e)]>0x0)return _0x281d67(0x1a8);throw new common_1['HttpException'](_0x281d67(0x15b),common_1[_0x281d67(0x166)][_0x281d67(0x198)]);}async[_0x1bf3c1(0x19f)](_0x5a5429){const _0x3fe330=_0x1bf3c1,{id:_0x3ab597}=_0x5a5429,_0x5effd2=await this['appEntity'][_0x3fe330(0x156)]({'where':{'id':_0x3ab597,'status':0x3}});if(!_0x5effd2)throw new common_1[(_0x3fe330(0x16e))]('该应用不存在！',common_1[_0x3fe330(0x166)]['BAD_REQUEST']);return await this['appEntity']['update']({'id':_0x3ab597},{'status':0x4}),await this[_0x3fe330(0x178)][_0x3fe330(0x19a)]({'appId':_0x3ab597},{'status':0x4}),_0x3fe330(0x175);}async[_0x1bf3c1(0x182)](_0x11ec4c){const _0xcaef62=_0x1bf3c1,{id:_0x423cbf}=_0x11ec4c,_0x531a88=await this[_0xcaef62(0x188)][_0xcaef62(0x156)]({'where':{'id':_0x423cbf,'status':0x3}});if(!_0x531a88)throw new common_1[(_0xcaef62(0x16e))]('该应用不存在！',common_1['HttpStatus']['BAD_REQUEST']);return await this[_0xcaef62(0x188)][_0xcaef62(0x19a)]({'id':_0x423cbf},{'status':0x5}),await this[_0xcaef62(0x178)][_0xcaef62(0x19a)]({'appId':_0x423cbf},{'status':0x5}),_0xcaef62(0x161);}async[_0x1bf3c1(0x1b0)](_0x2d4344,_0x29f34d){const _0x5dfd30=_0x1bf3c1,{id:_0x26febf}=_0x2d4344,_0x1a0820=await this[_0x5dfd30(0x188)][_0x5dfd30(0x156)]({'where':{'id':_0x26febf,'userId':_0x29f34d[_0x5dfd30(0x18c)]['id']}});if(!_0x1a0820)throw new common_1[(_0x5dfd30(0x16e))]('您正在操作一个不存在的资源！',common_1[_0x5dfd30(0x166)]['BAD_REQUEST']);return await this['appEntity'][_0x5dfd30(0x183)](_0x26febf),await this[_0x5dfd30(0x178)][_0x5dfd30(0x183)]({'appId':_0x26febf,'userId':_0x29f34d[_0x5dfd30(0x18c)]['id']}),_0x5dfd30(0x15f);}async[_0x1bf3c1(0x187)](_0x44ccc5,_0x2a444d){const _0x45563f=_0x1bf3c1,{appId:_0xf48cae}=_0x44ccc5,{id:_0x310726}=_0x2a444d[_0x45563f(0x18c)],_0x55fc1b=await this['userAppsEntity'][_0x45563f(0x156)]({'where':{'appId':_0xf48cae,'userId':_0x310726}});if(_0x55fc1b){const _0x3c015c=await this[_0x45563f(0x178)][_0x45563f(0x183)]({'appId':_0xf48cae,'userId':_0x310726});if(_0x3c015c['affected']>0x0)return _0x45563f(0x1ae);else throw new common_1[(_0x45563f(0x16e))](_0x45563f(0x155),common_1[_0x45563f(0x166)]['BAD_REQUEST']);}const _0x25800e=await this[_0x45563f(0x188)][_0x45563f(0x156)]({'where':{'id':_0xf48cae}}),{id:_0xfc4dab,role:_0x269f58,catId:_0x2fcd2b}=_0x25800e,_0x240c73={'userId':_0x310726,'appId':_0xfc4dab,'catId':_0x2fcd2b,'appRole':_0x269f58,'public':!![],'status':0x1};return await this['userAppsEntity'][_0x45563f(0x1a3)](_0x240c73),_0x45563f(0x180);}async[_0x1bf3c1(0x17c)](_0x48552a,_0x30d2e2={'page':0x1,'size':0x1e}){const _0x54f899=_0x1bf3c1,{id:_0x407a2b}=_0x48552a[_0x54f899(0x18c)],{page:page=0x1,size:size=0x1e}=_0x30d2e2,[_0x3c9325,_0x21dd9d]=await this[_0x54f899(0x178)][_0x54f899(0x18e)]({'where':{'userId':_0x407a2b,'status':(0x0,typeorm_1['In'])([0x1,0x3,0x4,0x5])},'order':{'id':_0x54f899(0x17b)},'skip':(page-0x1)*size,'take':size}),_0x331ff3=_0x3c9325[_0x54f899(0x194)](_0x3dfceb=>_0x3dfceb[_0x54f899(0x17a)]),_0x25ebbf=await this[_0x54f899(0x188)]['find']({'where':{'id':(0x0,typeorm_1['In'])(_0x331ff3)}});return _0x3c9325[_0x54f899(0x184)](_0x2ad45d=>{const _0x193ab0=_0x54f899,_0x3e8bb8=_0x25ebbf[_0x193ab0(0x169)](_0x1c1d23=>_0x1c1d23['id']===_0x2ad45d[_0x193ab0(0x17a)]);_0x2ad45d['appName']=_0x3e8bb8?_0x3e8bb8[_0x193ab0(0x17e)]:'',_0x2ad45d[_0x193ab0(0x185)]=_0x3e8bb8?_0x3e8bb8[_0x193ab0(0x158)]:'',_0x2ad45d[_0x193ab0(0x179)]=_0x3e8bb8?_0x3e8bb8['des']:'',_0x2ad45d[_0x193ab0(0x16d)]=_0x3e8bb8?_0x3e8bb8[_0x193ab0(0x16d)]:'',_0x2ad45d[_0x193ab0(0x18a)]=_0x3e8bb8?_0x3e8bb8[_0x193ab0(0x18a)]:'',_0x2ad45d[_0x193ab0(0x1af)]=_0x3e8bb8[_0x193ab0(0x160)]===_0x407a2b?_0x3e8bb8[_0x193ab0(0x1af)]:_0x193ab0(0x165);}),{'rows':_0x3c9325,'count':_0x21dd9d};}};AppService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_2['InjectRepository'])(appCats_entity_1[_0x1bf3c1(0x154)])),__param(0x1,(0x0,typeorm_2[_0x1bf3c1(0x173)])(app_entity_1[_0x1bf3c1(0x176)])),__param(0x2,(0x0,typeorm_2[_0x1bf3c1(0x173)])(userApps_entity_1[_0x1bf3c1(0x190)])),__metadata('design:paramtypes',[typeorm_1[_0x1bf3c1(0x159)],typeorm_1[_0x1bf3c1(0x159)],typeorm_1[_0x1bf3c1(0x159)]])],AppService),exports[_0x1bf3c1(0x1a1)]=AppService;