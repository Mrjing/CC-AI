'use strict';function _0x5a8f(){const _0x269470=['./appCats.entity','collect','getOwnPropertyDescriptor','appId','length','1745457UsYfWX','updateAppCats','__metadata','auditPass','forEach','UserAppsEntity','删除应用成功！','3845828oxNiFN','IsNull','修改成功','Injectable','7069020arqCIY','affected','Repository','修改失败！','role','309052HajWpe','删除App成功','delete','该分类下存在App，不可删除！','metadata','name','appCatsEntity','system','1444527wCAvAq','该应用不存在！','userAppsEntity','defineProperty','130oOuqkU','删除App失败！','3806536QdWYaa','decorate','includes','AppService','Like','Not','HttpStatus','mineApps','split','删除成功','delApp','AppCatsEntity','function','map','updateApp','find','您正在编辑一个不存在的应用！','object','该应用名称已存在！','createAppCat','12HkudxX','preset','该分类名称已存在！','9468vmHToo','该应用已被用户关联使用中，不可删除！','super','./userApps.entity','已将应用加入到我的个人工作台！','catId','update','findAndCount','coverImg','__esModule','appCount','取消收藏失败！','InjectRepository','auditFail','BAD_REQUEST','appList','appCatsList','findOne','appEntity','count','MoreThan','__param','appDes','缺失必要参数！','HttpException','delAppCat','DESC','修改App信息失败！','status','appRole','customApp','userId','user','4855cldTcP','demoData','typeorm','save','该分类不存在！'];_0x5a8f=function(){return _0x269470;};return _0x5a8f();}const _0x51e797=_0x6912;(function(_0xa53014,_0x472a4d){const _0x4fc651=_0x6912,_0x5b46a4=_0xa53014();while(!![]){try{const _0x54c15e=parseInt(_0x4fc651(0xa2))/0x1*(-parseInt(_0x4fc651(0xe0))/0x2)+parseInt(_0x4fc651(0xd0))/0x3+parseInt(_0x4fc651(0xdb))/0x4+-parseInt(_0x4fc651(0xc6))/0x5*(parseInt(_0x4fc651(0xa5))/0x6)+-parseInt(_0x4fc651(0xd7))/0x7+parseInt(_0x4fc651(0xee))/0x8+-parseInt(_0x4fc651(0xe8))/0x9*(-parseInt(_0x4fc651(0xec))/0xa);if(_0x54c15e===_0x472a4d)break;else _0x5b46a4['push'](_0x5b46a4['shift']());}catch(_0x35e959){_0x5b46a4['push'](_0x5b46a4['shift']());}}}(_0x5a8f,0xee274));var __decorate=this&&this['__decorate']||function(_0x38eccb,_0x5b00a2,_0x51f092,_0x5da950){const _0x2304ba=_0x6912;var _0x39c4f1=arguments[_0x2304ba(0xcf)],_0x3ca803=_0x39c4f1<0x3?_0x5b00a2:_0x5da950===null?_0x5da950=Object[_0x2304ba(0xcd)](_0x5b00a2,_0x51f092):_0x5da950,_0x273e4c;if(typeof Reflect===_0x2304ba(0x9f)&&typeof Reflect[_0x2304ba(0xef)]==='function')_0x3ca803=Reflect[_0x2304ba(0xef)](_0x38eccb,_0x5b00a2,_0x51f092,_0x5da950);else{for(var _0x24ec5f=_0x38eccb[_0x2304ba(0xcf)]-0x1;_0x24ec5f>=0x0;_0x24ec5f--)if(_0x273e4c=_0x38eccb[_0x24ec5f])_0x3ca803=(_0x39c4f1<0x3?_0x273e4c(_0x3ca803):_0x39c4f1>0x3?_0x273e4c(_0x5b00a2,_0x51f092,_0x3ca803):_0x273e4c(_0x5b00a2,_0x51f092))||_0x3ca803;}return _0x39c4f1>0x3&&_0x3ca803&&Object[_0x2304ba(0xeb)](_0x5b00a2,_0x51f092,_0x3ca803),_0x3ca803;},__metadata=this&&this[_0x51e797(0xd2)]||function(_0x19b609,_0x55aaa1){const _0x47fb20=_0x51e797;if(typeof Reflect===_0x47fb20(0x9f)&&typeof Reflect['metadata']===_0x47fb20(0x9a))return Reflect[_0x47fb20(0xe4)](_0x19b609,_0x55aaa1);},__param=this&&this[_0x51e797(0xba)]||function(_0x2714c8,_0x536d0d){return function(_0x48b136,_0x14aa07){_0x536d0d(_0x48b136,_0x14aa07,_0x2714c8);};};Object[_0x51e797(0xeb)](exports,_0x51e797(0xae),{'value':!![]}),exports[_0x51e797(0x91)]=void 0x0;function _0x6912(_0x128229,_0xf12a39){const _0x5a8f6c=_0x5a8f();return _0x6912=function(_0x6912ea,_0x40fe5d){_0x6912ea=_0x6912ea-0x91;let _0x4f1a8=_0x5a8f6c[_0x6912ea];return _0x4f1a8;},_0x6912(_0x128229,_0xf12a39);}const common_1=require('@nestjs/common'),appCats_entity_1=require(_0x51e797(0xcb)),typeorm_1=require(_0x51e797(0xc8)),typeorm_2=require('@nestjs/typeorm'),app_entity_1=require('./app.entity'),userApps_entity_1=require(_0x51e797(0xa8));let AppService=class AppService{constructor(_0x5027dd,_0x25dac4,_0xa0e515){const _0x42be02=_0x51e797;this['appCatsEntity']=_0x5027dd,this[_0x42be02(0xb7)]=_0x25dac4,this['userAppsEntity']=_0xa0e515;}async[_0x51e797(0xa1)](_0x479bea){const _0x1bd0be=_0x51e797,{name:_0x4409a8}=_0x479bea,_0x1f8310=await this[_0x1bd0be(0xe6)][_0x1bd0be(0xb6)]({'where':{'name':_0x4409a8}});if(_0x1f8310)throw new common_1[(_0x1bd0be(0xbd))]('该分类名称已存在！',common_1[_0x1bd0be(0x94)][_0x1bd0be(0xb3)]);return await this['appCatsEntity'][_0x1bd0be(0xc9)](_0x479bea);}async[_0x51e797(0xbe)](_0x4eed48){const _0x32f236=_0x51e797,{id:_0x594d57}=_0x4eed48,_0x4cc336=await this[_0x32f236(0xe6)]['findOne']({'where':{'id':_0x594d57}});if(!_0x4cc336)throw new common_1[(_0x32f236(0xbd))](_0x32f236(0xca),common_1[_0x32f236(0x94)][_0x32f236(0xb3)]);const _0x2aa0bb=await this['appEntity'][_0x32f236(0xb8)]({'where':{'catId':_0x594d57}});if(_0x2aa0bb>0x0)throw new common_1[(_0x32f236(0xbd))](_0x32f236(0xe3),common_1['HttpStatus'][_0x32f236(0xb3)]);const _0x261ed8=await this['appCatsEntity'][_0x32f236(0xe2)](_0x594d57);if(_0x261ed8[_0x32f236(0xdc)]>0x0)return _0x32f236(0x97);throw new common_1[(_0x32f236(0xbd))]('删除失败！',common_1[_0x32f236(0x94)]['BAD_REQUEST']);}async[_0x51e797(0xd1)](_0x515168){const _0x34f3f2=_0x51e797,{id:_0x55dbc8,name:_0x20eee8}=_0x515168,_0x36b9aa=await this[_0x34f3f2(0xe6)]['findOne']({'where':{'name':_0x20eee8,'id':(0x0,typeorm_1[_0x34f3f2(0x93)])(_0x55dbc8)}});if(_0x36b9aa)throw new common_1[(_0x34f3f2(0xbd))](_0x34f3f2(0xa4),common_1[_0x34f3f2(0x94)][_0x34f3f2(0xb3)]);const _0x5f3e0c=await this[_0x34f3f2(0xe6)][_0x34f3f2(0xab)]({'id':_0x55dbc8},_0x515168);if(_0x5f3e0c[_0x34f3f2(0xdc)]>0x0)return _0x34f3f2(0xd9);throw new common_1[(_0x34f3f2(0xbd))]('修改失败！',common_1['HttpStatus']['BAD_REQUEST']);}async['queryOneCat'](_0x1adcba){const _0x5de4ac=_0x51e797,{id:_0x57fd7f}=_0x1adcba;if(!_0x57fd7f)throw new common_1[(_0x5de4ac(0xbd))](_0x5de4ac(0xbc),common_1[_0x5de4ac(0x94)][_0x5de4ac(0xb3)]);const _0x2dc66a=await this['appEntity'][_0x5de4ac(0xb6)]({'where':{'id':_0x57fd7f}}),{demoData:_0x581a13,coverImg:_0x2101ad,des:_0x1a9b35,name:_0x28dd51}=_0x2dc66a;return{'demoData':_0x581a13?_0x581a13[_0x5de4ac(0x96)]('\x0a'):[],'coverImg':_0x2101ad,'des':_0x1a9b35,'name':_0x28dd51};}async[_0x51e797(0xb5)](_0x12a65c){const _0x2c13d4=_0x51e797,{page:page=0x1,size:size=0xa,name:_0x1701ff,status:_0x2866ab}=_0x12a65c,_0x481460={};_0x1701ff&&(_0x481460[_0x2c13d4(0xe5)]=(0x0,typeorm_1['Like'])('%'+_0x1701ff+'%')),[0x0,0x1,'0','1'][_0x2c13d4(0xf0)](_0x2866ab)&&(_0x481460[_0x2c13d4(0xc1)]=_0x2866ab);const [_0x281319,_0x57896f]=await this[_0x2c13d4(0xe6)]['findAndCount']({'where':_0x481460,'order':{'order':_0x2c13d4(0xbf)},'skip':(page-0x1)*size,'take':size}),_0x1a4dd3=_0x281319[_0x2c13d4(0x9b)](_0x534d4f=>_0x534d4f['id']),_0x5496d0=await this[_0x2c13d4(0xb7)][_0x2c13d4(0x9d)]({'where':{'catId':(0x0,typeorm_1['In'])(_0x1a4dd3)}}),_0x481b0e={};return _0x5496d0[_0x2c13d4(0xd4)](_0x301152=>{const _0x696a4e=_0x2c13d4;_0x481b0e[_0x301152[_0x696a4e(0xaa)]]?_0x481b0e[_0x301152[_0x696a4e(0xaa)]]+=0x1:_0x481b0e[_0x301152[_0x696a4e(0xaa)]]=0x1;}),_0x281319['forEach'](_0x2bec04=>_0x2bec04[_0x2c13d4(0xaf)]=_0x481b0e[_0x2bec04['id']]||0x0),{'rows':_0x281319,'count':_0x57896f};}async[_0x51e797(0xb4)](_0x1cabc0,_0x3bb9ce,_0x8ec603='id'){const _0x2aa3fa=_0x51e797;var _0x3eb06c;const {page:page=0x1,size:size=0xa,name:_0x4db41f,status:_0x2361bb,catId:_0x370890,role:_0x323925}=_0x3bb9ce,_0x1dabc0={};_0x4db41f&&(_0x1dabc0[_0x2aa3fa(0xe5)]=(0x0,typeorm_1[_0x2aa3fa(0x92)])('%'+_0x4db41f+'%')),_0x370890&&(_0x1dabc0[_0x2aa3fa(0xaa)]=_0x370890),_0x323925&&(_0x1dabc0[_0x2aa3fa(0xdf)]=_0x323925),_0x2361bb&&(_0x1dabc0['status']=_0x2361bb);const [_0x5c1bbc,_0x4cf48e]=await this[_0x2aa3fa(0xb7)]['findAndCount']({'where':_0x1dabc0,'order':{[_0x8ec603]:_0x2aa3fa(0xbf)},'skip':(page-0x1)*size,'take':size}),_0x4c6106=_0x5c1bbc[_0x2aa3fa(0x9b)](_0x5ec308=>_0x5ec308[_0x2aa3fa(0xaa)]),_0x3f84f0=await this[_0x2aa3fa(0xe6)]['find']({'where':{'id':(0x0,typeorm_1['In'])(_0x4c6106)}});return _0x5c1bbc['forEach'](_0xba2e91=>{const _0x4a356e=_0x2aa3fa,_0xed9da=_0x3f84f0[_0x4a356e(0x9d)](_0x22cbb0=>_0x22cbb0['id']===_0xba2e91[_0x4a356e(0xaa)]);_0xba2e91['catName']=_0xed9da?_0xed9da[_0x4a356e(0xe5)]:'';}),((_0x3eb06c=_0x1cabc0===null||_0x1cabc0===void 0x0?void 0x0:_0x1cabc0['user'])===null||_0x3eb06c===void 0x0?void 0x0:_0x3eb06c[_0x2aa3fa(0xdf)])!==_0x2aa3fa(0xa7)&&_0x5c1bbc['forEach'](_0x29d26a=>{const _0x30a94c=_0x2aa3fa;delete _0x29d26a[_0x30a94c(0xa3)];}),{'rows':_0x5c1bbc,'count':_0x4cf48e};}async['frontAppList'](_0x133284,_0x11a656,_0x5c6b7c='id'){const _0x3b5cbf=_0x51e797;var _0x21d583;const {page:page=0x1,size:size=0x3e8,name:_0x1ee157,catId:_0x3e0d10,role:_0x2e7d4f}=_0x11a656,_0xc2af3e=[{'status':(0x0,typeorm_1['In'])([0x1,0x4]),'userId':(0x0,typeorm_1[_0x3b5cbf(0xd8)])(),'public':![]},{'userId':(0x0,typeorm_1[_0x3b5cbf(0xb9)])(0x0),'public':!![]}],[_0x42db61,_0x5cd27d]=await this[_0x3b5cbf(0xb7)][_0x3b5cbf(0xac)]({'where':_0xc2af3e,'order':{'order':_0x3b5cbf(0xbf)},'skip':(page-0x1)*size,'take':size}),_0x23e359=_0x42db61[_0x3b5cbf(0x9b)](_0x4135a5=>_0x4135a5[_0x3b5cbf(0xaa)]),_0x1312f3=await this[_0x3b5cbf(0xe6)][_0x3b5cbf(0x9d)]({'where':{'id':(0x0,typeorm_1['In'])(_0x23e359)}});return _0x42db61[_0x3b5cbf(0xd4)](_0x33b192=>{const _0x2cdaf7=_0x3b5cbf,_0x26becc=_0x1312f3[_0x2cdaf7(0x9d)](_0x5c1158=>_0x5c1158['id']===_0x33b192[_0x2cdaf7(0xaa)]);_0x33b192['catName']=_0x26becc?_0x26becc['name']:'';}),((_0x21d583=_0x133284===null||_0x133284===void 0x0?void 0x0:_0x133284[_0x3b5cbf(0xc5)])===null||_0x21d583===void 0x0?void 0x0:_0x21d583[_0x3b5cbf(0xdf)])!==_0x3b5cbf(0xa7)&&_0x42db61[_0x3b5cbf(0xd4)](_0x34c091=>{const _0x2d2625=_0x3b5cbf;delete _0x34c091[_0x2d2625(0xa3)];}),{'rows':_0x42db61,'count':_0x5cd27d};}async['createApp'](_0x1fd120){const _0x430524=_0x51e797,{name:_0xd80345,catId:_0x17dd1b}=_0x1fd120;_0x1fd120['role']=_0x430524(0xe7);const _0x23c5a9=await this[_0x430524(0xb7)][_0x430524(0xb6)]({'where':{'name':_0xd80345}});if(_0x23c5a9)throw new common_1[(_0x430524(0xbd))]('该应用名称已存在！',common_1[_0x430524(0x94)][_0x430524(0xb3)]);const _0xbe7fd=await this['appCatsEntity'][_0x430524(0xb6)]({'where':{'id':_0x17dd1b}});if(!_0xbe7fd)throw new common_1[(_0x430524(0xbd))](_0x430524(0xca),common_1['HttpStatus']['BAD_REQUEST']);return await this[_0x430524(0xb7)][_0x430524(0xc9)](_0x1fd120);}async[_0x51e797(0xc3)](_0x2d43a5,_0x5b239f){const _0x593596=_0x51e797,{id:_0x3c5d4c}=_0x5b239f[_0x593596(0xc5)],{name:_0x449db4,catId:_0x122f3a,des:_0x4d0e61,preset:_0x2c8a6d,coverImg:_0x4699fd,demoData:_0x2bbf69,public:_0x3d801f,appId:_0x540378}=_0x2d43a5;if(_0x540378){const _0x44d27f=await this[_0x593596(0xb7)]['findOne']({'where':{'id':_0x540378,'userId':_0x3c5d4c}});if(!_0x44d27f)throw new common_1[(_0x593596(0xbd))](_0x593596(0x9e),common_1[_0x593596(0x94)]['BAD_REQUEST']);const _0x11798={'name':_0x449db4,'catId':_0x122f3a,'des':_0x4d0e61,'preset':_0x2c8a6d,'coverImg':_0x4699fd,'demoData':_0x2bbf69,'public':_0x3d801f,'status':_0x3d801f?0x3:0x1},_0x4d6f0c=await this['appEntity'][_0x593596(0xab)]({'id':_0x540378,'userId':_0x3c5d4c},_0x11798);if(_0x4d6f0c[_0x593596(0xdc)])return'修改成功';else throw new common_1[(_0x593596(0xbd))](_0x593596(0xde),common_1[_0x593596(0x94)][_0x593596(0xb3)]);}if(!_0x540378){const _0x1e267c=await this[_0x593596(0xe6)][_0x593596(0xb6)]({'where':{'id':_0x122f3a}});if(!_0x1e267c)throw new common_1[(_0x593596(0xbd))]('该分类不存在！',common_1[_0x593596(0x94)][_0x593596(0xb3)]);const _0xf34ee2=await this[_0x593596(0xb7)][_0x593596(0xb6)]({'where':{'name':_0x449db4}});if(_0xf34ee2)throw new common_1[(_0x593596(0xbd))](_0x593596(0xa0),common_1[_0x593596(0x94)][_0x593596(0xb3)]);const _0x5192b3={'name':_0x449db4,'catId':_0x122f3a,'des':_0x4d0e61,'preset':_0x2c8a6d,'coverImg':_0x4699fd,'status':_0x3d801f?0x3:0x1,'demoData':_0x2bbf69,'public':_0x3d801f,'role':_0x593596(0xc5),'userId':_0x3c5d4c},_0x5712fe=await this[_0x593596(0xb7)]['save'](_0x5192b3),_0x1d62c2={'appId':_0x5712fe['id'],'userId':_0x3c5d4c,'appType':_0x593596(0xc5),'public':_0x3d801f,'status':_0x3d801f?0x3:0x1,'catId':_0x122f3a};return this[_0x593596(0xea)][_0x593596(0xc9)](_0x1d62c2);}}async[_0x51e797(0x9c)](_0x596e36){const _0x137ee8=_0x51e797,{id:_0x24a293,name:_0x506f8a,catId:_0x2f7954,status:_0x37b03c}=_0x596e36,_0x2ac82d=await this[_0x137ee8(0xb7)][_0x137ee8(0xb6)]({'where':{'name':_0x506f8a,'id':(0x0,typeorm_1['Not'])(_0x24a293)}});if(_0x2ac82d)throw new common_1[(_0x137ee8(0xbd))]('该应用名称已存在！',common_1['HttpStatus'][_0x137ee8(0xb3)]);const _0x17481e=await this[_0x137ee8(0xe6)][_0x137ee8(0xb6)]({'where':{'id':_0x2f7954}});if(!_0x17481e)throw new common_1[(_0x137ee8(0xbd))](_0x137ee8(0xca),common_1[_0x137ee8(0x94)]['BAD_REQUEST']);const _0x215eb6=await this[_0x137ee8(0xb7)][_0x137ee8(0xb6)]({'where':{'id':_0x24a293}});_0x215eb6[_0x137ee8(0xc1)]!==_0x596e36[_0x137ee8(0xc1)]&&await this[_0x137ee8(0xea)][_0x137ee8(0xab)]({'appId':_0x24a293},{'status':_0x37b03c});const _0x1a7ccc=await this[_0x137ee8(0xb7)][_0x137ee8(0xab)]({'id':_0x24a293},_0x596e36);if(_0x1a7ccc[_0x137ee8(0xdc)]>0x0)return'修改App信息成功';throw new common_1[(_0x137ee8(0xbd))](_0x137ee8(0xc0),common_1[_0x137ee8(0x94)][_0x137ee8(0xb3)]);}async[_0x51e797(0x98)](_0x1fd2a5){const _0x5b2151=_0x51e797,{id:_0x459d7c}=_0x1fd2a5,_0x246117=await this['appEntity'][_0x5b2151(0xb6)]({'where':{'id':_0x459d7c}});if(!_0x246117)throw new common_1[(_0x5b2151(0xbd))]('该应用不存在！',common_1[_0x5b2151(0x94)][_0x5b2151(0xb3)]);const _0x27e7e1=await this[_0x5b2151(0xea)]['count']({'where':{'appId':_0x459d7c}});if(_0x27e7e1>0x0)throw new common_1[(_0x5b2151(0xbd))](_0x5b2151(0xa6),common_1['HttpStatus'][_0x5b2151(0xb3)]);const _0x227e79=await this[_0x5b2151(0xb7)][_0x5b2151(0xe2)](_0x459d7c);if(_0x227e79[_0x5b2151(0xdc)]>0x0)return _0x5b2151(0xe1);throw new common_1[(_0x5b2151(0xbd))](_0x5b2151(0xed),common_1['HttpStatus']['BAD_REQUEST']);}async[_0x51e797(0xd3)](_0x2fefa8){const _0x563457=_0x51e797,{id:_0x12c443}=_0x2fefa8,_0x45c1bd=await this['appEntity'][_0x563457(0xb6)]({'where':{'id':_0x12c443,'status':0x3}});if(!_0x45c1bd)throw new common_1['HttpException'](_0x563457(0xe9),common_1[_0x563457(0x94)][_0x563457(0xb3)]);return await this[_0x563457(0xb7)][_0x563457(0xab)]({'id':_0x12c443},{'status':0x4}),await this[_0x563457(0xea)][_0x563457(0xab)]({'appId':_0x12c443},{'status':0x4}),'应用审核通过';}async[_0x51e797(0xb2)](_0x10f513){const _0x362527=_0x51e797,{id:_0xad00be}=_0x10f513,_0x4ab378=await this[_0x362527(0xb7)][_0x362527(0xb6)]({'where':{'id':_0xad00be,'status':0x3}});if(!_0x4ab378)throw new common_1[(_0x362527(0xbd))]('该应用不存在！',common_1[_0x362527(0x94)][_0x362527(0xb3)]);return await this[_0x362527(0xb7)][_0x362527(0xab)]({'id':_0xad00be},{'status':0x5}),await this['userAppsEntity']['update']({'appId':_0xad00be},{'status':0x5}),'应用审核拒绝完成';}async['delMineApp'](_0x261948,_0x48b323){const _0x23a649=_0x51e797,{id:_0x2cddae}=_0x261948,_0x395428=await this['appEntity'][_0x23a649(0xb6)]({'where':{'id':_0x2cddae,'userId':_0x48b323['user']['id']}});if(!_0x395428)throw new common_1['HttpException']('您正在操作一个不存在的资源！',common_1['HttpStatus'][_0x23a649(0xb3)]);return await this[_0x23a649(0xb7)][_0x23a649(0xe2)](_0x2cddae),await this[_0x23a649(0xea)]['delete']({'appId':_0x2cddae,'userId':_0x48b323[_0x23a649(0xc5)]['id']}),_0x23a649(0xd6);}async[_0x51e797(0xcc)](_0xe0f1b3,_0x172ddc){const _0x318a02=_0x51e797,{appId:_0x509826}=_0xe0f1b3,{id:_0x306f36}=_0x172ddc[_0x318a02(0xc5)],_0x5e03d4=await this['userAppsEntity'][_0x318a02(0xb6)]({'where':{'appId':_0x509826,'userId':_0x306f36}});if(_0x5e03d4){const _0x3c0c9f=await this[_0x318a02(0xea)][_0x318a02(0xe2)]({'appId':_0x509826,'userId':_0x306f36});if(_0x3c0c9f['affected']>0x0)return'取消收藏成功!';else throw new common_1[(_0x318a02(0xbd))](_0x318a02(0xb0),common_1[_0x318a02(0x94)][_0x318a02(0xb3)]);}const _0x145ff7=await this['appEntity']['findOne']({'where':{'id':_0x509826}}),{id:_0x140779,role:_0x92b1b4,catId:_0x589a59}=_0x145ff7,_0x4b6ac6={'userId':_0x306f36,'appId':_0x140779,'catId':_0x589a59,'appRole':_0x92b1b4,'public':!![],'status':0x1};return await this[_0x318a02(0xea)]['save'](_0x4b6ac6),_0x318a02(0xa9);}async[_0x51e797(0x95)](_0x3ce5cc,_0x1c851d={'page':0x1,'size':0x1e}){const _0x4f13b7=_0x51e797,{id:_0x393fde}=_0x3ce5cc[_0x4f13b7(0xc5)],{page:page=0x1,size:size=0x1e}=_0x1c851d,[_0x1cfda5,_0x338f0c]=await this[_0x4f13b7(0xea)][_0x4f13b7(0xac)]({'where':{'userId':_0x393fde,'status':(0x0,typeorm_1['In'])([0x1,0x3,0x4,0x5])},'order':{'id':_0x4f13b7(0xbf)},'skip':(page-0x1)*size,'take':size}),_0x416ea1=_0x1cfda5[_0x4f13b7(0x9b)](_0x432988=>_0x432988['appId']),_0xa18d75=await this[_0x4f13b7(0xb7)][_0x4f13b7(0x9d)]({'where':{'id':(0x0,typeorm_1['In'])(_0x416ea1)}});return _0x1cfda5['forEach'](_0x24b075=>{const _0x153e23=_0x4f13b7,_0x566484=_0xa18d75[_0x153e23(0x9d)](_0xcf2dea=>_0xcf2dea['id']===_0x24b075[_0x153e23(0xce)]);_0x24b075['appName']=_0x566484?_0x566484[_0x153e23(0xe5)]:'',_0x24b075[_0x153e23(0xc2)]=_0x566484?_0x566484['role']:'',_0x24b075[_0x153e23(0xbb)]=_0x566484?_0x566484['des']:'',_0x24b075[_0x153e23(0xad)]=_0x566484?_0x566484[_0x153e23(0xad)]:'',_0x24b075[_0x153e23(0xc7)]=_0x566484?_0x566484['demoData']:'',_0x24b075[_0x153e23(0xa3)]=_0x566484[_0x153e23(0xc4)]===_0x393fde?_0x566484[_0x153e23(0xa3)]:'******';}),{'rows':_0x1cfda5,'count':_0x338f0c};}};AppService=__decorate([(0x0,common_1[_0x51e797(0xda)])(),__param(0x0,(0x0,typeorm_2[_0x51e797(0xb1)])(appCats_entity_1[_0x51e797(0x99)])),__param(0x1,(0x0,typeorm_2[_0x51e797(0xb1)])(app_entity_1['AppEntity'])),__param(0x2,(0x0,typeorm_2[_0x51e797(0xb1)])(userApps_entity_1[_0x51e797(0xd5)])),__metadata('design:paramtypes',[typeorm_1['Repository'],typeorm_1[_0x51e797(0xdd)],typeorm_1['Repository']])],AppService),exports[_0x51e797(0x91)]=AppService;