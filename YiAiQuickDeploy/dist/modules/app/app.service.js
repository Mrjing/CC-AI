'use strict';const _0x3b14e2=_0x36be;(function(_0x5d206c,_0x59c503){const _0x2dbf86=_0x36be,_0x402be5=_0x5d206c();while(!![]){try{const _0x3387c4=-parseInt(_0x2dbf86(0xd5))/0x1+-parseInt(_0x2dbf86(0xbb))/0x2*(-parseInt(_0x2dbf86(0xb6))/0x3)+-parseInt(_0x2dbf86(0xfd))/0x4+-parseInt(_0x2dbf86(0xb7))/0x5*(-parseInt(_0x2dbf86(0xc9))/0x6)+-parseInt(_0x2dbf86(0xbc))/0x7+parseInt(_0x2dbf86(0xd1))/0x8+parseInt(_0x2dbf86(0xdc))/0x9;if(_0x3387c4===_0x59c503)break;else _0x402be5['push'](_0x402be5['shift']());}catch(_0x3fe8d3){_0x402be5['push'](_0x402be5['shift']());}}}(_0x2963,0xaa3bd));var __decorate=this&&this[_0x3b14e2(0xd9)]||function(_0x11b202,_0x15e7ca,_0x5615c6,_0x39573c){const _0x4820ce=_0x3b14e2;var _0x22dd9a=arguments['length'],_0x5e2a94=_0x22dd9a<0x3?_0x15e7ca:_0x39573c===null?_0x39573c=Object['getOwnPropertyDescriptor'](_0x15e7ca,_0x5615c6):_0x39573c,_0x231335;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x4820ce(0xbd))_0x5e2a94=Reflect[_0x4820ce(0xe1)](_0x11b202,_0x15e7ca,_0x5615c6,_0x39573c);else{for(var _0x3e1ce1=_0x11b202[_0x4820ce(0xe6)]-0x1;_0x3e1ce1>=0x0;_0x3e1ce1--)if(_0x231335=_0x11b202[_0x3e1ce1])_0x5e2a94=(_0x22dd9a<0x3?_0x231335(_0x5e2a94):_0x22dd9a>0x3?_0x231335(_0x15e7ca,_0x5615c6,_0x5e2a94):_0x231335(_0x15e7ca,_0x5615c6))||_0x5e2a94;}return _0x22dd9a>0x3&&_0x5e2a94&&Object[_0x4820ce(0xb0)](_0x15e7ca,_0x5615c6,_0x5e2a94),_0x5e2a94;},__metadata=this&&this[_0x3b14e2(0xc2)]||function(_0x1cc741,_0xa0557a){const _0x5dab45=_0x3b14e2;if(typeof Reflect==='object'&&typeof Reflect[_0x5dab45(0xc6)]===_0x5dab45(0xbd))return Reflect[_0x5dab45(0xc6)](_0x1cc741,_0xa0557a);},__param=this&&this[_0x3b14e2(0xb5)]||function(_0x172ac8,_0x251452){return function(_0xad4792,_0xba21cb){_0x251452(_0xad4792,_0xba21cb,_0x172ac8);};};function _0x36be(_0x5efd62,_0x26943e){const _0x29630c=_0x2963();return _0x36be=function(_0x36be25,_0x4ed5f6){_0x36be25=_0x36be25-0xa7;let _0x5b3f44=_0x29630c[_0x36be25];return _0x5b3f44;},_0x36be(_0x5efd62,_0x26943e);}Object['defineProperty'](exports,_0x3b14e2(0xca),{'value':!![]}),exports['AppService']=void 0x0;const common_1=require(_0x3b14e2(0xc7)),appCats_entity_1=require(_0x3b14e2(0xd4)),typeorm_1=require(_0x3b14e2(0xdb)),typeorm_2=require(_0x3b14e2(0xc3)),app_entity_1=require(_0x3b14e2(0xba)),userApps_entity_1=require('./userApps.entity');function _0x2963(){const _0x2ba3ca=['删除失败！','userAppsEntity','updateAppCats','修改App信息失败！','decorate','preset','Like','UserAppsEntity','role','length','Repository','BAD_REQUEST','该分类名称已存在！','Not','IsNull','DESC','frontAppList','findOne','appEntity','修改成功','userId','该分类不存在！','appName','HttpStatus','已将应用加入到我的个人工作台！','appRole','Injectable','demoData','delAppCat','该应用不存在！','map','取消收藏失败！','4407780ppmtKB','删除App失败！','findAndCount','catId','该应用名称已存在！','affected','appCatsEntity','system','coverImg','find','delApp','appDes','AppEntity','该应用已被用户关联使用中，不可删除！','status','MoreThan','customApp','appCount','defineProperty','count','forEach','******','auditFail','__param','9yzdvqu','25PDHrlZ','appCatsList','name','./app.entity','205976pMoIUM','1298234eFgjlt','function','appList','delete','您正在编辑一个不存在的应用！','user','__metadata','@nestjs/typeorm','createAppCat','InjectRepository','metadata','@nestjs/common','mineApps','1397226xWIuUM','__esModule','includes','super','update','应用审核通过','取消收藏成功!','删除应用成功！','5321760wcAmzd','删除成功','save','./appCats.entity','1031068shjFkI','design:paramtypes','updateApp','catName','__decorate','HttpException','typeorm','7894917AedrAp'];_0x2963=function(){return _0x2ba3ca;};return _0x2963();}let AppService=class AppService{constructor(_0x54a21b,_0x2e15f2,_0x58750c){const _0xe0a100=_0x3b14e2;this[_0xe0a100(0x103)]=_0x54a21b,this[_0xe0a100(0xef)]=_0x2e15f2,this[_0xe0a100(0xde)]=_0x58750c;}async[_0x3b14e2(0xc4)](_0x19eff2){const _0x1b5192=_0x3b14e2,{name:_0x4b2e2a}=_0x19eff2,_0x369d99=await this[_0x1b5192(0x103)][_0x1b5192(0xee)]({'where':{'name':_0x4b2e2a}});if(_0x369d99)throw new common_1[(_0x1b5192(0xda))](_0x1b5192(0xe9),common_1[_0x1b5192(0xf4)][_0x1b5192(0xe8)]);return await this[_0x1b5192(0x103)][_0x1b5192(0xd3)](_0x19eff2);}async[_0x3b14e2(0xf9)](_0x1b90e2){const _0x4953b7=_0x3b14e2,{id:_0x78fabe}=_0x1b90e2,_0x2fab18=await this[_0x4953b7(0x103)]['findOne']({'where':{'id':_0x78fabe}});if(!_0x2fab18)throw new common_1[(_0x4953b7(0xda))]('该分类不存在！',common_1['HttpStatus'][_0x4953b7(0xe8)]);const _0x101422=await this['appEntity'][_0x4953b7(0xb1)]({'where':{'catId':_0x78fabe}});if(_0x101422>0x0)throw new common_1[(_0x4953b7(0xda))]('该分类下存在App，不可删除！',common_1[_0x4953b7(0xf4)][_0x4953b7(0xe8)]);const _0x217f21=await this['appCatsEntity'][_0x4953b7(0xbf)](_0x78fabe);if(_0x217f21[_0x4953b7(0x102)]>0x0)return _0x4953b7(0xd2);throw new common_1[(_0x4953b7(0xda))](_0x4953b7(0xdd),common_1[_0x4953b7(0xf4)]['BAD_REQUEST']);}async[_0x3b14e2(0xdf)](_0x1595c2){const _0x513074=_0x3b14e2,{id:_0x3a0c4c,name:_0x25ecf4}=_0x1595c2,_0x1ca714=await this['appCatsEntity'][_0x513074(0xee)]({'where':{'name':_0x25ecf4,'id':(0x0,typeorm_1[_0x513074(0xea)])(_0x3a0c4c)}});if(_0x1ca714)throw new common_1[(_0x513074(0xda))]('该分类名称已存在！',common_1[_0x513074(0xf4)][_0x513074(0xe8)]);const _0x4e3672=await this[_0x513074(0x103)]['update']({'id':_0x3a0c4c},_0x1595c2);if(_0x4e3672[_0x513074(0x102)]>0x0)return _0x513074(0xf0);throw new common_1[(_0x513074(0xda))]('修改失败！',common_1[_0x513074(0xf4)][_0x513074(0xe8)]);}async['queryOneCat'](_0x3df938){const _0x462857=_0x3b14e2,{id:_0x23aa08}=_0x3df938;if(!_0x23aa08)throw new common_1[(_0x462857(0xda))]('缺失必要参数！',common_1['HttpStatus'][_0x462857(0xe8)]);const _0x1d4495=await this[_0x462857(0xef)][_0x462857(0xee)]({'where':{'id':_0x23aa08}}),{demoData:_0x165d01,coverImg:_0x34c37c,des:_0x2e4bb9,name:_0x3009f9}=_0x1d4495;return{'demoData':_0x165d01?_0x165d01['split']('\x0a'):[],'coverImg':_0x34c37c,'des':_0x2e4bb9,'name':_0x3009f9};}async[_0x3b14e2(0xb8)](_0x514209){const _0x34fdf6=_0x3b14e2,{page:page=0x1,size:size=0xa,name:_0x21d14d,status:_0x35c03e}=_0x514209,_0x30be50={};_0x21d14d&&(_0x30be50[_0x34fdf6(0xb9)]=(0x0,typeorm_1[_0x34fdf6(0xe3)])('%'+_0x21d14d+'%')),[0x0,0x1,'0','1'][_0x34fdf6(0xcb)](_0x35c03e)&&(_0x30be50[_0x34fdf6(0xac)]=_0x35c03e);const [_0x221e24,_0x19142a]=await this['appCatsEntity'][_0x34fdf6(0xff)]({'where':_0x30be50,'order':{'order':_0x34fdf6(0xec)},'skip':(page-0x1)*size,'take':size}),_0x23d988=_0x221e24[_0x34fdf6(0xfb)](_0x587fef=>_0x587fef['id']),_0x350078=await this['appEntity']['find']({'where':{'catId':(0x0,typeorm_1['In'])(_0x23d988)}}),_0x464f42={};return _0x350078['forEach'](_0x192fb3=>{const _0x3757dc=_0x34fdf6;_0x464f42[_0x192fb3[_0x3757dc(0x100)]]?_0x464f42[_0x192fb3[_0x3757dc(0x100)]]+=0x1:_0x464f42[_0x192fb3[_0x3757dc(0x100)]]=0x1;}),_0x221e24['forEach'](_0x172c24=>_0x172c24[_0x34fdf6(0xaf)]=_0x464f42[_0x172c24['id']]||0x0),{'rows':_0x221e24,'count':_0x19142a};}async[_0x3b14e2(0xbe)](_0x5a3c35,_0x3555ac,_0x361941='id'){const _0x4ede38=_0x3b14e2;var _0x3f48fc;const {page:page=0x1,size:size=0xa,name:_0x39ee1e,status:_0x9d0d74,catId:_0x2fa8f0,role:_0x55337c}=_0x3555ac,_0x5754a6={};_0x39ee1e&&(_0x5754a6[_0x4ede38(0xb9)]=(0x0,typeorm_1[_0x4ede38(0xe3)])('%'+_0x39ee1e+'%')),_0x2fa8f0&&(_0x5754a6[_0x4ede38(0x100)]=_0x2fa8f0),_0x55337c&&(_0x5754a6[_0x4ede38(0xe5)]=_0x55337c),_0x9d0d74&&(_0x5754a6[_0x4ede38(0xac)]=_0x9d0d74);const [_0x55b3b2,_0x4a241c]=await this[_0x4ede38(0xef)][_0x4ede38(0xff)]({'where':_0x5754a6,'order':{[_0x361941]:'DESC'},'skip':(page-0x1)*size,'take':size}),_0x42bc92=_0x55b3b2['map'](_0x5b05bc=>_0x5b05bc[_0x4ede38(0x100)]),_0xd8b341=await this[_0x4ede38(0x103)]['find']({'where':{'id':(0x0,typeorm_1['In'])(_0x42bc92)}});return _0x55b3b2[_0x4ede38(0xb2)](_0x4ae4a4=>{const _0x2fc700=_0x4ede38,_0x3d5603=_0xd8b341[_0x2fc700(0xa7)](_0x36afaf=>_0x36afaf['id']===_0x4ae4a4['catId']);_0x4ae4a4[_0x2fc700(0xd8)]=_0x3d5603?_0x3d5603[_0x2fc700(0xb9)]:'';}),((_0x3f48fc=_0x5a3c35===null||_0x5a3c35===void 0x0?void 0x0:_0x5a3c35[_0x4ede38(0xc1)])===null||_0x3f48fc===void 0x0?void 0x0:_0x3f48fc[_0x4ede38(0xe5)])!==_0x4ede38(0xcc)&&_0x55b3b2[_0x4ede38(0xb2)](_0xad07cb=>{delete _0xad07cb['preset'];}),{'rows':_0x55b3b2,'count':_0x4a241c};}async[_0x3b14e2(0xed)](_0xbce1f1,_0x33d741,_0x479596='id'){const _0x2db5ea=_0x3b14e2;var _0x312e4f;const {page:page=0x1,size:size=0x3e8,name:_0x99b683,catId:_0x1a4512,role:_0x4e1268}=_0x33d741,_0x14d50a=[{'status':(0x0,typeorm_1['In'])([0x1,0x4]),'userId':(0x0,typeorm_1[_0x2db5ea(0xeb)])(),'public':![]},{'userId':(0x0,typeorm_1[_0x2db5ea(0xad)])(0x0),'public':!![]}],[_0x23822f,_0x3f9129]=await this[_0x2db5ea(0xef)][_0x2db5ea(0xff)]({'where':_0x14d50a,'order':{'order':'DESC'},'skip':(page-0x1)*size,'take':size}),_0x328966=_0x23822f[_0x2db5ea(0xfb)](_0x59b50d=>_0x59b50d[_0x2db5ea(0x100)]),_0x289763=await this[_0x2db5ea(0x103)][_0x2db5ea(0xa7)]({'where':{'id':(0x0,typeorm_1['In'])(_0x328966)}});return _0x23822f[_0x2db5ea(0xb2)](_0x117031=>{const _0x3c5cf2=_0x2db5ea,_0x5bd455=_0x289763[_0x3c5cf2(0xa7)](_0x3a9a8b=>_0x3a9a8b['id']===_0x117031[_0x3c5cf2(0x100)]);_0x117031[_0x3c5cf2(0xd8)]=_0x5bd455?_0x5bd455[_0x3c5cf2(0xb9)]:'';}),((_0x312e4f=_0xbce1f1===null||_0xbce1f1===void 0x0?void 0x0:_0xbce1f1[_0x2db5ea(0xc1)])===null||_0x312e4f===void 0x0?void 0x0:_0x312e4f[_0x2db5ea(0xe5)])!=='super'&&_0x23822f[_0x2db5ea(0xb2)](_0x247912=>{const _0x349c78=_0x2db5ea;delete _0x247912[_0x349c78(0xe2)];}),{'rows':_0x23822f,'count':_0x3f9129};}async['createApp'](_0x2e0710){const _0x353275=_0x3b14e2,{name:_0x35da46,catId:_0x32d231}=_0x2e0710;_0x2e0710[_0x353275(0xe5)]=_0x353275(0x104);const _0x28f8bb=await this[_0x353275(0xef)][_0x353275(0xee)]({'where':{'name':_0x35da46}});if(_0x28f8bb)throw new common_1[(_0x353275(0xda))]('该应用名称已存在！',common_1[_0x353275(0xf4)][_0x353275(0xe8)]);const _0x307dac=await this['appCatsEntity'][_0x353275(0xee)]({'where':{'id':_0x32d231}});if(!_0x307dac)throw new common_1[(_0x353275(0xda))]('该分类不存在！',common_1[_0x353275(0xf4)][_0x353275(0xe8)]);return await this[_0x353275(0xef)]['save'](_0x2e0710);}async[_0x3b14e2(0xae)](_0x3a8149,_0xcca399){const _0x58af50=_0x3b14e2,{id:_0x5f3918}=_0xcca399[_0x58af50(0xc1)],{name:_0x3f6050,catId:_0x135c5c,des:_0x4f2de1,preset:_0x3b2d19,coverImg:_0x215503,demoData:_0x153f5f,public:_0x36155b,appId:_0x134954}=_0x3a8149;if(_0x134954){const _0x4bcba7=await this[_0x58af50(0xef)][_0x58af50(0xee)]({'where':{'id':_0x134954,'userId':_0x5f3918}});if(!_0x4bcba7)throw new common_1['HttpException'](_0x58af50(0xc0),common_1[_0x58af50(0xf4)][_0x58af50(0xe8)]);const _0x226c37={'name':_0x3f6050,'catId':_0x135c5c,'des':_0x4f2de1,'preset':_0x3b2d19,'coverImg':_0x215503,'demoData':_0x153f5f,'public':_0x36155b,'status':_0x36155b?0x3:0x1},_0x36baf0=await this[_0x58af50(0xef)][_0x58af50(0xcd)]({'id':_0x134954,'userId':_0x5f3918},_0x226c37);if(_0x36baf0[_0x58af50(0x102)])return _0x58af50(0xf0);else throw new common_1[(_0x58af50(0xda))]('修改失败！',common_1['HttpStatus']['BAD_REQUEST']);}if(!_0x134954){const _0x53509b=await this[_0x58af50(0x103)][_0x58af50(0xee)]({'where':{'id':_0x135c5c}});if(!_0x53509b)throw new common_1[(_0x58af50(0xda))](_0x58af50(0xf2),common_1[_0x58af50(0xf4)][_0x58af50(0xe8)]);const _0x382bb4=await this['appEntity']['findOne']({'where':{'name':_0x3f6050}});if(_0x382bb4)throw new common_1['HttpException'](_0x58af50(0x101),common_1[_0x58af50(0xf4)][_0x58af50(0xe8)]);const _0xae7e74={'name':_0x3f6050,'catId':_0x135c5c,'des':_0x4f2de1,'preset':_0x3b2d19,'coverImg':_0x215503,'status':_0x36155b?0x3:0x1,'demoData':_0x153f5f,'public':_0x36155b,'role':_0x58af50(0xc1),'userId':_0x5f3918},_0x37b05e=await this[_0x58af50(0xef)][_0x58af50(0xd3)](_0xae7e74),_0x9fdad1={'appId':_0x37b05e['id'],'userId':_0x5f3918,'appType':_0x58af50(0xc1),'public':_0x36155b,'status':_0x36155b?0x3:0x1,'catId':_0x135c5c};return this[_0x58af50(0xde)][_0x58af50(0xd3)](_0x9fdad1);}}async[_0x3b14e2(0xd7)](_0x1d3c76){const _0x57cf22=_0x3b14e2,{id:_0x95ab78,name:_0x2c9689,catId:_0x274e4d,status:_0x1f009b}=_0x1d3c76,_0x59aea7=await this[_0x57cf22(0xef)][_0x57cf22(0xee)]({'where':{'name':_0x2c9689,'id':(0x0,typeorm_1['Not'])(_0x95ab78)}});if(_0x59aea7)throw new common_1[(_0x57cf22(0xda))](_0x57cf22(0x101),common_1['HttpStatus'][_0x57cf22(0xe8)]);const _0x57044b=await this[_0x57cf22(0x103)][_0x57cf22(0xee)]({'where':{'id':_0x274e4d}});if(!_0x57044b)throw new common_1[(_0x57cf22(0xda))]('该分类不存在！',common_1[_0x57cf22(0xf4)][_0x57cf22(0xe8)]);const _0x48abe5=await this['appEntity'][_0x57cf22(0xee)]({'where':{'id':_0x95ab78}});_0x48abe5[_0x57cf22(0xac)]!==_0x1d3c76[_0x57cf22(0xac)]&&await this[_0x57cf22(0xde)][_0x57cf22(0xcd)]({'appId':_0x95ab78},{'status':_0x1f009b});const _0x20266c=await this[_0x57cf22(0xef)][_0x57cf22(0xcd)]({'id':_0x95ab78},_0x1d3c76);if(_0x20266c['affected']>0x0)return'修改App信息成功';throw new common_1['HttpException'](_0x57cf22(0xe0),common_1[_0x57cf22(0xf4)]['BAD_REQUEST']);}async[_0x3b14e2(0xa8)](_0x25e148){const _0x17f708=_0x3b14e2,{id:_0x375634}=_0x25e148,_0x472ad0=await this[_0x17f708(0xef)][_0x17f708(0xee)]({'where':{'id':_0x375634}});if(!_0x472ad0)throw new common_1['HttpException'](_0x17f708(0xfa),common_1['HttpStatus'][_0x17f708(0xe8)]);const _0xd44eb5=await this['userAppsEntity'][_0x17f708(0xb1)]({'where':{'appId':_0x375634}});if(_0xd44eb5>0x0)throw new common_1['HttpException'](_0x17f708(0xab),common_1[_0x17f708(0xf4)]['BAD_REQUEST']);const _0x537c67=await this['appEntity'][_0x17f708(0xbf)](_0x375634);if(_0x537c67['affected']>0x0)return'删除App成功';throw new common_1[(_0x17f708(0xda))](_0x17f708(0xfe),common_1[_0x17f708(0xf4)][_0x17f708(0xe8)]);}async['auditPass'](_0x314e50){const _0x5808c2=_0x3b14e2,{id:_0x3155fb}=_0x314e50,_0x2a81d7=await this[_0x5808c2(0xef)][_0x5808c2(0xee)]({'where':{'id':_0x3155fb,'status':0x3}});if(!_0x2a81d7)throw new common_1[(_0x5808c2(0xda))]('该应用不存在！',common_1[_0x5808c2(0xf4)][_0x5808c2(0xe8)]);return await this[_0x5808c2(0xef)][_0x5808c2(0xcd)]({'id':_0x3155fb},{'status':0x4}),await this[_0x5808c2(0xde)][_0x5808c2(0xcd)]({'appId':_0x3155fb},{'status':0x4}),_0x5808c2(0xce);}async[_0x3b14e2(0xb4)](_0x17288a){const _0x247137=_0x3b14e2,{id:_0x2fe161}=_0x17288a,_0x237b9b=await this['appEntity'][_0x247137(0xee)]({'where':{'id':_0x2fe161,'status':0x3}});if(!_0x237b9b)throw new common_1[(_0x247137(0xda))](_0x247137(0xfa),common_1[_0x247137(0xf4)][_0x247137(0xe8)]);return await this[_0x247137(0xef)]['update']({'id':_0x2fe161},{'status':0x5}),await this[_0x247137(0xde)][_0x247137(0xcd)]({'appId':_0x2fe161},{'status':0x5}),'应用审核拒绝完成';}async['delMineApp'](_0x14aa3b,_0x24be6b){const _0x35d9a6=_0x3b14e2,{id:_0x2a5ac8}=_0x14aa3b,_0x178744=await this['appEntity'][_0x35d9a6(0xee)]({'where':{'id':_0x2a5ac8,'userId':_0x24be6b['user']['id']}});if(!_0x178744)throw new common_1[(_0x35d9a6(0xda))]('您正在操作一个不存在的资源！',common_1[_0x35d9a6(0xf4)][_0x35d9a6(0xe8)]);return await this['appEntity'][_0x35d9a6(0xbf)](_0x2a5ac8),await this['userAppsEntity'][_0x35d9a6(0xbf)]({'appId':_0x2a5ac8,'userId':_0x24be6b['user']['id']}),_0x35d9a6(0xd0);}async['collect'](_0x430c8a,_0x5537aa){const _0x5102d0=_0x3b14e2,{appId:_0x2caac1}=_0x430c8a,{id:_0x3a4019}=_0x5537aa[_0x5102d0(0xc1)],_0x366cb2=await this[_0x5102d0(0xde)][_0x5102d0(0xee)]({'where':{'appId':_0x2caac1,'userId':_0x3a4019}});if(_0x366cb2){const _0xe31f16=await this[_0x5102d0(0xde)][_0x5102d0(0xbf)]({'appId':_0x2caac1,'userId':_0x3a4019});if(_0xe31f16[_0x5102d0(0x102)]>0x0)return _0x5102d0(0xcf);else throw new common_1[(_0x5102d0(0xda))](_0x5102d0(0xfc),common_1[_0x5102d0(0xf4)][_0x5102d0(0xe8)]);}const _0x51080a=await this['appEntity'][_0x5102d0(0xee)]({'where':{'id':_0x2caac1}}),{id:_0x39aa6f,role:_0x44c0c4,catId:_0x1529d8}=_0x51080a,_0x47dd34={'userId':_0x3a4019,'appId':_0x39aa6f,'catId':_0x1529d8,'appRole':_0x44c0c4,'public':!![],'status':0x1};return await this[_0x5102d0(0xde)][_0x5102d0(0xd3)](_0x47dd34),_0x5102d0(0xf5);}async[_0x3b14e2(0xc8)](_0x36d2e4,_0x3831a5={'page':0x1,'size':0x1e}){const _0x10ed4f=_0x3b14e2,{id:_0xd255f4}=_0x36d2e4[_0x10ed4f(0xc1)],{page:page=0x1,size:size=0x1e}=_0x3831a5,[_0x39cdd3,_0x5c44bb]=await this['userAppsEntity'][_0x10ed4f(0xff)]({'where':{'userId':_0xd255f4,'status':(0x0,typeorm_1['In'])([0x1,0x3,0x4,0x5])},'order':{'id':_0x10ed4f(0xec)},'skip':(page-0x1)*size,'take':size}),_0x3556f4=_0x39cdd3[_0x10ed4f(0xfb)](_0x3b661e=>_0x3b661e['appId']),_0x35c63a=await this['appEntity'][_0x10ed4f(0xa7)]({'where':{'id':(0x0,typeorm_1['In'])(_0x3556f4)}});return _0x39cdd3['forEach'](_0x56003b=>{const _0x5d8d7b=_0x10ed4f,_0xf219f9=_0x35c63a[_0x5d8d7b(0xa7)](_0x420e26=>_0x420e26['id']===_0x56003b['appId']);_0x56003b[_0x5d8d7b(0xf3)]=_0xf219f9?_0xf219f9[_0x5d8d7b(0xb9)]:'',_0x56003b[_0x5d8d7b(0xf6)]=_0xf219f9?_0xf219f9['role']:'',_0x56003b[_0x5d8d7b(0xa9)]=_0xf219f9?_0xf219f9['des']:'',_0x56003b[_0x5d8d7b(0x105)]=_0xf219f9?_0xf219f9[_0x5d8d7b(0x105)]:'',_0x56003b[_0x5d8d7b(0xf8)]=_0xf219f9?_0xf219f9[_0x5d8d7b(0xf8)]:'',_0x56003b['preset']=_0xf219f9[_0x5d8d7b(0xf1)]===_0xd255f4?_0xf219f9[_0x5d8d7b(0xe2)]:_0x5d8d7b(0xb3);}),{'rows':_0x39cdd3,'count':_0x5c44bb};}};AppService=__decorate([(0x0,common_1[_0x3b14e2(0xf7)])(),__param(0x0,(0x0,typeorm_2['InjectRepository'])(appCats_entity_1['AppCatsEntity'])),__param(0x1,(0x0,typeorm_2[_0x3b14e2(0xc5)])(app_entity_1[_0x3b14e2(0xaa)])),__param(0x2,(0x0,typeorm_2[_0x3b14e2(0xc5)])(userApps_entity_1[_0x3b14e2(0xe4)])),__metadata(_0x3b14e2(0xd6),[typeorm_1['Repository'],typeorm_1[_0x3b14e2(0xe7)],typeorm_1[_0x3b14e2(0xe7)]])],AppService),exports['AppService']=AppService;