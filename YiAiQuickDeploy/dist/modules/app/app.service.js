'use strict';const _0x4b0ea3=_0x4ae1;(function(_0x4a3b8f,_0x35ca6e){const _0x3af1d5=_0x4ae1,_0x34a05a=_0x4a3b8f();while(!![]){try{const _0x4dbf86=parseInt(_0x3af1d5(0x11b))/0x1+-parseInt(_0x3af1d5(0xd8))/0x2+parseInt(_0x3af1d5(0xcd))/0x3+parseInt(_0x3af1d5(0x110))/0x4*(-parseInt(_0x3af1d5(0x103))/0x5)+-parseInt(_0x3af1d5(0x108))/0x6*(-parseInt(_0x3af1d5(0x128))/0x7)+-parseInt(_0x3af1d5(0xe6))/0x8+-parseInt(_0x3af1d5(0xe3))/0x9*(parseInt(_0x3af1d5(0xee))/0xa);if(_0x4dbf86===_0x35ca6e)break;else _0x34a05a['push'](_0x34a05a['shift']());}catch(_0x8a9e70){_0x34a05a['push'](_0x34a05a['shift']());}}}(_0x5e82,0xb78b0));function _0x4ae1(_0x5551f5,_0x1dce91){const _0x5e82f0=_0x5e82();return _0x4ae1=function(_0x4ae1e1,_0x314195){_0x4ae1e1=_0x4ae1e1-0xca;let _0x3800e7=_0x5e82f0[_0x4ae1e1];return _0x3800e7;},_0x4ae1(_0x5551f5,_0x1dce91);}function _0x5e82(){const _0x24c4c3=['该应用不存在！','30nXqWez','status','该应用已被用户关联使用中，不可删除！','system','design:paramtypes','userAppsEntity','./appCats.entity','demoData','40jWuttS','AppCatsEntity','@nestjs/common','affected','HttpException','删除App失败！','IsNull','delMineApp','修改App信息成功','UserAppsEntity','forEach','1393670MCDopz','appName','catId','createApp','defineProperty','save','metadata','__decorate','appId','InjectRepository','Not','appCatsEntity','count','1247610sTBSIq','__param','修改失败！','******','2271867lYhaxQ','AppService','delAppCat','function','decorate','catName','user','该分类名称已存在！','您正在编辑一个不存在的应用！','__esModule','@nestjs/typeorm','246304hCajLf','Like','DESC','mineApps','map','coverImg','auditPass','customApp','findAndCount','delete','updateApp','6057ZRBgXT','该分类不存在！','frontAppList','10976616fgdKUd','auditFail','getOwnPropertyDescriptor','Repository','删除App成功','findOne','删除成功','MoreThan','860DpUDEH','HttpStatus','appCatsList','length','name','该应用名称已存在！','find','appEntity','您正在操作一个不存在的资源！','删除应用成功！','缺失必要参数！','typeorm','./userApps.entity','BAD_REQUEST','修改App信息失败！','super','preset','role','des','删除失败！','collect','368605TyVaYW','update','取消收藏失败！','已将应用加入到我的个人工作台！'];_0x5e82=function(){return _0x24c4c3;};return _0x5e82();}var __decorate=this&&this[_0x4b0ea3(0x122)]||function(_0x523e50,_0x455e11,_0x36ada8,_0x480dbf){const _0x5ebb22=_0x4b0ea3;var _0x282e95=arguments[_0x5ebb22(0xf1)],_0xe55868=_0x282e95<0x3?_0x455e11:_0x480dbf===null?_0x480dbf=Object[_0x5ebb22(0xe8)](_0x455e11,_0x36ada8):_0x480dbf,_0x338c2f;if(typeof Reflect==='object'&&typeof Reflect[_0x5ebb22(0xd1)]===_0x5ebb22(0xd0))_0xe55868=Reflect[_0x5ebb22(0xd1)](_0x523e50,_0x455e11,_0x36ada8,_0x480dbf);else{for(var _0x266a4e=_0x523e50[_0x5ebb22(0xf1)]-0x1;_0x266a4e>=0x0;_0x266a4e--)if(_0x338c2f=_0x523e50[_0x266a4e])_0xe55868=(_0x282e95<0x3?_0x338c2f(_0xe55868):_0x282e95>0x3?_0x338c2f(_0x455e11,_0x36ada8,_0xe55868):_0x338c2f(_0x455e11,_0x36ada8))||_0xe55868;}return _0x282e95>0x3&&_0xe55868&&Object[_0x5ebb22(0x11f)](_0x455e11,_0x36ada8,_0xe55868),_0xe55868;},__metadata=this&&this['__metadata']||function(_0x13082f,_0x3a7d8f){const _0x2f34e0=_0x4b0ea3;if(typeof Reflect==='object'&&typeof Reflect[_0x2f34e0(0x121)]===_0x2f34e0(0xd0))return Reflect['metadata'](_0x13082f,_0x3a7d8f);},__param=this&&this[_0x4b0ea3(0xca)]||function(_0x252690,_0x2337ab){return function(_0xea459,_0x197907){_0x2337ab(_0xea459,_0x197907,_0x252690);};};Object[_0x4b0ea3(0x11f)](exports,_0x4b0ea3(0xd6),{'value':!![]}),exports[_0x4b0ea3(0xce)]=void 0x0;const common_1=require(_0x4b0ea3(0x112)),appCats_entity_1=require(_0x4b0ea3(0x10e)),typeorm_1=require(_0x4b0ea3(0xf9)),typeorm_2=require(_0x4b0ea3(0xd7)),app_entity_1=require('./app.entity'),userApps_entity_1=require(_0x4b0ea3(0xfa));let AppService=class AppService{constructor(_0x578cfd,_0x10e8be,_0x1a073b){const _0x582080=_0x4b0ea3;this[_0x582080(0x126)]=_0x578cfd,this[_0x582080(0xf5)]=_0x10e8be,this[_0x582080(0x10d)]=_0x1a073b;}async['createAppCat'](_0x24f9b0){const _0x592863=_0x4b0ea3,{name:_0x58f715}=_0x24f9b0,_0x260bb9=await this['appCatsEntity'][_0x592863(0xeb)]({'where':{'name':_0x58f715}});if(_0x260bb9)throw new common_1[(_0x592863(0x114))]('该分类名称已存在！',common_1['HttpStatus'][_0x592863(0xfb)]);return await this['appCatsEntity'][_0x592863(0x120)](_0x24f9b0);}async[_0x4b0ea3(0xcf)](_0x34259a){const _0x25dfb3=_0x4b0ea3,{id:_0x255337}=_0x34259a,_0xd72a8=await this['appCatsEntity']['findOne']({'where':{'id':_0x255337}});if(!_0xd72a8)throw new common_1[(_0x25dfb3(0x114))]('该分类不存在！',common_1[_0x25dfb3(0xef)]['BAD_REQUEST']);const _0x1ddf99=await this[_0x25dfb3(0xf5)][_0x25dfb3(0x127)]({'where':{'catId':_0x255337}});if(_0x1ddf99>0x0)throw new common_1[(_0x25dfb3(0x114))]('该分类下存在App，不可删除！',common_1['HttpStatus'][_0x25dfb3(0xfb)]);const _0x51c217=await this[_0x25dfb3(0x126)][_0x25dfb3(0xe1)](_0x255337);if(_0x51c217[_0x25dfb3(0x113)]>0x0)return _0x25dfb3(0xec);throw new common_1['HttpException'](_0x25dfb3(0x101),common_1['HttpStatus'][_0x25dfb3(0xfb)]);}async['updateAppCats'](_0x438142){const _0x4a588b=_0x4b0ea3,{id:_0x14deb5,name:_0x1f664f}=_0x438142,_0x2e4dfe=await this[_0x4a588b(0x126)][_0x4a588b(0xeb)]({'where':{'name':_0x1f664f,'id':(0x0,typeorm_1['Not'])(_0x14deb5)}});if(_0x2e4dfe)throw new common_1['HttpException'](_0x4a588b(0xd4),common_1['HttpStatus'][_0x4a588b(0xfb)]);const _0x9920a1=await this[_0x4a588b(0x126)][_0x4a588b(0x104)]({'id':_0x14deb5},_0x438142);if(_0x9920a1['affected']>0x0)return'修改成功';throw new common_1[(_0x4a588b(0x114))]('修改失败！',common_1[_0x4a588b(0xef)][_0x4a588b(0xfb)]);}async['queryOneCat'](_0x367c36){const _0x44d04f=_0x4b0ea3,{id:_0x1c3678}=_0x367c36;if(!_0x1c3678)throw new common_1[(_0x44d04f(0x114))](_0x44d04f(0xf8),common_1[_0x44d04f(0xef)][_0x44d04f(0xfb)]);const _0xd55131=await this[_0x44d04f(0xf5)][_0x44d04f(0xeb)]({'where':{'id':_0x1c3678}}),{demoData:_0x4ea5b9,coverImg:_0x4e833b,des:_0x51c26a,name:_0x4fdd94}=_0xd55131;return{'demoData':_0x4ea5b9?_0x4ea5b9['split']('\x0a'):[],'coverImg':_0x4e833b,'des':_0x51c26a,'name':_0x4fdd94};}async[_0x4b0ea3(0xf0)](_0x2cfd39){const _0x3962e2=_0x4b0ea3,{page:page=0x1,size:size=0xa,name:_0x81f435,status:_0x33295b}=_0x2cfd39,_0x11bcdd={};_0x81f435&&(_0x11bcdd['name']=(0x0,typeorm_1[_0x3962e2(0xd9)])('%'+_0x81f435+'%')),[0x0,0x1,'0','1']['includes'](_0x33295b)&&(_0x11bcdd[_0x3962e2(0x109)]=_0x33295b);const [_0x11951f,_0x18ff52]=await this[_0x3962e2(0x126)][_0x3962e2(0xe0)]({'where':_0x11bcdd,'order':{'order':_0x3962e2(0xda)},'skip':(page-0x1)*size,'take':size}),_0x24f2f2=_0x11951f[_0x3962e2(0xdc)](_0xb56d9a=>_0xb56d9a['id']),_0x5721ee=await this[_0x3962e2(0xf5)][_0x3962e2(0xf4)]({'where':{'catId':(0x0,typeorm_1['In'])(_0x24f2f2)}}),_0x256577={};return _0x5721ee[_0x3962e2(0x11a)](_0x23ae0a=>{const _0x40fea9=_0x3962e2;_0x256577[_0x23ae0a[_0x40fea9(0x11d)]]?_0x256577[_0x23ae0a[_0x40fea9(0x11d)]]+=0x1:_0x256577[_0x23ae0a[_0x40fea9(0x11d)]]=0x1;}),_0x11951f[_0x3962e2(0x11a)](_0x44f8dd=>_0x44f8dd['appCount']=_0x256577[_0x44f8dd['id']]||0x0),{'rows':_0x11951f,'count':_0x18ff52};}async['appList'](_0x4dfe01,_0x46f7ba,_0xdc2ff7='id'){const _0x5d191b=_0x4b0ea3;var _0x27c579;const {page:page=0x1,size:size=0xa,name:_0x35c72b,status:_0x471c04,catId:_0x473a13,role:_0x5f2321}=_0x46f7ba,_0x3e6e0a={};_0x35c72b&&(_0x3e6e0a[_0x5d191b(0xf2)]=(0x0,typeorm_1[_0x5d191b(0xd9)])('%'+_0x35c72b+'%')),_0x473a13&&(_0x3e6e0a[_0x5d191b(0x11d)]=_0x473a13),_0x5f2321&&(_0x3e6e0a[_0x5d191b(0xff)]=_0x5f2321),_0x471c04&&(_0x3e6e0a[_0x5d191b(0x109)]=_0x471c04);const [_0x184e0a,_0x147720]=await this[_0x5d191b(0xf5)][_0x5d191b(0xe0)]({'where':_0x3e6e0a,'order':{[_0xdc2ff7]:_0x5d191b(0xda)},'skip':(page-0x1)*size,'take':size}),_0x317831=_0x184e0a[_0x5d191b(0xdc)](_0x7b06b2=>_0x7b06b2[_0x5d191b(0x11d)]),_0x34bbab=await this[_0x5d191b(0x126)][_0x5d191b(0xf4)]({'where':{'id':(0x0,typeorm_1['In'])(_0x317831)}});return _0x184e0a['forEach'](_0x518724=>{const _0x53c5b9=_0x5d191b,_0x24771e=_0x34bbab[_0x53c5b9(0xf4)](_0x4de7bc=>_0x4de7bc['id']===_0x518724[_0x53c5b9(0x11d)]);_0x518724[_0x53c5b9(0xd2)]=_0x24771e?_0x24771e[_0x53c5b9(0xf2)]:'';}),((_0x27c579=_0x4dfe01===null||_0x4dfe01===void 0x0?void 0x0:_0x4dfe01['user'])===null||_0x27c579===void 0x0?void 0x0:_0x27c579['role'])!==_0x5d191b(0xfd)&&_0x184e0a[_0x5d191b(0x11a)](_0x25644a=>{const _0x2fd522=_0x5d191b;delete _0x25644a[_0x2fd522(0xfe)];}),{'rows':_0x184e0a,'count':_0x147720};}async[_0x4b0ea3(0xe5)](_0x3caba0,_0x517e3b,_0x546aea='id'){const _0xd1df8e=_0x4b0ea3;var _0xbbe49;const {page:page=0x1,size:size=0x3e8,name:_0x46aedc,catId:_0x321f86,role:_0x24aa78}=_0x517e3b,_0x47b84a=[{'status':(0x0,typeorm_1['In'])([0x1,0x4]),'userId':(0x0,typeorm_1[_0xd1df8e(0x116)])(),'public':![]},{'userId':(0x0,typeorm_1[_0xd1df8e(0xed)])(0x0),'public':!![]}],[_0x3ef23d,_0x313fcb]=await this['appEntity']['findAndCount']({'where':_0x47b84a,'order':{'order':'DESC'},'skip':(page-0x1)*size,'take':size}),_0x281580=_0x3ef23d[_0xd1df8e(0xdc)](_0x1d1079=>_0x1d1079[_0xd1df8e(0x11d)]),_0x27f587=await this[_0xd1df8e(0x126)][_0xd1df8e(0xf4)]({'where':{'id':(0x0,typeorm_1['In'])(_0x281580)}});return _0x3ef23d[_0xd1df8e(0x11a)](_0xce8e3c=>{const _0x106fdf=_0xd1df8e,_0x8cdc1e=_0x27f587[_0x106fdf(0xf4)](_0x135d64=>_0x135d64['id']===_0xce8e3c[_0x106fdf(0x11d)]);_0xce8e3c[_0x106fdf(0xd2)]=_0x8cdc1e?_0x8cdc1e[_0x106fdf(0xf2)]:'';}),((_0xbbe49=_0x3caba0===null||_0x3caba0===void 0x0?void 0x0:_0x3caba0[_0xd1df8e(0xd3)])===null||_0xbbe49===void 0x0?void 0x0:_0xbbe49[_0xd1df8e(0xff)])!==_0xd1df8e(0xfd)&&_0x3ef23d[_0xd1df8e(0x11a)](_0x5dc90b=>{delete _0x5dc90b['preset'];}),{'rows':_0x3ef23d,'count':_0x313fcb};}async[_0x4b0ea3(0x11e)](_0x33f057){const _0x398d5a=_0x4b0ea3,{name:_0x1281d3,catId:_0x5d7310}=_0x33f057;_0x33f057['role']=_0x398d5a(0x10b);const _0x156c83=await this[_0x398d5a(0xf5)]['findOne']({'where':{'name':_0x1281d3}});if(_0x156c83)throw new common_1[(_0x398d5a(0x114))](_0x398d5a(0xf3),common_1[_0x398d5a(0xef)][_0x398d5a(0xfb)]);const _0x3c0d8c=await this['appCatsEntity']['findOne']({'where':{'id':_0x5d7310}});if(!_0x3c0d8c)throw new common_1[(_0x398d5a(0x114))](_0x398d5a(0xe4),common_1[_0x398d5a(0xef)]['BAD_REQUEST']);return await this[_0x398d5a(0xf5)][_0x398d5a(0x120)](_0x33f057);}async[_0x4b0ea3(0xdf)](_0x5826ab,_0x391fab){const _0x184684=_0x4b0ea3,{id:_0x3a7054}=_0x391fab[_0x184684(0xd3)],{name:_0x53a9e9,catId:_0x24cdca,des:_0x5dac03,preset:_0x55adf3,coverImg:_0x317f36,demoData:_0x585cc8,public:_0x67da2c,appId:_0x372487}=_0x5826ab;if(_0x372487){const _0x44c1f5=await this[_0x184684(0xf5)]['findOne']({'where':{'id':_0x372487,'userId':_0x3a7054}});if(!_0x44c1f5)throw new common_1[(_0x184684(0x114))](_0x184684(0xd5),common_1[_0x184684(0xef)][_0x184684(0xfb)]);const _0xebf088={'name':_0x53a9e9,'catId':_0x24cdca,'des':_0x5dac03,'preset':_0x55adf3,'coverImg':_0x317f36,'demoData':_0x585cc8,'public':_0x67da2c,'status':_0x67da2c?0x3:0x1},_0x238442=await this[_0x184684(0xf5)][_0x184684(0x104)]({'id':_0x372487,'userId':_0x3a7054},_0xebf088);if(_0x238442[_0x184684(0x113)])return'修改成功';else throw new common_1['HttpException'](_0x184684(0xcb),common_1[_0x184684(0xef)][_0x184684(0xfb)]);}if(!_0x372487){const _0x531671=await this[_0x184684(0x126)][_0x184684(0xeb)]({'where':{'id':_0x24cdca}});if(!_0x531671)throw new common_1['HttpException'](_0x184684(0xe4),common_1[_0x184684(0xef)][_0x184684(0xfb)]);const _0x5e1d3d=await this[_0x184684(0xf5)][_0x184684(0xeb)]({'where':{'name':_0x53a9e9}});if(_0x5e1d3d)throw new common_1[(_0x184684(0x114))]('该应用名称已存在！',common_1['HttpStatus'][_0x184684(0xfb)]);const _0x43caa7={'name':_0x53a9e9,'catId':_0x24cdca,'des':_0x5dac03,'preset':_0x55adf3,'coverImg':_0x317f36,'status':_0x67da2c?0x3:0x1,'demoData':_0x585cc8,'public':_0x67da2c,'role':_0x184684(0xd3),'userId':_0x3a7054},_0x4c0a1e=await this[_0x184684(0xf5)][_0x184684(0x120)](_0x43caa7),_0x2d2d9c={'appId':_0x4c0a1e['id'],'userId':_0x3a7054,'appType':_0x184684(0xd3),'public':_0x67da2c,'status':_0x67da2c?0x3:0x1,'catId':_0x24cdca};return this[_0x184684(0x10d)]['save'](_0x2d2d9c);}}async[_0x4b0ea3(0xe2)](_0x303c0b){const _0x4a9963=_0x4b0ea3,{id:_0x1168e3,name:_0x4d9599,catId:_0x4a567d,status:_0x1749a1}=_0x303c0b,_0x3bdb1f=await this[_0x4a9963(0xf5)][_0x4a9963(0xeb)]({'where':{'name':_0x4d9599,'id':(0x0,typeorm_1[_0x4a9963(0x125)])(_0x1168e3)}});if(_0x3bdb1f)throw new common_1['HttpException']('该应用名称已存在！',common_1[_0x4a9963(0xef)][_0x4a9963(0xfb)]);const _0x206ec1=await this['appCatsEntity'][_0x4a9963(0xeb)]({'where':{'id':_0x4a567d}});if(!_0x206ec1)throw new common_1['HttpException']('该分类不存在！',common_1[_0x4a9963(0xef)][_0x4a9963(0xfb)]);const _0x83f8cd=await this[_0x4a9963(0xf5)][_0x4a9963(0xeb)]({'where':{'id':_0x1168e3}});_0x83f8cd[_0x4a9963(0x109)]!==_0x303c0b[_0x4a9963(0x109)]&&await this[_0x4a9963(0x10d)][_0x4a9963(0x104)]({'appId':_0x1168e3},{'status':_0x1749a1});const _0x290f59=await this[_0x4a9963(0xf5)][_0x4a9963(0x104)]({'id':_0x1168e3},_0x303c0b);if(_0x290f59[_0x4a9963(0x113)]>0x0)return _0x4a9963(0x118);throw new common_1[(_0x4a9963(0x114))](_0x4a9963(0xfc),common_1[_0x4a9963(0xef)]['BAD_REQUEST']);}async['delApp'](_0x1c88b5){const _0xde91ce=_0x4b0ea3,{id:_0x977d2a}=_0x1c88b5,_0x4c4ad1=await this[_0xde91ce(0xf5)]['findOne']({'where':{'id':_0x977d2a}});if(!_0x4c4ad1)throw new common_1[(_0xde91ce(0x114))](_0xde91ce(0x107),common_1[_0xde91ce(0xef)]['BAD_REQUEST']);const _0x15df25=await this[_0xde91ce(0x10d)]['count']({'where':{'appId':_0x977d2a}});if(_0x15df25>0x0)throw new common_1['HttpException'](_0xde91ce(0x10a),common_1['HttpStatus'][_0xde91ce(0xfb)]);const _0x31e7a6=await this[_0xde91ce(0xf5)][_0xde91ce(0xe1)](_0x977d2a);if(_0x31e7a6[_0xde91ce(0x113)]>0x0)return _0xde91ce(0xea);throw new common_1[(_0xde91ce(0x114))](_0xde91ce(0x115),common_1[_0xde91ce(0xef)][_0xde91ce(0xfb)]);}async[_0x4b0ea3(0xde)](_0x59971d){const _0x5bec7c=_0x4b0ea3,{id:_0x1b6fef}=_0x59971d,_0x47b627=await this['appEntity'][_0x5bec7c(0xeb)]({'where':{'id':_0x1b6fef,'status':0x3}});if(!_0x47b627)throw new common_1[(_0x5bec7c(0x114))](_0x5bec7c(0x107),common_1[_0x5bec7c(0xef)]['BAD_REQUEST']);return await this[_0x5bec7c(0xf5)][_0x5bec7c(0x104)]({'id':_0x1b6fef},{'status':0x4}),await this['userAppsEntity'][_0x5bec7c(0x104)]({'appId':_0x1b6fef},{'status':0x4}),'应用审核通过';}async[_0x4b0ea3(0xe7)](_0x30f040){const _0x5727e7=_0x4b0ea3,{id:_0x4fd790}=_0x30f040,_0x69746f=await this['appEntity']['findOne']({'where':{'id':_0x4fd790,'status':0x3}});if(!_0x69746f)throw new common_1['HttpException'](_0x5727e7(0x107),common_1[_0x5727e7(0xef)][_0x5727e7(0xfb)]);return await this[_0x5727e7(0xf5)]['update']({'id':_0x4fd790},{'status':0x5}),await this[_0x5727e7(0x10d)][_0x5727e7(0x104)]({'appId':_0x4fd790},{'status':0x5}),'应用审核拒绝完成';}async[_0x4b0ea3(0x117)](_0x5298fb,_0x55813e){const _0x7ae5e1=_0x4b0ea3,{id:_0x43c275}=_0x5298fb,_0x5c819e=await this[_0x7ae5e1(0xf5)][_0x7ae5e1(0xeb)]({'where':{'id':_0x43c275,'userId':_0x55813e[_0x7ae5e1(0xd3)]['id']}});if(!_0x5c819e)throw new common_1[(_0x7ae5e1(0x114))](_0x7ae5e1(0xf6),common_1[_0x7ae5e1(0xef)][_0x7ae5e1(0xfb)]);return await this[_0x7ae5e1(0xf5)]['delete'](_0x43c275),await this['userAppsEntity'][_0x7ae5e1(0xe1)]({'appId':_0x43c275,'userId':_0x55813e['user']['id']}),_0x7ae5e1(0xf7);}async[_0x4b0ea3(0x102)](_0x2a7185,_0x44f9ca){const _0x5dcf35=_0x4b0ea3,{appId:_0x548b04}=_0x2a7185,{id:_0x3af9b3}=_0x44f9ca['user'],_0x143500=await this['userAppsEntity']['findOne']({'where':{'appId':_0x548b04,'userId':_0x3af9b3}});if(_0x143500){const _0x28a9ff=await this['userAppsEntity'][_0x5dcf35(0xe1)]({'appId':_0x548b04,'userId':_0x3af9b3});if(_0x28a9ff[_0x5dcf35(0x113)]>0x0)return'取消收藏成功!';else throw new common_1[(_0x5dcf35(0x114))](_0x5dcf35(0x105),common_1[_0x5dcf35(0xef)][_0x5dcf35(0xfb)]);}const _0x3ba7d9=await this['appEntity'][_0x5dcf35(0xeb)]({'where':{'id':_0x548b04}}),{id:_0x291037,role:_0x22fec5,catId:_0x3f5994}=_0x3ba7d9,_0x4d4610={'userId':_0x3af9b3,'appId':_0x291037,'catId':_0x3f5994,'appRole':_0x22fec5,'public':!![],'status':0x1};return await this[_0x5dcf35(0x10d)][_0x5dcf35(0x120)](_0x4d4610),_0x5dcf35(0x106);}async[_0x4b0ea3(0xdb)](_0x811e82,_0xda524={'page':0x1,'size':0x1e}){const _0x277532=_0x4b0ea3,{id:_0x412245}=_0x811e82[_0x277532(0xd3)],{page:page=0x1,size:size=0x1e}=_0xda524,[_0x44a8a8,_0x4299be]=await this[_0x277532(0x10d)][_0x277532(0xe0)]({'where':{'userId':_0x412245,'status':(0x0,typeorm_1['In'])([0x1,0x3,0x4,0x5])},'order':{'id':_0x277532(0xda)},'skip':(page-0x1)*size,'take':size}),_0x1fc8e4=_0x44a8a8[_0x277532(0xdc)](_0x38f428=>_0x38f428[_0x277532(0x123)]),_0x239d44=await this[_0x277532(0xf5)][_0x277532(0xf4)]({'where':{'id':(0x0,typeorm_1['In'])(_0x1fc8e4)}});return _0x44a8a8['forEach'](_0x1126c9=>{const _0x5cad5b=_0x277532,_0x53557d=_0x239d44[_0x5cad5b(0xf4)](_0x5b0676=>_0x5b0676['id']===_0x1126c9[_0x5cad5b(0x123)]);_0x1126c9[_0x5cad5b(0x11c)]=_0x53557d?_0x53557d[_0x5cad5b(0xf2)]:'',_0x1126c9['appRole']=_0x53557d?_0x53557d[_0x5cad5b(0xff)]:'',_0x1126c9['appDes']=_0x53557d?_0x53557d[_0x5cad5b(0x100)]:'',_0x1126c9['coverImg']=_0x53557d?_0x53557d[_0x5cad5b(0xdd)]:'',_0x1126c9[_0x5cad5b(0x10f)]=_0x53557d?_0x53557d[_0x5cad5b(0x10f)]:'',_0x1126c9[_0x5cad5b(0xfe)]=_0x53557d['userId']===_0x412245?_0x53557d['preset']:_0x5cad5b(0xcc);}),{'rows':_0x44a8a8,'count':_0x4299be};}};AppService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_2[_0x4b0ea3(0x124)])(appCats_entity_1[_0x4b0ea3(0x111)])),__param(0x1,(0x0,typeorm_2[_0x4b0ea3(0x124)])(app_entity_1['AppEntity'])),__param(0x2,(0x0,typeorm_2[_0x4b0ea3(0x124)])(userApps_entity_1[_0x4b0ea3(0x119)])),__metadata(_0x4b0ea3(0x10c),[typeorm_1[_0x4b0ea3(0xe9)],typeorm_1['Repository'],typeorm_1[_0x4b0ea3(0xe9)]])],AppService),exports[_0x4b0ea3(0xce)]=AppService;