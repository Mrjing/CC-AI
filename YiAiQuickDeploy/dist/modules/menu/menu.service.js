'use strict';function _0x9157(){const _0x4968ba=['BAD_REQUEST','metadata','/user-center','应用广场','getOwnPropertyDescriptor','基础绘画','对话聊天','HttpException','专业绘画','16aGQQct','425241AWUzfl','initMenu','AppStore','@nestjs/common','queryMenu','./menu.entity','/mind','save','Pay','Midjourney','findOne','/market','@nestjs/typeorm','typeorm','design:paramtypes','11OqcndV','/draw','ASC','updateIcon','915yJFVke','icon-park-outline:mindmap-map','HttpStatus','eos-icons:typing','__decorate','fluent:draw-image-24-regular','solar:album-line-duotone','1636540gaEAHh','个人中心','decorate','1561592XncKOz','Market','Draw','delMenu','update','/share','/app-store','count','function','ant-design:appstore-outlined','2768ONBxKS','思维导图','delete','Chat','InjectRepository','menuEntity','MenuEntity','/midjourney','30372dScOEX','ri:landscape-line','推广计划','238okiNhQ','会员中心','缺失必要参数!','__metadata','操作菜单失败!','MenuService','348786cYFglr','uiw:share','length','/chat','menuListFront','__param','find','Mind','affected','绘画广场','10206340vaxPJg','object','Injectable','Share','isSystem','Repository'];_0x9157=function(){return _0x4968ba;};return _0x9157();}const _0x40435e=_0xf49f;(function(_0x4e0319,_0x49d2ba){const _0x196d23=_0xf49f,_0x12f724=_0x4e0319();while(!![]){try{const _0x3f3887=-parseInt(_0x196d23(0xa2))/0x1+parseInt(_0x196d23(0xc9))/0x2*(-parseInt(_0x196d23(0xb5))/0x3)+-parseInt(_0x196d23(0xbf))/0x4+parseInt(_0x196d23(0xbc))/0x5+parseInt(_0x196d23(0xd1))/0x6*(parseInt(_0x196d23(0xd4))/0x7)+parseInt(_0x196d23(0xa1))/0x8*(parseInt(_0x196d23(0xda))/0x9)+parseInt(_0x196d23(0xe4))/0xa*(parseInt(_0x196d23(0xb1))/0xb);if(_0x3f3887===_0x49d2ba)break;else _0x12f724['push'](_0x12f724['shift']());}catch(_0x36286b){_0x12f724['push'](_0x12f724['shift']());}}}(_0x9157,0x57d77));var __decorate=this&&this[_0x40435e(0xb9)]||function(_0x579f2f,_0x492bf5,_0x800749,_0x6675a2){const _0x3aa90e=_0x40435e;var _0x389df5=arguments[_0x3aa90e(0xdc)],_0x1008c7=_0x389df5<0x3?_0x492bf5:_0x6675a2===null?_0x6675a2=Object[_0x3aa90e(0x9c)](_0x492bf5,_0x800749):_0x6675a2,_0x667d2b;if(typeof Reflect===_0x3aa90e(0xe5)&&typeof Reflect[_0x3aa90e(0xbe)]===_0x3aa90e(0xc7))_0x1008c7=Reflect[_0x3aa90e(0xbe)](_0x579f2f,_0x492bf5,_0x800749,_0x6675a2);else{for(var _0x3f9f2b=_0x579f2f[_0x3aa90e(0xdc)]-0x1;_0x3f9f2b>=0x0;_0x3f9f2b--)if(_0x667d2b=_0x579f2f[_0x3f9f2b])_0x1008c7=(_0x389df5<0x3?_0x667d2b(_0x1008c7):_0x389df5>0x3?_0x667d2b(_0x492bf5,_0x800749,_0x1008c7):_0x667d2b(_0x492bf5,_0x800749))||_0x1008c7;}return _0x389df5>0x3&&_0x1008c7&&Object['defineProperty'](_0x492bf5,_0x800749,_0x1008c7),_0x1008c7;},__metadata=this&&this[_0x40435e(0xd7)]||function(_0x3077e8,_0x4bee29){const _0x12fa42=_0x40435e;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x12fa42(0xc7))return Reflect[_0x12fa42(0x99)](_0x3077e8,_0x4bee29);},__param=this&&this[_0x40435e(0xdf)]||function(_0xf56aef,_0x5a9bd9){return function(_0x1c74e6,_0x84054c){_0x5a9bd9(_0x1c74e6,_0x84054c,_0xf56aef);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MenuService']=void 0x0;const common_1=require(_0x40435e(0xa5)),typeorm_1=require(_0x40435e(0xae)),typeorm_2=require(_0x40435e(0xaf)),menu_entity_1=require(_0x40435e(0xa7));let MenuService=class MenuService{constructor(_0x4b38b3){const _0x14d120=_0x40435e;this[_0x14d120(0xce)]=_0x4b38b3;}async['onModuleInit'](){const _0x14a4ee=_0x40435e;await this[_0x14a4ee(0xa3)]();}async['initMenu'](){const _0x3b551a=_0x40435e,_0xc6c013=await this['menuEntity'][_0x3b551a(0xc6)]();if(_0xc6c013>0x0)return;const _0x355011=[{'menuTipText':'对话聊天','menuIcon':_0x3b551a(0xb8),'menuName':_0x3b551a(0xcc),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x3b551a(0x9b),'menuIcon':_0x3b551a(0xc8),'menuName':_0x3b551a(0xa4),'menuPath':_0x3b551a(0xc5),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x3b551a(0xa0),'menuIcon':'ri:landscape-line','menuName':_0x3b551a(0xab),'menuPath':_0x3b551a(0xd0),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x3b551a(0xe3),'menuIcon':_0x3b551a(0xbb),'menuName':_0x3b551a(0xc0),'menuPath':_0x3b551a(0xad),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x3b551a(0x9d),'menuIcon':_0x3b551a(0xba),'menuName':_0x3b551a(0xc1),'menuPath':_0x3b551a(0xb2),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x3b551a(0xb6),'menuName':_0x3b551a(0xe1),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x3b551a(0xd5),'menuIcon':'icon-park-outline:shopping','menuName':_0x3b551a(0xaa),'menuPath':'/pay','menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x3b551a(0xd3),'menuIcon':_0x3b551a(0xdb),'menuName':_0x3b551a(0x95),'menuPath':_0x3b551a(0xc4),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x3ce732=[{'menuTipText':_0x3b551a(0x9e),'menuIcon':_0x3b551a(0xb8),'menuName':'Chat','menuPath':_0x3b551a(0xdd),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x3b551a(0x9b),'menuIcon':_0x3b551a(0xc8),'menuName':_0x3b551a(0xa4),'menuPath':_0x3b551a(0xc5),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x3b551a(0xa0),'menuIcon':_0x3b551a(0xd2),'menuName':_0x3b551a(0xab),'menuPath':_0x3b551a(0xd0),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x3b551a(0xca),'menuIcon':_0x3b551a(0xb6),'menuName':_0x3b551a(0xe1),'menuPath':_0x3b551a(0xa8),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x3b551a(0xbd),'menuIcon':'ri:account-pin-box-line','menuName':'UserCenter','menuPath':_0x3b551a(0x9a),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x3974d2=[..._0x355011,..._0x3ce732];await this[_0x3b551a(0xce)][_0x3b551a(0xa9)](_0x3974d2);}async[_0x40435e(0xa6)](_0x59eead){const _0x910c11=_0x40435e,{menuPlatform:_0x3a8091}=_0x59eead,_0x486b75={};return _0x3a8091&&(_0x486b75['menuPlatform']=_0x3a8091),await this[_0x910c11(0xce)]['find']({'where':_0x486b75,'order':{'order':_0x910c11(0xb3)}});}async[_0x40435e(0xde)](_0x5c464d){const _0x5b0df0=_0x40435e,{menuPlatform:_0x586b75}=_0x5c464d,_0x39a9ec={'isShow':!![]};return _0x586b75&&(_0x39a9ec['menuPlatform']=_0x586b75),await this[_0x5b0df0(0xce)][_0x5b0df0(0xe0)]({'where':_0x39a9ec,'order':{'order':_0x5b0df0(0xb3)}});}async['visibleMenu'](_0x3c0776){const _0x400429=_0x40435e,{id:_0x1e819e}=_0x3c0776;if(!_0x1e819e)return;const _0x4c5efc=await this[_0x400429(0xce)][_0x400429(0xac)]({'where':{'id':_0x1e819e}});if(!_0x4c5efc)return;const {isShow:_0x50cb8}=_0x4c5efc,_0x5e5d4d=await this[_0x400429(0xce)][_0x400429(0xc3)]({'id':_0x1e819e},{'isShow':!_0x50cb8});return _0x5e5d4d['affected']>0x0;}async['setMenu'](_0x34b0dd){const _0x3bf63f=_0x40435e,{id:_0x463f4f}=_0x34b0dd;_0x34b0dd[_0x3bf63f(0x96)]?_0x34b0dd['menuPath']='':_0x34b0dd['menuIframeUrl']='';delete _0x34b0dd[_0x3bf63f(0x96)];try{if(_0x463f4f){const _0x122b74=await this[_0x3bf63f(0xce)][_0x3bf63f(0xc3)]({'id':_0x463f4f},_0x34b0dd);return _0x122b74[_0x3bf63f(0xe2)]>0x0;}else{const _0x3ee1d6=await this['menuEntity'][_0x3bf63f(0xa9)](_0x34b0dd);return _0x3ee1d6;}}catch(_0x4c70f3){throw new common_1[(_0x3bf63f(0x9f))](_0x3bf63f(0xd8),common_1[_0x3bf63f(0xb7)][_0x3bf63f(0x98)]);}}async[_0x40435e(0xc2)](_0x2f9082){const _0x5469a4=_0x40435e,{id:_0x5aa3dd}=_0x2f9082;if(!_0x5aa3dd)throw new common_1[(_0x5469a4(0x9f))]('缺失必要参数!',common_1[_0x5469a4(0xb7)][_0x5469a4(0x98)]);const _0x440996=await this[_0x5469a4(0xce)][_0x5469a4(0xcb)]({'id':_0x5aa3dd});return _0x440996;}async[_0x40435e(0xb4)](_0x1aea14){const _0x1b511b=_0x40435e,{id:_0x40d94a,menuIcon:_0x49ddd3,menuTipText:_0x2c79cc,order:_0x3c1678}=_0x1aea14;if(!_0x40d94a||!_0x49ddd3||!_0x2c79cc||!_0x3c1678)throw new common_1[(_0x1b511b(0x9f))](_0x1b511b(0xd6),common_1[_0x1b511b(0xb7)][_0x1b511b(0x98)]);const _0x14d42b=await this[_0x1b511b(0xce)]['update']({'id':_0x40d94a},{'menuIcon':_0x49ddd3,'menuTipText':_0x2c79cc,'order':_0x3c1678});return _0x14d42b[_0x1b511b(0xe2)]>0x0;}};function _0xf49f(_0x4d9491,_0x261c93){const _0x9157ca=_0x9157();return _0xf49f=function(_0xf49f43,_0xa77559){_0xf49f43=_0xf49f43-0x94;let _0xf23505=_0x9157ca[_0xf49f43];return _0xf23505;},_0xf49f(_0x4d9491,_0x261c93);}MenuService=__decorate([(0x0,common_1[_0x40435e(0x94)])(),__param(0x0,(0x0,typeorm_1[_0x40435e(0xcd)])(menu_entity_1[_0x40435e(0xcf)])),__metadata(_0x40435e(0xb0),[typeorm_2[_0x40435e(0x97)]])],MenuService),exports[_0x40435e(0xd9)]=MenuService;