'use strict';function _0x58f5(_0x16a1bb,_0x3b1f29){const _0x1b3f9e=_0x1b3f();return _0x58f5=function(_0x58f57a,_0x245aad){_0x58f57a=_0x58f57a-0x1ee;let _0x4f929e=_0x1b3f9e[_0x58f57a];return _0x4f929e;},_0x58f5(_0x16a1bb,_0x3b1f29);}const _0xea64b=_0x58f5;function _0x1b3f(){const _0x5d76e5=['menuListFront','推广计划','259343nbWJQG','solar:album-line-duotone','Mind','HttpException','find','AppStore','icon-park-outline:mindmap-map','menuIframeUrl','449780wQlgDT','HttpStatus','uiw:share','ri:landscape-line','Draw','eos-icons:typing','queryMenu','Market','MenuEntity','Midjourney','ASC','typeorm','缺失必要参数!','ri:account-pin-box-line','应用广场','@nestjs/common','delete','/user-center','专业绘画','UserCenter','Chat','save','defineProperty','/pay','menuPlatform','InjectRepository','会员中心','getOwnPropertyDescriptor','绘画广场','isSystem','Pay','./menu.entity','design:paramtypes','length','2784095QvCaPC','思维导图','MenuService','affected','Repository','BAD_REQUEST','Share','metadata','5903325QSumCP','function','__metadata','onModuleInit','3GJgbUd','setMenu','decorate','initMenu','count','update','/app-store','60404MfLtAB','ant-design:appstore-outlined','updateIcon','4607856AfpElG','144pizXUY','/market','@nestjs/typeorm','/share','menuPath','/chat','delMenu','6YBgDMo','对话聊天','/mind','menuEntity','object','21374330jlWigV'];_0x1b3f=function(){return _0x5d76e5;};return _0x1b3f();}(function(_0x50843f,_0x1281bb){const _0x727218=_0x58f5,_0xde7a1f=_0x50843f();while(!![]){try{const _0x4d8bb8=-parseInt(_0x727218(0x204))/0x1+parseInt(_0x727218(0x21f))/0x2+parseInt(_0x727218(0x1fd))/0x3*(-parseInt(_0x727218(0x207))/0x4)+parseInt(_0x727218(0x1f1))/0x5*(-parseInt(_0x727218(0x20f))/0x6)+-parseInt(_0x727218(0x217))/0x7*(parseInt(_0x727218(0x208))/0x8)+parseInt(_0x727218(0x1f9))/0x9+parseInt(_0x727218(0x214))/0xa;if(_0x4d8bb8===_0x1281bb)break;else _0xde7a1f['push'](_0xde7a1f['shift']());}catch(_0x49765d){_0xde7a1f['push'](_0xde7a1f['shift']());}}}(_0x1b3f,0x8e223));var __decorate=this&&this['__decorate']||function(_0x1deefa,_0x565888,_0x3fa6cb,_0x1388d5){const _0x480948=_0x58f5;var _0x201a0c=arguments['length'],_0x3b936f=_0x201a0c<0x3?_0x565888:_0x1388d5===null?_0x1388d5=Object[_0x480948(0x23a)](_0x565888,_0x3fa6cb):_0x1388d5,_0x28ba62;if(typeof Reflect==='object'&&typeof Reflect[_0x480948(0x1ff)]==='function')_0x3b936f=Reflect[_0x480948(0x1ff)](_0x1deefa,_0x565888,_0x3fa6cb,_0x1388d5);else{for(var _0x122994=_0x1deefa[_0x480948(0x1f0)]-0x1;_0x122994>=0x0;_0x122994--)if(_0x28ba62=_0x1deefa[_0x122994])_0x3b936f=(_0x201a0c<0x3?_0x28ba62(_0x3b936f):_0x201a0c>0x3?_0x28ba62(_0x565888,_0x3fa6cb,_0x3b936f):_0x28ba62(_0x565888,_0x3fa6cb))||_0x3b936f;}return _0x201a0c>0x3&&_0x3b936f&&Object[_0x480948(0x235)](_0x565888,_0x3fa6cb,_0x3b936f),_0x3b936f;},__metadata=this&&this[_0xea64b(0x1fb)]||function(_0x15457b,_0x4b8834){const _0x2b2f6b=_0xea64b;if(typeof Reflect===_0x2b2f6b(0x213)&&typeof Reflect[_0x2b2f6b(0x1f8)]===_0x2b2f6b(0x1fa))return Reflect[_0x2b2f6b(0x1f8)](_0x15457b,_0x4b8834);},__param=this&&this['__param']||function(_0x101c51,_0x2e1424){return function(_0x5df327,_0x5c1895){_0x2e1424(_0x5df327,_0x5c1895,_0x101c51);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0xea64b(0x1f3)]=void 0x0;const common_1=require(_0xea64b(0x22e)),typeorm_1=require(_0xea64b(0x20a)),typeorm_2=require(_0xea64b(0x22a)),menu_entity_1=require(_0xea64b(0x1ee));let MenuService=class MenuService{constructor(_0x330a3d){const _0x17e280=_0xea64b;this[_0x17e280(0x212)]=_0x330a3d;}async[_0xea64b(0x1fc)](){const _0x402116=_0xea64b;await this[_0x402116(0x200)]();}async[_0xea64b(0x200)](){const _0x3c696f=_0xea64b,_0x2e038=await this[_0x3c696f(0x212)][_0x3c696f(0x201)]();if(_0x2e038>0x0)return;const _0x3c6ee2=[{'menuTipText':_0x3c696f(0x210),'menuIcon':_0x3c696f(0x224),'menuName':'Chat','menuPath':_0x3c696f(0x20d),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x3c696f(0x22d),'menuIcon':_0x3c696f(0x205),'menuName':'AppStore','menuPath':_0x3c696f(0x203),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x3c696f(0x231),'menuIcon':_0x3c696f(0x222),'menuName':'Midjourney','menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x3c696f(0x23b),'menuIcon':_0x3c696f(0x218),'menuName':_0x3c696f(0x226),'menuPath':_0x3c696f(0x209),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'基础绘画','menuIcon':'fluent:draw-image-24-regular','menuName':_0x3c696f(0x223),'menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x3c696f(0x1f2),'menuIcon':_0x3c696f(0x21d),'menuName':_0x3c696f(0x219),'menuPath':_0x3c696f(0x211),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x3c696f(0x239),'menuIcon':'icon-park-outline:shopping','menuName':_0x3c696f(0x23d),'menuPath':_0x3c696f(0x236),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x3c696f(0x216),'menuIcon':_0x3c696f(0x221),'menuName':_0x3c696f(0x1f7),'menuPath':_0x3c696f(0x20b),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x3cf415=[{'menuTipText':_0x3c696f(0x210),'menuIcon':_0x3c696f(0x224),'menuName':_0x3c696f(0x233),'menuPath':_0x3c696f(0x20d),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x3c696f(0x22d),'menuIcon':_0x3c696f(0x205),'menuName':_0x3c696f(0x21c),'menuPath':_0x3c696f(0x203),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':_0x3c696f(0x222),'menuName':_0x3c696f(0x228),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x3c696f(0x1f2),'menuIcon':_0x3c696f(0x21d),'menuName':'Mind','menuPath':'/mind','menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':_0x3c696f(0x22c),'menuName':_0x3c696f(0x232),'menuPath':_0x3c696f(0x230),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x357503=[..._0x3c6ee2,..._0x3cf415];await this[_0x3c696f(0x212)][_0x3c696f(0x234)](_0x357503);}async[_0xea64b(0x225)](_0x5e2230){const _0x18427c=_0xea64b,{menuPlatform:_0x13fea3}=_0x5e2230,_0x4ff316={};return _0x13fea3&&(_0x4ff316[_0x18427c(0x237)]=_0x13fea3),await this[_0x18427c(0x212)][_0x18427c(0x21b)]({'where':_0x4ff316,'order':{'order':_0x18427c(0x229)}});}async[_0xea64b(0x215)](_0x6fb899){const _0x212426=_0xea64b,{menuPlatform:_0x394ba6}=_0x6fb899,_0x25a808={'isShow':!![]};return _0x394ba6&&(_0x25a808[_0x212426(0x237)]=_0x394ba6),await this[_0x212426(0x212)][_0x212426(0x21b)]({'where':_0x25a808,'order':{'order':_0x212426(0x229)}});}async['visibleMenu'](_0x25e555){const _0x2812bb=_0xea64b,{id:_0x57bea1}=_0x25e555;if(!_0x57bea1)return;const _0x282332=await this[_0x2812bb(0x212)]['findOne']({'where':{'id':_0x57bea1}});if(!_0x282332)return;const {isShow:_0x8eaa23}=_0x282332,_0x2ad8d5=await this['menuEntity']['update']({'id':_0x57bea1},{'isShow':!_0x8eaa23});return _0x2ad8d5[_0x2812bb(0x1f4)]>0x0;}async[_0xea64b(0x1fe)](_0x27e0ea){const _0x493027=_0xea64b,{id:_0x1811a8}=_0x27e0ea;_0x27e0ea[_0x493027(0x23c)]?_0x27e0ea[_0x493027(0x20c)]='':_0x27e0ea[_0x493027(0x21e)]='';delete _0x27e0ea[_0x493027(0x23c)];try{if(_0x1811a8){const _0x34e116=await this[_0x493027(0x212)]['update']({'id':_0x1811a8},_0x27e0ea);return _0x34e116[_0x493027(0x1f4)]>0x0;}else{const _0x31d01c=await this[_0x493027(0x212)][_0x493027(0x234)](_0x27e0ea);return _0x31d01c;}}catch(_0x2fb7b9){throw new common_1[(_0x493027(0x21a))]('操作菜单失败!',common_1[_0x493027(0x220)]['BAD_REQUEST']);}}async[_0xea64b(0x20e)](_0x479992){const _0x3e20e5=_0xea64b,{id:_0x1b018a}=_0x479992;if(!_0x1b018a)throw new common_1['HttpException'](_0x3e20e5(0x22b),common_1['HttpStatus'][_0x3e20e5(0x1f6)]);const _0x559e37=await this[_0x3e20e5(0x212)][_0x3e20e5(0x22f)]({'id':_0x1b018a});return _0x559e37;}async[_0xea64b(0x206)](_0x3fe43c){const _0xab801d=_0xea64b,{id:_0x4affe4,menuIcon:_0x38a3f2,menuTipText:_0xfc42db,order:_0x29acaa}=_0x3fe43c;if(!_0x4affe4||!_0x38a3f2||!_0xfc42db||!_0x29acaa)throw new common_1[(_0xab801d(0x21a))]('缺失必要参数!',common_1[_0xab801d(0x220)]['BAD_REQUEST']);const _0x20c504=await this[_0xab801d(0x212)][_0xab801d(0x202)]({'id':_0x4affe4},{'menuIcon':_0x38a3f2,'menuTipText':_0xfc42db,'order':_0x29acaa});return _0x20c504[_0xab801d(0x1f4)]>0x0;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0xea64b(0x238)])(menu_entity_1[_0xea64b(0x227)])),__metadata(_0xea64b(0x1ef),[typeorm_2[_0xea64b(0x1f5)]])],MenuService),exports[_0xea64b(0x1f3)]=MenuService;