'use strict';const _0x5d2ea6=_0x55a2;function _0x3d52(){const _0x2fe224=['8956610rfrQYC','/midjourney','8hVHkjs','length','initMenu','基础绘画','getOwnPropertyDescriptor','MenuService','1452ScveUM','专业绘画','__metadata','metadata','Repository','/draw','save','./menu.entity','__decorate','Draw','BAD_REQUEST','uiw:share','ri:account-pin-box-line','@nestjs/common','queryMenu','UserCenter','icon-park-outline:mindmap-map','/market','Midjourney','function','delMenu','应用广场','find','缺失必要参数!','menuPlatform','AppStore','/app-store','findOne','7837740cVscMK','decorate','HttpStatus','ASC','绘画广场','Chat','/pay','icon-park-outline:shopping','操作菜单失败!','menuEntity','affected','ri:landscape-line','11lwuwWb','1376ewVsrT','ant-design:appstore-outlined','对话聊天','Market','Pay','299jdzhlz','menuPath','3471YqvFtg','object','5pXnMvf','visibleMenu','31031oAaHeh','updateIcon','eos-icons:typing','/user-center','__esModule','53629CMisEm','update','313932kYFQWj','menuListFront','4267053NxQObC','Injectable','isSystem','defineProperty','delete','menuIframeUrl','/share','/mind','setMenu','会员中心','Mind','HttpException'];_0x3d52=function(){return _0x2fe224;};return _0x3d52();}(function(_0x38e8e0,_0x5bf6c4){const _0x5d4461=_0x55a2,_0x46efc4=_0x38e8e0();while(!![]){try{const _0xff5245=-parseInt(_0x5d4461(0x9e))/0x1*(parseInt(_0x5d4461(0xb0))/0x2)+-parseInt(_0x5d4461(0x95))/0x3*(parseInt(_0x5d4461(0xb6))/0x4)+-parseInt(_0x5d4461(0x97))/0x5*(-parseInt(_0x5d4461(0xd2))/0x6)+parseInt(_0x5d4461(0x99))/0x7*(-parseInt(_0x5d4461(0x8e))/0x8)+-parseInt(_0x5d4461(0xa2))/0x9+parseInt(_0x5d4461(0xae))/0xa*(parseInt(_0x5d4461(0x8d))/0xb)+parseInt(_0x5d4461(0xa0))/0xc*(parseInt(_0x5d4461(0x93))/0xd);if(_0xff5245===_0x5bf6c4)break;else _0x46efc4['push'](_0x46efc4['shift']());}catch(_0x45a6fb){_0x46efc4['push'](_0x46efc4['shift']());}}}(_0x3d52,0xe3aca));var __decorate=this&&this[_0x5d2ea6(0xbe)]||function(_0x324d61,_0x348ca3,_0x314356,_0x5f5cc1){const _0x3de149=_0x5d2ea6;var _0x21c5fc=arguments[_0x3de149(0xb1)],_0x5e69cc=_0x21c5fc<0x3?_0x348ca3:_0x5f5cc1===null?_0x5f5cc1=Object[_0x3de149(0xb4)](_0x348ca3,_0x314356):_0x5f5cc1,_0xd4aee8;if(typeof Reflect===_0x3de149(0x96)&&typeof Reflect[_0x3de149(0xd3)]===_0x3de149(0xc9))_0x5e69cc=Reflect['decorate'](_0x324d61,_0x348ca3,_0x314356,_0x5f5cc1);else{for(var _0x39f07f=_0x324d61[_0x3de149(0xb1)]-0x1;_0x39f07f>=0x0;_0x39f07f--)if(_0xd4aee8=_0x324d61[_0x39f07f])_0x5e69cc=(_0x21c5fc<0x3?_0xd4aee8(_0x5e69cc):_0x21c5fc>0x3?_0xd4aee8(_0x348ca3,_0x314356,_0x5e69cc):_0xd4aee8(_0x348ca3,_0x314356))||_0x5e69cc;}return _0x21c5fc>0x3&&_0x5e69cc&&Object[_0x3de149(0xa5)](_0x348ca3,_0x314356,_0x5e69cc),_0x5e69cc;},__metadata=this&&this[_0x5d2ea6(0xb8)]||function(_0x4e66bf,_0x2e3eba){const _0x57f330=_0x5d2ea6;if(typeof Reflect===_0x57f330(0x96)&&typeof Reflect[_0x57f330(0xb9)]===_0x57f330(0xc9))return Reflect[_0x57f330(0xb9)](_0x4e66bf,_0x2e3eba);},__param=this&&this['__param']||function(_0x496fbd,_0xf67573){return function(_0xfb199c,_0x5ceef3){_0xf67573(_0xfb199c,_0x5ceef3,_0x496fbd);};};function _0x55a2(_0x4f6f76,_0x361067){const _0x3d5291=_0x3d52();return _0x55a2=function(_0x55a23f,_0x6f2413){_0x55a23f=_0x55a23f-0x84;let _0xc5ab4f=_0x3d5291[_0x55a23f];return _0xc5ab4f;},_0x55a2(_0x4f6f76,_0x361067);}Object[_0x5d2ea6(0xa5)](exports,_0x5d2ea6(0x9d),{'value':!![]}),exports['MenuService']=void 0x0;const common_1=require(_0x5d2ea6(0xc3)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),menu_entity_1=require(_0x5d2ea6(0xbd));let MenuService=class MenuService{constructor(_0x1b4e80){const _0x59c80b=_0x5d2ea6;this[_0x59c80b(0x8a)]=_0x1b4e80;}async['onModuleInit'](){await this['initMenu']();}async[_0x5d2ea6(0xb2)](){const _0x34ee4b=_0x5d2ea6,_0x5be06d=await this['menuEntity']['count']();if(_0x5be06d>0x0)return;const _0xd97073=[{'menuTipText':_0x34ee4b(0x90),'menuIcon':_0x34ee4b(0x9b),'menuName':_0x34ee4b(0x86),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x34ee4b(0xcb),'menuIcon':'ant-design:appstore-outlined','menuName':_0x34ee4b(0xcf),'menuPath':_0x34ee4b(0xd0),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x34ee4b(0xb7),'menuIcon':_0x34ee4b(0x8c),'menuName':_0x34ee4b(0xc8),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x34ee4b(0x85),'menuIcon':'solar:album-line-duotone','menuName':_0x34ee4b(0x91),'menuPath':_0x34ee4b(0xc7),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x34ee4b(0xb3),'menuIcon':'fluent:draw-image-24-regular','menuName':_0x34ee4b(0xbf),'menuPath':_0x34ee4b(0xbb),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x34ee4b(0xc6),'menuName':_0x34ee4b(0xac),'menuPath':_0x34ee4b(0xa9),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x34ee4b(0xab),'menuIcon':_0x34ee4b(0x88),'menuName':_0x34ee4b(0x92),'menuPath':_0x34ee4b(0x87),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x34ee4b(0xc1),'menuName':'Share','menuPath':_0x34ee4b(0xa8),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x17f311=[{'menuTipText':_0x34ee4b(0x90),'menuIcon':_0x34ee4b(0x9b),'menuName':_0x34ee4b(0x86),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x34ee4b(0xcb),'menuIcon':_0x34ee4b(0x8f),'menuName':_0x34ee4b(0xcf),'menuPath':_0x34ee4b(0xd0),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x34ee4b(0xb7),'menuIcon':_0x34ee4b(0x8c),'menuName':_0x34ee4b(0xc8),'menuPath':_0x34ee4b(0xaf),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':'icon-park-outline:mindmap-map','menuName':_0x34ee4b(0xac),'menuPath':_0x34ee4b(0xa9),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':_0x34ee4b(0xc2),'menuName':_0x34ee4b(0xc5),'menuPath':_0x34ee4b(0x9c),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x5a23d5=[..._0xd97073,..._0x17f311];await this[_0x34ee4b(0x8a)][_0x34ee4b(0xbc)](_0x5a23d5);}async[_0x5d2ea6(0xc4)](_0x140208){const _0x496fa3=_0x5d2ea6,{menuPlatform:_0x2f2d9c}=_0x140208,_0x1ea421={};return _0x2f2d9c&&(_0x1ea421[_0x496fa3(0xce)]=_0x2f2d9c),await this[_0x496fa3(0x8a)][_0x496fa3(0xcc)]({'where':_0x1ea421,'order':{'order':_0x496fa3(0x84)}});}async[_0x5d2ea6(0xa1)](_0x445e8f){const _0x41fa6a=_0x5d2ea6,{menuPlatform:_0x4ac839}=_0x445e8f,_0x2022b4={'isShow':!![]};return _0x4ac839&&(_0x2022b4[_0x41fa6a(0xce)]=_0x4ac839),await this['menuEntity'][_0x41fa6a(0xcc)]({'where':_0x2022b4,'order':{'order':_0x41fa6a(0x84)}});}async[_0x5d2ea6(0x98)](_0x42f263){const _0xc1dfdd=_0x5d2ea6,{id:_0x3fe5b4}=_0x42f263;if(!_0x3fe5b4)return;const _0x1b4be9=await this['menuEntity'][_0xc1dfdd(0xd1)]({'where':{'id':_0x3fe5b4}});if(!_0x1b4be9)return;const {isShow:_0xd927fd}=_0x1b4be9,_0x3e5834=await this[_0xc1dfdd(0x8a)][_0xc1dfdd(0x9f)]({'id':_0x3fe5b4},{'isShow':!_0xd927fd});return _0x3e5834[_0xc1dfdd(0x8b)]>0x0;}async[_0x5d2ea6(0xaa)](_0x4f6c52){const _0x4aa3e7=_0x5d2ea6,{id:_0x19c514}=_0x4f6c52;_0x4f6c52[_0x4aa3e7(0xa4)]?_0x4f6c52[_0x4aa3e7(0x94)]='':_0x4f6c52[_0x4aa3e7(0xa7)]='';delete _0x4f6c52[_0x4aa3e7(0xa4)];try{if(_0x19c514){const _0x1137e6=await this[_0x4aa3e7(0x8a)]['update']({'id':_0x19c514},_0x4f6c52);return _0x1137e6[_0x4aa3e7(0x8b)]>0x0;}else{const _0x2118ac=await this[_0x4aa3e7(0x8a)][_0x4aa3e7(0xbc)](_0x4f6c52);return _0x2118ac;}}catch(_0x513800){throw new common_1[(_0x4aa3e7(0xad))](_0x4aa3e7(0x89),common_1['HttpStatus'][_0x4aa3e7(0xc0)]);}}async[_0x5d2ea6(0xca)](_0x1e0b70){const _0x52b1d4=_0x5d2ea6,{id:_0x208a8d}=_0x1e0b70;if(!_0x208a8d)throw new common_1[(_0x52b1d4(0xad))](_0x52b1d4(0xcd),common_1[_0x52b1d4(0xd4)][_0x52b1d4(0xc0)]);const _0x540dc6=await this[_0x52b1d4(0x8a)][_0x52b1d4(0xa6)]({'id':_0x208a8d});return _0x540dc6;}async[_0x5d2ea6(0x9a)](_0x4f2c06){const _0x5c0c89=_0x5d2ea6,{id:_0x5215ca,menuIcon:_0x35cb55,menuTipText:_0x1c487e,order:_0x2c2407}=_0x4f2c06;if(!_0x5215ca||!_0x35cb55||!_0x1c487e||!_0x2c2407)throw new common_1[(_0x5c0c89(0xad))]('缺失必要参数!',common_1[_0x5c0c89(0xd4)][_0x5c0c89(0xc0)]);const _0x3c021c=await this[_0x5c0c89(0x8a)][_0x5c0c89(0x9f)]({'id':_0x5215ca},{'menuIcon':_0x35cb55,'menuTipText':_0x1c487e,'order':_0x2c2407});return _0x3c021c[_0x5c0c89(0x8b)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x5d2ea6(0xa3)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1['MenuEntity'])),__metadata('design:paramtypes',[typeorm_2[_0x5d2ea6(0xba)]])],MenuService),exports[_0x5d2ea6(0xb5)]=MenuService;