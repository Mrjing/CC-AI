'use strict';const _0x7c3c63=_0x36e2;function _0x1059(){const _0x29347b=['isSystem','2346268vWipGz','952JlJZlb','5670DUCztL','initMenu','/mind','Draw','__metadata','delete','visibleMenu','eos-icons:typing','28926GSIOXo','/share','onModuleInit','11935UiXQvA','Midjourney','Injectable','HttpStatus','/pay','/midjourney','Mind','5YkvlwL','menuIframeUrl','专业绘画','setMenu','操作菜单失败!','Chat','844wnanAG','AppStore','Pay','solar:album-line-duotone','update','menuListFront','./menu.entity','@nestjs/typeorm','InjectRepository','icon-park-outline:shopping','save','__esModule','/app-store','function','MenuService','BAD_REQUEST','findOne','Share','1825290PBzZcW','2643744PJjuVU','HttpException','menuEntity','绘画广场','__decorate','525Nnbdum','object','会员中心','design:paramtypes','/market','updateIcon','decorate','menuPlatform','queryMenu','ASC','6024216ygoKmC','Market','ant-design:appstore-outlined','defineProperty','思维导图','应用广场','缺失必要参数!','affected','uiw:share','ri:landscape-line','getOwnPropertyDescriptor','/chat','/draw','对话聊天','Repository','metadata'];_0x1059=function(){return _0x29347b;};return _0x1059();}function _0x36e2(_0x5cdc34,_0x1c10f4){const _0x1059a7=_0x1059();return _0x36e2=function(_0x36e277,_0x4e1a88){_0x36e277=_0x36e277-0x187;let _0x489615=_0x1059a7[_0x36e277];return _0x489615;},_0x36e2(_0x5cdc34,_0x1c10f4);}(function(_0x4eccd5,_0xbd2f80){const _0x3e48bd=_0x36e2,_0x512ea3=_0x4eccd5();while(!![]){try{const _0x3106e1=-parseInt(_0x3e48bd(0x1b8))/0x1*(parseInt(_0x3e48bd(0x1d1))/0x2)+parseInt(_0x3e48bd(0x197))/0x3+-parseInt(_0x3e48bd(0x1b7))/0x4*(-parseInt(_0x3e48bd(0x1cb))/0x5)+parseInt(_0x3e48bd(0x1c1))/0x6*(-parseInt(_0x3e48bd(0x19c))/0x7)+parseInt(_0x3e48bd(0x1a6))/0x8+-parseInt(_0x3e48bd(0x196))/0x9+-parseInt(_0x3e48bd(0x1b9))/0xa*(parseInt(_0x3e48bd(0x1c4))/0xb);if(_0x3106e1===_0xbd2f80)break;else _0x512ea3['push'](_0x512ea3['shift']());}catch(_0xa16831){_0x512ea3['push'](_0x512ea3['shift']());}}}(_0x1059,0x9c21e));var __decorate=this&&this[_0x7c3c63(0x19b)]||function(_0x227302,_0x97b4fe,_0x2773fb,_0x24f3d4){const _0x2272fa=_0x7c3c63;var _0x573f8e=arguments['length'],_0x5bd477=_0x573f8e<0x3?_0x97b4fe:_0x24f3d4===null?_0x24f3d4=Object[_0x2272fa(0x1b0)](_0x97b4fe,_0x2773fb):_0x24f3d4,_0x2e6e78;if(typeof Reflect===_0x2272fa(0x19d)&&typeof Reflect[_0x2272fa(0x1a2)]===_0x2272fa(0x191))_0x5bd477=Reflect['decorate'](_0x227302,_0x97b4fe,_0x2773fb,_0x24f3d4);else{for(var _0x16ee57=_0x227302['length']-0x1;_0x16ee57>=0x0;_0x16ee57--)if(_0x2e6e78=_0x227302[_0x16ee57])_0x5bd477=(_0x573f8e<0x3?_0x2e6e78(_0x5bd477):_0x573f8e>0x3?_0x2e6e78(_0x97b4fe,_0x2773fb,_0x5bd477):_0x2e6e78(_0x97b4fe,_0x2773fb))||_0x5bd477;}return _0x573f8e>0x3&&_0x5bd477&&Object[_0x2272fa(0x1a9)](_0x97b4fe,_0x2773fb,_0x5bd477),_0x5bd477;},__metadata=this&&this[_0x7c3c63(0x1bd)]||function(_0x19e40b,_0x4de3e0){const _0x553224=_0x7c3c63;if(typeof Reflect===_0x553224(0x19d)&&typeof Reflect[_0x553224(0x1b5)]===_0x553224(0x191))return Reflect['metadata'](_0x19e40b,_0x4de3e0);},__param=this&&this['__param']||function(_0x3188fa,_0xe869b8){return function(_0xc43043,_0x150da2){_0xe869b8(_0xc43043,_0x150da2,_0x3188fa);};};Object[_0x7c3c63(0x1a9)](exports,_0x7c3c63(0x18f),{'value':!![]}),exports[_0x7c3c63(0x192)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x7c3c63(0x18b)),typeorm_2=require('typeorm'),menu_entity_1=require(_0x7c3c63(0x18a));let MenuService=class MenuService{constructor(_0x42115a){const _0x5b9d15=_0x7c3c63;this[_0x5b9d15(0x199)]=_0x42115a;}async[_0x7c3c63(0x1c3)](){await this['initMenu']();}async[_0x7c3c63(0x1ba)](){const _0x1d1907=_0x7c3c63,_0x19258c=await this['menuEntity']['count']();if(_0x19258c>0x0)return;const _0x4435dc=[{'menuTipText':_0x1d1907(0x1b3),'menuIcon':_0x1d1907(0x1c0),'menuName':_0x1d1907(0x1d0),'menuPath':_0x1d1907(0x1b1),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x1d1907(0x1ab),'menuIcon':_0x1d1907(0x1a8),'menuName':_0x1d1907(0x1d2),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x1d1907(0x1cd),'menuIcon':_0x1d1907(0x1af),'menuName':_0x1d1907(0x1c5),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x1d1907(0x19a),'menuIcon':_0x1d1907(0x187),'menuName':_0x1d1907(0x1a7),'menuPath':_0x1d1907(0x1a0),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'基础绘画','menuIcon':'fluent:draw-image-24-regular','menuName':_0x1d1907(0x1bc),'menuPath':_0x1d1907(0x1b2),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x1d1907(0x1aa),'menuIcon':'icon-park-outline:mindmap-map','menuName':_0x1d1907(0x1ca),'menuPath':_0x1d1907(0x1bb),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x1d1907(0x19e),'menuIcon':_0x1d1907(0x18d),'menuName':_0x1d1907(0x1d3),'menuPath':_0x1d1907(0x1c8),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x1d1907(0x1ae),'menuName':_0x1d1907(0x195),'menuPath':_0x1d1907(0x1c2),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x1c0b2c=[{'menuTipText':_0x1d1907(0x1b3),'menuIcon':_0x1d1907(0x1c0),'menuName':'Chat','menuPath':_0x1d1907(0x1b1),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x1d1907(0x1ab),'menuIcon':_0x1d1907(0x1a8),'menuName':'AppStore','menuPath':_0x1d1907(0x190),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x1d1907(0x1cd),'menuIcon':_0x1d1907(0x1af),'menuName':_0x1d1907(0x1c5),'menuPath':_0x1d1907(0x1c9),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x1d1907(0x1aa),'menuIcon':'icon-park-outline:mindmap-map','menuName':_0x1d1907(0x1ca),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':'ri:account-pin-box-line','menuName':'UserCenter','menuPath':'/user-center','menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x57a996=[..._0x4435dc,..._0x1c0b2c];await this['menuEntity'][_0x1d1907(0x18e)](_0x57a996);}async[_0x7c3c63(0x1a4)](_0x4ccfc2){const _0x43cd57=_0x7c3c63,{menuPlatform:_0x2b1ac9}=_0x4ccfc2,_0x4dd0a2={};return _0x2b1ac9&&(_0x4dd0a2[_0x43cd57(0x1a3)]=_0x2b1ac9),await this[_0x43cd57(0x199)]['find']({'where':_0x4dd0a2,'order':{'order':_0x43cd57(0x1a5)}});}async[_0x7c3c63(0x189)](_0x5c9f1a){const _0x45d2b7=_0x7c3c63,{menuPlatform:_0x2dd331}=_0x5c9f1a,_0x2df015={'isShow':!![]};return _0x2dd331&&(_0x2df015[_0x45d2b7(0x1a3)]=_0x2dd331),await this[_0x45d2b7(0x199)]['find']({'where':_0x2df015,'order':{'order':_0x45d2b7(0x1a5)}});}async[_0x7c3c63(0x1bf)](_0x42828b){const _0x356eeb=_0x7c3c63,{id:_0x1de0c4}=_0x42828b;if(!_0x1de0c4)return;const _0x33f94d=await this['menuEntity'][_0x356eeb(0x194)]({'where':{'id':_0x1de0c4}});if(!_0x33f94d)return;const {isShow:_0x2dbe23}=_0x33f94d,_0x358355=await this['menuEntity']['update']({'id':_0x1de0c4},{'isShow':!_0x2dbe23});return _0x358355[_0x356eeb(0x1ad)]>0x0;}async[_0x7c3c63(0x1ce)](_0x47f356){const _0x35d40c=_0x7c3c63,{id:_0x118207}=_0x47f356;_0x47f356[_0x35d40c(0x1b6)]?_0x47f356['menuPath']='':_0x47f356[_0x35d40c(0x1cc)]='';delete _0x47f356[_0x35d40c(0x1b6)];try{if(_0x118207){const _0x2d8435=await this[_0x35d40c(0x199)]['update']({'id':_0x118207},_0x47f356);return _0x2d8435[_0x35d40c(0x1ad)]>0x0;}else{const _0x351ef1=await this[_0x35d40c(0x199)][_0x35d40c(0x18e)](_0x47f356);return _0x351ef1;}}catch(_0x5e26f2){throw new common_1['HttpException'](_0x35d40c(0x1cf),common_1[_0x35d40c(0x1c7)][_0x35d40c(0x193)]);}}async['delMenu'](_0x2ca5b1){const _0x266df5=_0x7c3c63,{id:_0x8e0820}=_0x2ca5b1;if(!_0x8e0820)throw new common_1[(_0x266df5(0x198))](_0x266df5(0x1ac),common_1['HttpStatus'][_0x266df5(0x193)]);const _0x379650=await this[_0x266df5(0x199)][_0x266df5(0x1be)]({'id':_0x8e0820});return _0x379650;}async[_0x7c3c63(0x1a1)](_0x5f368b){const _0x338175=_0x7c3c63,{id:_0x26c3ef,menuIcon:_0x15dca5,menuTipText:_0x1c9ebd,order:_0x4e1071}=_0x5f368b;if(!_0x26c3ef||!_0x15dca5||!_0x1c9ebd||!_0x4e1071)throw new common_1[(_0x338175(0x198))](_0x338175(0x1ac),common_1[_0x338175(0x1c7)][_0x338175(0x193)]);const _0x446d0e=await this['menuEntity'][_0x338175(0x188)]({'id':_0x26c3ef},{'menuIcon':_0x15dca5,'menuTipText':_0x1c9ebd,'order':_0x4e1071});return _0x446d0e[_0x338175(0x1ad)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x7c3c63(0x1c6)])(),__param(0x0,(0x0,typeorm_1[_0x7c3c63(0x18c)])(menu_entity_1['MenuEntity'])),__metadata(_0x7c3c63(0x19f),[typeorm_2[_0x7c3c63(0x1b4)]])],MenuService),exports[_0x7c3c63(0x192)]=MenuService;