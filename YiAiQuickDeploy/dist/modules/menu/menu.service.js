'use strict';const _0x2a66c7=_0xa6a9;function _0xa6a9(_0x43270f,_0x48dfa5){const _0x3e4401=_0x3e44();return _0xa6a9=function(_0xa6a958,_0x48f24b){_0xa6a958=_0xa6a958-0x12b;let _0x433e45=_0x3e4401[_0xa6a958];return _0x433e45;},_0xa6a9(_0x43270f,_0x48dfa5);}(function(_0x1b44cf,_0x3445e0){const _0x495e1e=_0xa6a9,_0x1cb74f=_0x1b44cf();while(!![]){try{const _0x46b8f9=parseInt(_0x495e1e(0x15a))/0x1+-parseInt(_0x495e1e(0x174))/0x2+-parseInt(_0x495e1e(0x137))/0x3*(parseInt(_0x495e1e(0x14e))/0x4)+-parseInt(_0x495e1e(0x132))/0x5+-parseInt(_0x495e1e(0x16a))/0x6+parseInt(_0x495e1e(0x16e))/0x7+-parseInt(_0x495e1e(0x135))/0x8*(-parseInt(_0x495e1e(0x152))/0x9);if(_0x46b8f9===_0x3445e0)break;else _0x1cb74f['push'](_0x1cb74f['shift']());}catch(_0x696cb5){_0x1cb74f['push'](_0x1cb74f['shift']());}}}(_0x3e44,0xedb68));var __decorate=this&&this[_0x2a66c7(0x169)]||function(_0x544a37,_0x5f27ba,_0x96261d,_0x42bae3){const _0x1ab542=_0x2a66c7;var _0x23fa83=arguments[_0x1ab542(0x15e)],_0x34073c=_0x23fa83<0x3?_0x5f27ba:_0x42bae3===null?_0x42bae3=Object[_0x1ab542(0x12d)](_0x5f27ba,_0x96261d):_0x42bae3,_0x104355;if(typeof Reflect===_0x1ab542(0x15d)&&typeof Reflect[_0x1ab542(0x148)]===_0x1ab542(0x14f))_0x34073c=Reflect[_0x1ab542(0x148)](_0x544a37,_0x5f27ba,_0x96261d,_0x42bae3);else{for(var _0x1720dd=_0x544a37[_0x1ab542(0x15e)]-0x1;_0x1720dd>=0x0;_0x1720dd--)if(_0x104355=_0x544a37[_0x1720dd])_0x34073c=(_0x23fa83<0x3?_0x104355(_0x34073c):_0x23fa83>0x3?_0x104355(_0x5f27ba,_0x96261d,_0x34073c):_0x104355(_0x5f27ba,_0x96261d))||_0x34073c;}return _0x23fa83>0x3&&_0x34073c&&Object[_0x1ab542(0x163)](_0x5f27ba,_0x96261d,_0x34073c),_0x34073c;},__metadata=this&&this[_0x2a66c7(0x16c)]||function(_0x39071d,_0xca2a91){const _0x1a9935=_0x2a66c7;if(typeof Reflect==='object'&&typeof Reflect[_0x1a9935(0x149)]===_0x1a9935(0x14f))return Reflect[_0x1a9935(0x149)](_0x39071d,_0xca2a91);},__param=this&&this[_0x2a66c7(0x144)]||function(_0x88f5dc,_0x3fc657){return function(_0x4f8e8c,_0x59a728){_0x3fc657(_0x4f8e8c,_0x59a728,_0x88f5dc);};};function _0x3e44(){const _0x1ddfa2=['对话聊天','52vYhibi','function','InjectRepository','应用广场','18UUPVxv','eos-icons:typing','uiw:share','/app-store','menuEntity','icon-park-outline:shopping','icon-park-outline:mindmap-map','menuPath','432943KkKyXV','Repository','ri:landscape-line','object','length','isSystem','Market','findOne','缺失必要参数!','defineProperty','HttpStatus','ASC','delete','update','Midjourney','__decorate','4906854BmKChy','/pay','__metadata','delMenu','7516313zIvsIo','HttpException','menuPlatform','绘画广场','Pay','save','3761636sswiIa','/market','MenuService','__esModule','AppStore','getOwnPropertyDescriptor','推广计划','思维导图','BAD_REQUEST','updateIcon','3260590CNgoaH','menuListFront','find','11687328WyLpqg','design:paramtypes','24027DuDbqC','Chat','ant-design:appstore-outlined','/chat','/user-center','count','@nestjs/common','UserCenter','/mind','typeorm','ri:account-pin-box-line','visibleMenu','./menu.entity','__param','个人中心','setMenu','initMenu','decorate','metadata','基础绘画','affected','专业绘画'];_0x3e44=function(){return _0x1ddfa2;};return _0x3e44();}Object['defineProperty'](exports,_0x2a66c7(0x12b),{'value':!![]}),exports[_0x2a66c7(0x176)]=void 0x0;const common_1=require(_0x2a66c7(0x13d)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x2a66c7(0x140)),menu_entity_1=require(_0x2a66c7(0x143));let MenuService=class MenuService{constructor(_0x425d5e){const _0x5b39ee=_0x2a66c7;this[_0x5b39ee(0x156)]=_0x425d5e;}async['onModuleInit'](){const _0x435521=_0x2a66c7;await this[_0x435521(0x147)]();}async[_0x2a66c7(0x147)](){const _0x433398=_0x2a66c7,_0x2159d2=await this[_0x433398(0x156)][_0x433398(0x13c)]();if(_0x2159d2>0x0)return;const _0x436a73=[{'menuTipText':_0x433398(0x14d),'menuIcon':'eos-icons:typing','menuName':_0x433398(0x138),'menuPath':_0x433398(0x13a),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x433398(0x151),'menuIcon':_0x433398(0x139),'menuName':_0x433398(0x12c),'menuPath':_0x433398(0x155),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x433398(0x14c),'menuIcon':_0x433398(0x15c),'menuName':_0x433398(0x168),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x433398(0x171),'menuIcon':'solar:album-line-duotone','menuName':_0x433398(0x160),'menuPath':_0x433398(0x175),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x433398(0x14a),'menuIcon':'fluent:draw-image-24-regular','menuName':'Draw','menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x433398(0x12f),'menuIcon':_0x433398(0x158),'menuName':'Mind','menuPath':_0x433398(0x13f),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':_0x433398(0x157),'menuName':_0x433398(0x172),'menuPath':_0x433398(0x16b),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x433398(0x12e),'menuIcon':_0x433398(0x154),'menuName':'Share','menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0xbefac3=[{'menuTipText':_0x433398(0x14d),'menuIcon':_0x433398(0x153),'menuName':_0x433398(0x138),'menuPath':_0x433398(0x13a),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x433398(0x151),'menuIcon':_0x433398(0x139),'menuName':'AppStore','menuPath':'/app-store','menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':_0x433398(0x15c),'menuName':_0x433398(0x168),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':_0x433398(0x158),'menuName':'Mind','menuPath':'/mind','menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x433398(0x145),'menuIcon':_0x433398(0x141),'menuName':_0x433398(0x13e),'menuPath':_0x433398(0x13b),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x2ba31f=[..._0x436a73,..._0xbefac3];await this[_0x433398(0x156)]['save'](_0x2ba31f);}async['queryMenu'](_0x4640d2){const _0x3f0045=_0x2a66c7,{menuPlatform:_0x1610d8}=_0x4640d2,_0x4afd3a={};return _0x1610d8&&(_0x4afd3a[_0x3f0045(0x170)]=_0x1610d8),await this[_0x3f0045(0x156)][_0x3f0045(0x134)]({'where':_0x4afd3a,'order':{'order':_0x3f0045(0x165)}});}async[_0x2a66c7(0x133)](_0x290b56){const _0x44de66=_0x2a66c7,{menuPlatform:_0x5c179c}=_0x290b56,_0x1d3668={'isShow':!![]};return _0x5c179c&&(_0x1d3668['menuPlatform']=_0x5c179c),await this[_0x44de66(0x156)][_0x44de66(0x134)]({'where':_0x1d3668,'order':{'order':_0x44de66(0x165)}});}async[_0x2a66c7(0x142)](_0x39203d){const _0x3aa3a0=_0x2a66c7,{id:_0x2c8382}=_0x39203d;if(!_0x2c8382)return;const _0x5c19df=await this[_0x3aa3a0(0x156)][_0x3aa3a0(0x161)]({'where':{'id':_0x2c8382}});if(!_0x5c19df)return;const {isShow:_0x38a0be}=_0x5c19df,_0x1f6fe2=await this[_0x3aa3a0(0x156)][_0x3aa3a0(0x167)]({'id':_0x2c8382},{'isShow':!_0x38a0be});return _0x1f6fe2[_0x3aa3a0(0x14b)]>0x0;}async[_0x2a66c7(0x146)](_0x427cf2){const _0x113333=_0x2a66c7,{id:_0x2d0a08}=_0x427cf2;_0x427cf2[_0x113333(0x15f)]?_0x427cf2[_0x113333(0x159)]='':_0x427cf2['menuIframeUrl']='';delete _0x427cf2[_0x113333(0x15f)];try{if(_0x2d0a08){const _0x446c0a=await this[_0x113333(0x156)][_0x113333(0x167)]({'id':_0x2d0a08},_0x427cf2);return _0x446c0a['affected']>0x0;}else{const _0x38a1d2=await this[_0x113333(0x156)][_0x113333(0x173)](_0x427cf2);return _0x38a1d2;}}catch(_0x4d944c){throw new common_1[(_0x113333(0x16f))]('操作菜单失败!',common_1[_0x113333(0x164)][_0x113333(0x130)]);}}async[_0x2a66c7(0x16d)](_0x38405e){const _0x2da018=_0x2a66c7,{id:_0x1bc136}=_0x38405e;if(!_0x1bc136)throw new common_1[(_0x2da018(0x16f))]('缺失必要参数!',common_1[_0x2da018(0x164)][_0x2da018(0x130)]);const _0x13a111=await this[_0x2da018(0x156)][_0x2da018(0x166)]({'id':_0x1bc136});return _0x13a111;}async[_0x2a66c7(0x131)](_0x2b4ac3){const _0x30dc0d=_0x2a66c7,{id:_0x186fcf,menuIcon:_0x3cd02a,menuTipText:_0x589b52,order:_0x29cfbc}=_0x2b4ac3;if(!_0x186fcf||!_0x3cd02a||!_0x589b52||!_0x29cfbc)throw new common_1['HttpException'](_0x30dc0d(0x162),common_1[_0x30dc0d(0x164)][_0x30dc0d(0x130)]);const _0x111cb3=await this['menuEntity']['update']({'id':_0x186fcf},{'menuIcon':_0x3cd02a,'menuTipText':_0x589b52,'order':_0x29cfbc});return _0x111cb3[_0x30dc0d(0x14b)]>0x0;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x2a66c7(0x150)])(menu_entity_1['MenuEntity'])),__metadata(_0x2a66c7(0x136),[typeorm_2[_0x2a66c7(0x15b)]])],MenuService),exports[_0x2a66c7(0x176)]=MenuService;