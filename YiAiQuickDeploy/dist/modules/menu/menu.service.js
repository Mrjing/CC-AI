'use strict';const _0x1ab53e=_0x51b6;(function(_0x4c104b,_0x5dce16){const _0x12916a=_0x51b6,_0x568049=_0x4c104b();while(!![]){try{const _0x11ce6b=parseInt(_0x12916a(0x22b))/0x1*(parseInt(_0x12916a(0x228))/0x2)+parseInt(_0x12916a(0x1ed))/0x3+-parseInt(_0x12916a(0x213))/0x4+-parseInt(_0x12916a(0x229))/0x5+-parseInt(_0x12916a(0x211))/0x6+-parseInt(_0x12916a(0x1fd))/0x7*(parseInt(_0x12916a(0x1e1))/0x8)+parseInt(_0x12916a(0x202))/0x9;if(_0x11ce6b===_0x5dce16)break;else _0x568049['push'](_0x568049['shift']());}catch(_0x2a848b){_0x568049['push'](_0x568049['shift']());}}}(_0x2c03,0x70a45));function _0x51b6(_0x55b935,_0x43477e){const _0x2c03db=_0x2c03();return _0x51b6=function(_0x51b6e5,_0x2c70f8){_0x51b6e5=_0x51b6e5-0x1dd;let _0x4d4715=_0x2c03db[_0x51b6e5];return _0x4d4715;},_0x51b6(_0x55b935,_0x43477e);}var __decorate=this&&this['__decorate']||function(_0x1007c8,_0x3ac972,_0x542700,_0x39f22e){const _0x589483=_0x51b6;var _0x429215=arguments[_0x589483(0x217)],_0x4a5aca=_0x429215<0x3?_0x3ac972:_0x39f22e===null?_0x39f22e=Object[_0x589483(0x20e)](_0x3ac972,_0x542700):_0x39f22e,_0x4e818c;if(typeof Reflect===_0x589483(0x1e2)&&typeof Reflect[_0x589483(0x1e9)]===_0x589483(0x207))_0x4a5aca=Reflect[_0x589483(0x1e9)](_0x1007c8,_0x3ac972,_0x542700,_0x39f22e);else{for(var _0x4f8c9c=_0x1007c8[_0x589483(0x217)]-0x1;_0x4f8c9c>=0x0;_0x4f8c9c--)if(_0x4e818c=_0x1007c8[_0x4f8c9c])_0x4a5aca=(_0x429215<0x3?_0x4e818c(_0x4a5aca):_0x429215>0x3?_0x4e818c(_0x3ac972,_0x542700,_0x4a5aca):_0x4e818c(_0x3ac972,_0x542700))||_0x4a5aca;}return _0x429215>0x3&&_0x4a5aca&&Object[_0x589483(0x1fe)](_0x3ac972,_0x542700,_0x4a5aca),_0x4a5aca;},__metadata=this&&this['__metadata']||function(_0x15b11f,_0x4b3c11){const _0x297fe5=_0x51b6;if(typeof Reflect===_0x297fe5(0x1e2)&&typeof Reflect[_0x297fe5(0x1dd)]===_0x297fe5(0x207))return Reflect['metadata'](_0x15b11f,_0x4b3c11);},__param=this&&this[_0x1ab53e(0x204)]||function(_0x5ce832,_0x1385d2){return function(_0x3222e0,_0x3883e9){_0x1385d2(_0x3222e0,_0x3883e9,_0x5ce832);};};function _0x2c03(){const _0xc40281=['21786723ngyfek','onModuleInit','__param','design:paramtypes','update','function','menuIframeUrl','Mind','menuPath','delMenu','Injectable','思维导图','getOwnPropertyDescriptor','/share','AppStore','1143144ZwgZdO','save','2906240jAGMPe','/draw','affected','typeorm','length','fluent:draw-image-24-regular','/user-center','find','/chat','eos-icons:typing','isSystem','绘画广场','Repository','/market','count','个人中心','menuPlatform','uiw:share','Midjourney','/mind','Market','617858IfoZTz','3658005MQKtWi','BAD_REQUEST','1tdhchb','metadata','会员中心','visibleMenu','应用广场','6352120lqBlSW','object','ri:landscape-line','/app-store','专业绘画','HttpException','/pay','@nestjs/typeorm','decorate','HttpStatus','./menu.entity','menuEntity','523215wAtXbS','MenuEntity','menuListFront','Share','Chat','Draw','__esModule','缺失必要参数!','delete','ASC','/midjourney','推广计划','MenuService','ant-design:appstore-outlined','icon-park-outline:mindmap-map','Pay','7JpRaUN','defineProperty','操作菜单失败!','对话聊天','queryMenu'];_0x2c03=function(){return _0xc40281;};return _0x2c03();}Object[_0x1ab53e(0x1fe)](exports,_0x1ab53e(0x1f3),{'value':!![]}),exports[_0x1ab53e(0x1f9)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x1ab53e(0x1e8)),typeorm_2=require(_0x1ab53e(0x216)),menu_entity_1=require(_0x1ab53e(0x1eb));let MenuService=class MenuService{constructor(_0x513d20){const _0x3c75cd=_0x1ab53e;this[_0x3c75cd(0x1ec)]=_0x513d20;}async[_0x1ab53e(0x203)](){await this['initMenu']();}async['initMenu'](){const _0x4f5f7e=_0x1ab53e,_0x4630dc=await this[_0x4f5f7e(0x1ec)][_0x4f5f7e(0x221)]();if(_0x4630dc>0x0)return;const _0x43f727=[{'menuTipText':_0x4f5f7e(0x200),'menuIcon':_0x4f5f7e(0x21c),'menuName':_0x4f5f7e(0x1f1),'menuPath':_0x4f5f7e(0x21b),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x4f5f7e(0x1e0),'menuIcon':_0x4f5f7e(0x1fa),'menuName':_0x4f5f7e(0x210),'menuPath':_0x4f5f7e(0x1e4),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x4f5f7e(0x1e5),'menuIcon':_0x4f5f7e(0x1e3),'menuName':_0x4f5f7e(0x225),'menuPath':_0x4f5f7e(0x1f7),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x4f5f7e(0x21e),'menuIcon':'solar:album-line-duotone','menuName':_0x4f5f7e(0x227),'menuPath':_0x4f5f7e(0x220),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'基础绘画','menuIcon':_0x4f5f7e(0x218),'menuName':_0x4f5f7e(0x1f2),'menuPath':_0x4f5f7e(0x214),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x4f5f7e(0x1fb),'menuName':'Mind','menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x4f5f7e(0x1de),'menuIcon':'icon-park-outline:shopping','menuName':_0x4f5f7e(0x1fc),'menuPath':_0x4f5f7e(0x1e7),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x4f5f7e(0x1f8),'menuIcon':_0x4f5f7e(0x224),'menuName':_0x4f5f7e(0x1f0),'menuPath':_0x4f5f7e(0x20f),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x23b89e=[{'menuTipText':'对话聊天','menuIcon':'eos-icons:typing','menuName':_0x4f5f7e(0x1f1),'menuPath':_0x4f5f7e(0x21b),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x4f5f7e(0x1e0),'menuIcon':_0x4f5f7e(0x1fa),'menuName':_0x4f5f7e(0x210),'menuPath':_0x4f5f7e(0x1e4),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x4f5f7e(0x1e5),'menuIcon':'ri:landscape-line','menuName':_0x4f5f7e(0x225),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x4f5f7e(0x20d),'menuIcon':_0x4f5f7e(0x1fb),'menuName':_0x4f5f7e(0x209),'menuPath':_0x4f5f7e(0x226),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x4f5f7e(0x222),'menuIcon':'ri:account-pin-box-line','menuName':'UserCenter','menuPath':_0x4f5f7e(0x219),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x5d5fc8=[..._0x43f727,..._0x23b89e];await this[_0x4f5f7e(0x1ec)][_0x4f5f7e(0x212)](_0x5d5fc8);}async[_0x1ab53e(0x201)](_0x55bfb5){const _0x3c2fa0=_0x1ab53e,{menuPlatform:_0x3da92c}=_0x55bfb5,_0x1a20b4={};return _0x3da92c&&(_0x1a20b4[_0x3c2fa0(0x223)]=_0x3da92c),await this[_0x3c2fa0(0x1ec)][_0x3c2fa0(0x21a)]({'where':_0x1a20b4,'order':{'order':_0x3c2fa0(0x1f6)}});}async[_0x1ab53e(0x1ef)](_0x3bffed){const _0x3889be=_0x1ab53e,{menuPlatform:_0x231233}=_0x3bffed,_0x3c5ac7={'isShow':!![]};return _0x231233&&(_0x3c5ac7[_0x3889be(0x223)]=_0x231233),await this[_0x3889be(0x1ec)][_0x3889be(0x21a)]({'where':_0x3c5ac7,'order':{'order':_0x3889be(0x1f6)}});}async[_0x1ab53e(0x1df)](_0x37f0e8){const _0xb6645c=_0x1ab53e,{id:_0x213405}=_0x37f0e8;if(!_0x213405)return;const _0x120b7c=await this[_0xb6645c(0x1ec)]['findOne']({'where':{'id':_0x213405}});if(!_0x120b7c)return;const {isShow:_0xddbfeb}=_0x120b7c,_0x2da029=await this[_0xb6645c(0x1ec)]['update']({'id':_0x213405},{'isShow':!_0xddbfeb});return _0x2da029[_0xb6645c(0x215)]>0x0;}async['setMenu'](_0x3a6070){const _0x3d63c5=_0x1ab53e,{id:_0x4cbf16}=_0x3a6070;_0x3a6070[_0x3d63c5(0x21d)]?_0x3a6070[_0x3d63c5(0x20a)]='':_0x3a6070[_0x3d63c5(0x208)]='';delete _0x3a6070['isSystem'];try{if(_0x4cbf16){const _0x98104d=await this[_0x3d63c5(0x1ec)][_0x3d63c5(0x206)]({'id':_0x4cbf16},_0x3a6070);return _0x98104d[_0x3d63c5(0x215)]>0x0;}else{const _0x4618ad=await this[_0x3d63c5(0x1ec)][_0x3d63c5(0x212)](_0x3a6070);return _0x4618ad;}}catch(_0x34ce52){throw new common_1[(_0x3d63c5(0x1e6))](_0x3d63c5(0x1ff),common_1[_0x3d63c5(0x1ea)][_0x3d63c5(0x22a)]);}}async[_0x1ab53e(0x20b)](_0x3b5514){const _0x33c814=_0x1ab53e,{id:_0x5de80f}=_0x3b5514;if(!_0x5de80f)throw new common_1[(_0x33c814(0x1e6))](_0x33c814(0x1f4),common_1[_0x33c814(0x1ea)][_0x33c814(0x22a)]);const _0x30a662=await this[_0x33c814(0x1ec)][_0x33c814(0x1f5)]({'id':_0x5de80f});return _0x30a662;}async['updateIcon'](_0x134f71){const _0x11bfc6=_0x1ab53e,{id:_0x5c19d6,menuIcon:_0x3d10bb,menuTipText:_0x82893c,order:_0x56a466}=_0x134f71;if(!_0x5c19d6||!_0x3d10bb||!_0x82893c||!_0x56a466)throw new common_1[(_0x11bfc6(0x1e6))]('缺失必要参数!',common_1['HttpStatus'][_0x11bfc6(0x22a)]);const _0x1038ac=await this[_0x11bfc6(0x1ec)][_0x11bfc6(0x206)]({'id':_0x5c19d6},{'menuIcon':_0x3d10bb,'menuTipText':_0x82893c,'order':_0x56a466});return _0x1038ac[_0x11bfc6(0x215)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x1ab53e(0x20c)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1[_0x1ab53e(0x1ee)])),__metadata(_0x1ab53e(0x205),[typeorm_2[_0x1ab53e(0x21f)]])],MenuService),exports[_0x1ab53e(0x1f9)]=MenuService;