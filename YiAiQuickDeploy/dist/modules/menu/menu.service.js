'use strict';const _0x537bf0=_0x3d74;(function(_0x4615d9,_0x20cd0d){const _0x3f8d52=_0x3d74,_0x41f108=_0x4615d9();while(!![]){try{const _0x5ed996=parseInt(_0x3f8d52(0x179))/0x1*(parseInt(_0x3f8d52(0x175))/0x2)+-parseInt(_0x3f8d52(0x169))/0x3+-parseInt(_0x3f8d52(0x15f))/0x4+parseInt(_0x3f8d52(0x191))/0x5+-parseInt(_0x3f8d52(0x17c))/0x6*(parseInt(_0x3f8d52(0x16e))/0x7)+-parseInt(_0x3f8d52(0x18f))/0x8*(-parseInt(_0x3f8d52(0x186))/0x9)+parseInt(_0x3f8d52(0x1a1))/0xa;if(_0x5ed996===_0x20cd0d)break;else _0x41f108['push'](_0x41f108['shift']());}catch(_0x4e053f){_0x41f108['push'](_0x41f108['shift']());}}}(_0x4da2,0xe4eee));var __decorate=this&&this[_0x537bf0(0x185)]||function(_0x484f37,_0x59fa71,_0x9e5de9,_0x12438c){const _0x3863f7=_0x537bf0;var _0x234c61=arguments[_0x3863f7(0x187)],_0x28ea80=_0x234c61<0x3?_0x59fa71:_0x12438c===null?_0x12438c=Object[_0x3863f7(0x188)](_0x59fa71,_0x9e5de9):_0x12438c,_0x5131dc;if(typeof Reflect==='object'&&typeof Reflect[_0x3863f7(0x1a0)]===_0x3863f7(0x19f))_0x28ea80=Reflect['decorate'](_0x484f37,_0x59fa71,_0x9e5de9,_0x12438c);else{for(var _0x45cb47=_0x484f37[_0x3863f7(0x187)]-0x1;_0x45cb47>=0x0;_0x45cb47--)if(_0x5131dc=_0x484f37[_0x45cb47])_0x28ea80=(_0x234c61<0x3?_0x5131dc(_0x28ea80):_0x234c61>0x3?_0x5131dc(_0x59fa71,_0x9e5de9,_0x28ea80):_0x5131dc(_0x59fa71,_0x9e5de9))||_0x28ea80;}return _0x234c61>0x3&&_0x28ea80&&Object[_0x3863f7(0x198)](_0x59fa71,_0x9e5de9,_0x28ea80),_0x28ea80;},__metadata=this&&this['__metadata']||function(_0x2be405,_0x11de5a){const _0x1dc394=_0x537bf0;if(typeof Reflect===_0x1dc394(0x178)&&typeof Reflect[_0x1dc394(0x195)]==='function')return Reflect['metadata'](_0x2be405,_0x11de5a);},__param=this&&this['__param']||function(_0x243845,_0x430407){return function(_0x18801a,_0x53a39e){_0x430407(_0x18801a,_0x53a39e,_0x243845);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x537bf0(0x199)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x537bf0(0x171)),typeorm_2=require('typeorm'),menu_entity_1=require(_0x537bf0(0x17d));let MenuService=class MenuService{constructor(_0x408553){const _0x1f4fa5=_0x537bf0;this[_0x1f4fa5(0x160)]=_0x408553;}async[_0x537bf0(0x19b)](){await this['initMenu']();}async['initMenu'](){const _0x453868=_0x537bf0,_0x3c7b37=await this[_0x453868(0x160)][_0x453868(0x164)]();if(_0x3c7b37>0x0)return;const _0x177658=[{'menuTipText':_0x453868(0x162),'menuIcon':_0x453868(0x18e),'menuName':_0x453868(0x16f),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x453868(0x181),'menuName':_0x453868(0x18a),'menuPath':_0x453868(0x174),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x453868(0x190),'menuIcon':_0x453868(0x166),'menuName':_0x453868(0x183),'menuPath':_0x453868(0x189),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':'绘画广场','menuIcon':'solar:album-line-duotone','menuName':'Market','menuPath':'/market','menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x453868(0x184),'menuIcon':_0x453868(0x193),'menuName':_0x453868(0x161),'menuPath':_0x453868(0x18b),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x453868(0x17f),'menuIcon':_0x453868(0x167),'menuName':_0x453868(0x18d),'menuPath':_0x453868(0x16d),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':'icon-park-outline:shopping','menuName':_0x453868(0x194),'menuPath':'/pay','menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x453868(0x16b),'menuName':'Share','menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x4fe977=[{'menuTipText':_0x453868(0x162),'menuIcon':_0x453868(0x18e),'menuName':_0x453868(0x16f),'menuPath':_0x453868(0x196),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x453868(0x181),'menuName':_0x453868(0x18a),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x453868(0x190),'menuIcon':_0x453868(0x166),'menuName':_0x453868(0x183),'menuPath':_0x453868(0x189),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':'icon-park-outline:mindmap-map','menuName':'Mind','menuPath':_0x453868(0x16d),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':_0x453868(0x165),'menuName':'UserCenter','menuPath':_0x453868(0x17b),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x3e6071=[..._0x177658,..._0x4fe977];await this['menuEntity'][_0x453868(0x17e)](_0x3e6071);}async[_0x537bf0(0x197)](_0x591b81){const _0x1b2e21=_0x537bf0,{menuPlatform:_0x130e47}=_0x591b81,_0x138af1={};return _0x130e47&&(_0x138af1[_0x1b2e21(0x192)]=_0x130e47),await this[_0x1b2e21(0x160)][_0x1b2e21(0x19e)]({'where':_0x138af1,'order':{'order':_0x1b2e21(0x1a2)}});}async[_0x537bf0(0x173)](_0x4dc3df){const _0x6bf493=_0x537bf0,{menuPlatform:_0x533f99}=_0x4dc3df,_0x33d669={'isShow':!![]};return _0x533f99&&(_0x33d669[_0x6bf493(0x192)]=_0x533f99),await this[_0x6bf493(0x160)]['find']({'where':_0x33d669,'order':{'order':_0x6bf493(0x1a2)}});}async[_0x537bf0(0x182)](_0x298a32){const _0xb1d182=_0x537bf0,{id:_0x192b34}=_0x298a32;if(!_0x192b34)return;const _0x475d13=await this[_0xb1d182(0x160)][_0xb1d182(0x18c)]({'where':{'id':_0x192b34}});if(!_0x475d13)return;const {isShow:_0x45fc06}=_0x475d13,_0x117a68=await this['menuEntity']['update']({'id':_0x192b34},{'isShow':!_0x45fc06});return _0x117a68[_0xb1d182(0x170)]>0x0;}async['setMenu'](_0xb845af){const _0x2725b0=_0x537bf0,{id:_0x52f4aa}=_0xb845af;_0xb845af['isSystem']?_0xb845af['menuPath']='':_0xb845af[_0x2725b0(0x16c)]='';delete _0xb845af[_0x2725b0(0x176)];try{if(_0x52f4aa){const _0x3140fa=await this[_0x2725b0(0x160)]['update']({'id':_0x52f4aa},_0xb845af);return _0x3140fa[_0x2725b0(0x170)]>0x0;}else{const _0x39c9a7=await this[_0x2725b0(0x160)]['save'](_0xb845af);return _0x39c9a7;}}catch(_0x97ba39){throw new common_1['HttpException'](_0x2725b0(0x19c),common_1[_0x2725b0(0x168)][_0x2725b0(0x163)]);}}async[_0x537bf0(0x180)](_0x46f1ca){const _0x46c4f7=_0x537bf0,{id:_0x2ec620}=_0x46f1ca;if(!_0x2ec620)throw new common_1[(_0x46c4f7(0x177))]('缺失必要参数!',common_1[_0x46c4f7(0x168)][_0x46c4f7(0x163)]);const _0x5abc18=await this[_0x46c4f7(0x160)]['delete']({'id':_0x2ec620});return _0x5abc18;}async[_0x537bf0(0x172)](_0xbf200e){const _0x59990d=_0x537bf0,{id:_0x3af021,menuIcon:_0x106b5d,menuTipText:_0x5c3322,order:_0x526697}=_0xbf200e;if(!_0x3af021||!_0x106b5d||!_0x5c3322||!_0x526697)throw new common_1[(_0x59990d(0x177))](_0x59990d(0x19d),common_1['HttpStatus'][_0x59990d(0x163)]);const _0x5b6b6b=await this['menuEntity'][_0x59990d(0x19a)]({'id':_0x3af021},{'menuIcon':_0x106b5d,'menuTipText':_0x5c3322,'order':_0x526697});return _0x5b6b6b[_0x59990d(0x170)]>0x0;}};function _0x4da2(){const _0x5dc028=['Mind','eos-icons:typing','1380352zFhoHm','专业绘画','2727850cCQZIF','menuPlatform','fluent:draw-image-24-regular','Pay','metadata','/chat','queryMenu','defineProperty','MenuService','update','onModuleInit','操作菜单失败!','缺失必要参数!','find','function','decorate','12981770vdVpAP','ASC','2643848pxVmxy','menuEntity','Draw','对话聊天','BAD_REQUEST','count','ri:account-pin-box-line','ri:landscape-line','icon-park-outline:mindmap-map','HttpStatus','2591568QqNqdg','InjectRepository','uiw:share','menuIframeUrl','/mind','105EOZFlr','Chat','affected','@nestjs/typeorm','updateIcon','menuListFront','/app-store','6nvWsBC','isSystem','HttpException','object','147676GbtMrF','Injectable','/user-center','67734oXukhR','./menu.entity','save','思维导图','delMenu','ant-design:appstore-outlined','visibleMenu','Midjourney','基础绘画','__decorate','18sopTCe','length','getOwnPropertyDescriptor','/midjourney','AppStore','/draw','findOne'];_0x4da2=function(){return _0x5dc028;};return _0x4da2();}function _0x3d74(_0x3a0722,_0x4ffd2a){const _0x4da231=_0x4da2();return _0x3d74=function(_0x3d7447,_0x55fe24){_0x3d7447=_0x3d7447-0x15f;let _0x5a553a=_0x4da231[_0x3d7447];return _0x5a553a;},_0x3d74(_0x3a0722,_0x4ffd2a);}MenuService=__decorate([(0x0,common_1[_0x537bf0(0x17a)])(),__param(0x0,(0x0,typeorm_1[_0x537bf0(0x16a)])(menu_entity_1['MenuEntity'])),__metadata('design:paramtypes',[typeorm_2['Repository']])],MenuService),exports[_0x537bf0(0x199)]=MenuService;