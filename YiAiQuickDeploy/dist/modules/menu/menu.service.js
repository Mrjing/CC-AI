'use strict';const _0x32f609=_0xe837;function _0x38eb(){const _0x3af3e0=['ri:landscape-line','/user-center','AppStore','object','ant-design:appstore-outlined','eos-icons:typing','MenuService','绘画广场','save','decorate','metadata','getOwnPropertyDescriptor','专业绘画','count','BAD_REQUEST','menuPath','queryMenu','Midjourney','delMenu','操作菜单失败!','@nestjs/common','affected','__decorate','InjectRepository','defineProperty','menuIframeUrl','Repository','design:paramtypes','/app-store','/mind','__param','Share','delete','Pay','对话聊天','基础绘画','initMenu','update','menuEntity','HttpException','/pay','1252192afqEzJ','/chat','updateIcon','Injectable','find','ASC','7173200xvnJvy','256064GKoawU','/share','menuListFront','function','Mind','个人中心','1297954MVWjHl','Chat','/midjourney','180oUqhnb','8wTsTWT','length','2KsojBb','Draw','menuPlatform','89862ftkqss','icon-park-outline:mindmap-map','1494705wABkYt','onModuleInit','思维导图','fluent:draw-image-24-regular','icon-park-outline:shopping','951543ZnrnPH','UserCenter','HttpStatus'];_0x38eb=function(){return _0x3af3e0;};return _0x38eb();}function _0xe837(_0x167b71,_0x1081a6){const _0x38eb5a=_0x38eb();return _0xe837=function(_0xe837a1,_0x2b011c){_0xe837a1=_0xe837a1-0x1e9;let _0x18af6d=_0x38eb5a[_0xe837a1];return _0x18af6d;},_0xe837(_0x167b71,_0x1081a6);}(function(_0x597904,_0x4a7241){const _0x72276c=_0xe837,_0x173149=_0x597904();while(!![]){try{const _0x19632c=parseInt(_0x72276c(0x231))/0x1+parseInt(_0x72276c(0x1f4))/0x2*(-parseInt(_0x72276c(0x1f9))/0x3)+-parseInt(_0x72276c(0x22a))/0x4+parseInt(_0x72276c(0x1f1))/0x5*(parseInt(_0x72276c(0x1f7))/0x6)+-parseInt(_0x72276c(0x1ee))/0x7+parseInt(_0x72276c(0x1f2))/0x8*(-parseInt(_0x72276c(0x1fe))/0x9)+parseInt(_0x72276c(0x230))/0xa;if(_0x19632c===_0x4a7241)break;else _0x173149['push'](_0x173149['shift']());}catch(_0x264f06){_0x173149['push'](_0x173149['shift']());}}}(_0x38eb,0x6420c));var __decorate=this&&this[_0x32f609(0x217)]||function(_0x4f754f,_0x31c105,_0x2eb324,_0x40d892){const _0x35a1db=_0x32f609;var _0x32b8a0=arguments[_0x35a1db(0x1f3)],_0x5de1d2=_0x32b8a0<0x3?_0x31c105:_0x40d892===null?_0x40d892=Object[_0x35a1db(0x20c)](_0x31c105,_0x2eb324):_0x40d892,_0xf604c5;if(typeof Reflect===_0x35a1db(0x204)&&typeof Reflect[_0x35a1db(0x20a)]===_0x35a1db(0x1eb))_0x5de1d2=Reflect['decorate'](_0x4f754f,_0x31c105,_0x2eb324,_0x40d892);else{for(var _0x1fb046=_0x4f754f['length']-0x1;_0x1fb046>=0x0;_0x1fb046--)if(_0xf604c5=_0x4f754f[_0x1fb046])_0x5de1d2=(_0x32b8a0<0x3?_0xf604c5(_0x5de1d2):_0x32b8a0>0x3?_0xf604c5(_0x31c105,_0x2eb324,_0x5de1d2):_0xf604c5(_0x31c105,_0x2eb324))||_0x5de1d2;}return _0x32b8a0>0x3&&_0x5de1d2&&Object[_0x35a1db(0x219)](_0x31c105,_0x2eb324,_0x5de1d2),_0x5de1d2;},__metadata=this&&this['__metadata']||function(_0x5f1761,_0x103b90){const _0x2af06c=_0x32f609;if(typeof Reflect===_0x2af06c(0x204)&&typeof Reflect['metadata']===_0x2af06c(0x1eb))return Reflect[_0x2af06c(0x20b)](_0x5f1761,_0x103b90);},__param=this&&this[_0x32f609(0x21f)]||function(_0x4ef8a1,_0x4540ef){return function(_0x411a7b,_0x19f19a){_0x4540ef(_0x411a7b,_0x19f19a,_0x4ef8a1);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x32f609(0x207)]=void 0x0;const common_1=require(_0x32f609(0x215)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),menu_entity_1=require('./menu.entity');let MenuService=class MenuService{constructor(_0x299099){this['menuEntity']=_0x299099;}async[_0x32f609(0x1fa)](){const _0x415acc=_0x32f609;await this[_0x415acc(0x225)]();}async[_0x32f609(0x225)](){const _0x57b7d3=_0x32f609,_0x276832=await this[_0x57b7d3(0x227)][_0x57b7d3(0x20e)]();if(_0x276832>0x0)return;const _0x43e4be=[{'menuTipText':_0x57b7d3(0x223),'menuIcon':_0x57b7d3(0x206),'menuName':_0x57b7d3(0x1ef),'menuPath':_0x57b7d3(0x22b),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x57b7d3(0x205),'menuName':_0x57b7d3(0x203),'menuPath':_0x57b7d3(0x21d),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x57b7d3(0x20d),'menuIcon':_0x57b7d3(0x201),'menuName':_0x57b7d3(0x212),'menuPath':_0x57b7d3(0x1f0),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x57b7d3(0x208),'menuIcon':'solar:album-line-duotone','menuName':'Market','menuPath':'/market','menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x57b7d3(0x224),'menuIcon':_0x57b7d3(0x1fc),'menuName':_0x57b7d3(0x1f5),'menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x57b7d3(0x1fb),'menuIcon':_0x57b7d3(0x1f8),'menuName':_0x57b7d3(0x1ec),'menuPath':_0x57b7d3(0x21e),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':_0x57b7d3(0x1fd),'menuName':_0x57b7d3(0x222),'menuPath':_0x57b7d3(0x229),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':'uiw:share','menuName':_0x57b7d3(0x220),'menuPath':_0x57b7d3(0x1e9),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x115453=[{'menuTipText':_0x57b7d3(0x223),'menuIcon':'eos-icons:typing','menuName':'Chat','menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x57b7d3(0x205),'menuName':_0x57b7d3(0x203),'menuPath':_0x57b7d3(0x21d),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':_0x57b7d3(0x201),'menuName':'Midjourney','menuPath':_0x57b7d3(0x1f0),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x57b7d3(0x1fb),'menuIcon':_0x57b7d3(0x1f8),'menuName':'Mind','menuPath':_0x57b7d3(0x21e),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x57b7d3(0x1ed),'menuIcon':'ri:account-pin-box-line','menuName':_0x57b7d3(0x1ff),'menuPath':_0x57b7d3(0x202),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x3fb938=[..._0x43e4be,..._0x115453];await this['menuEntity'][_0x57b7d3(0x209)](_0x3fb938);}async[_0x32f609(0x211)](_0x3f5ef1){const _0x1cd253=_0x32f609,{menuPlatform:_0x3cc6d8}=_0x3f5ef1,_0x5d74f0={};return _0x3cc6d8&&(_0x5d74f0['menuPlatform']=_0x3cc6d8),await this['menuEntity']['find']({'where':_0x5d74f0,'order':{'order':_0x1cd253(0x22f)}});}async[_0x32f609(0x1ea)](_0x59c306){const _0x4fa19c=_0x32f609,{menuPlatform:_0x2c4805}=_0x59c306,_0x4b1dfb={'isShow':!![]};return _0x2c4805&&(_0x4b1dfb[_0x4fa19c(0x1f6)]=_0x2c4805),await this[_0x4fa19c(0x227)][_0x4fa19c(0x22e)]({'where':_0x4b1dfb,'order':{'order':'ASC'}});}async['visibleMenu'](_0x2fbcb2){const _0x1e2252=_0x32f609,{id:_0x4eade9}=_0x2fbcb2;if(!_0x4eade9)return;const _0x5d9610=await this['menuEntity']['findOne']({'where':{'id':_0x4eade9}});if(!_0x5d9610)return;const {isShow:_0x2fe266}=_0x5d9610,_0x3d412e=await this['menuEntity'][_0x1e2252(0x226)]({'id':_0x4eade9},{'isShow':!_0x2fe266});return _0x3d412e[_0x1e2252(0x216)]>0x0;}async['setMenu'](_0x4e10f2){const _0x37b912=_0x32f609,{id:_0xb147c4}=_0x4e10f2;_0x4e10f2['isSystem']?_0x4e10f2[_0x37b912(0x210)]='':_0x4e10f2[_0x37b912(0x21a)]='';delete _0x4e10f2['isSystem'];try{if(_0xb147c4){const _0xdcae7d=await this[_0x37b912(0x227)]['update']({'id':_0xb147c4},_0x4e10f2);return _0xdcae7d[_0x37b912(0x216)]>0x0;}else{const _0x38a7ef=await this[_0x37b912(0x227)][_0x37b912(0x209)](_0x4e10f2);return _0x38a7ef;}}catch(_0x20aa98){throw new common_1['HttpException'](_0x37b912(0x214),common_1['HttpStatus'][_0x37b912(0x20f)]);}}async[_0x32f609(0x213)](_0x360372){const _0x1b60b7=_0x32f609,{id:_0x4bc728}=_0x360372;if(!_0x4bc728)throw new common_1[(_0x1b60b7(0x228))]('缺失必要参数!',common_1['HttpStatus'][_0x1b60b7(0x20f)]);const _0x100f92=await this[_0x1b60b7(0x227)][_0x1b60b7(0x221)]({'id':_0x4bc728});return _0x100f92;}async[_0x32f609(0x22c)](_0x3111ec){const _0x24eeb4=_0x32f609,{id:_0x55b81d,menuIcon:_0x3cc781,menuTipText:_0x4235e9,order:_0x1abe24}=_0x3111ec;if(!_0x55b81d||!_0x3cc781||!_0x4235e9||!_0x1abe24)throw new common_1[(_0x24eeb4(0x228))]('缺失必要参数!',common_1[_0x24eeb4(0x200)][_0x24eeb4(0x20f)]);const _0x3c9448=await this[_0x24eeb4(0x227)]['update']({'id':_0x55b81d},{'menuIcon':_0x3cc781,'menuTipText':_0x4235e9,'order':_0x1abe24});return _0x3c9448[_0x24eeb4(0x216)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x32f609(0x22d)])(),__param(0x0,(0x0,typeorm_1[_0x32f609(0x218)])(menu_entity_1['MenuEntity'])),__metadata(_0x32f609(0x21c),[typeorm_2[_0x32f609(0x21b)]])],MenuService),exports[_0x32f609(0x207)]=MenuService;