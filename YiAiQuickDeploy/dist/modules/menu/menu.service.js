'use strict';const _0x347002=_0x606d;(function(_0x53ae0c,_0x2b4257){const _0x5ba36b=_0x606d,_0x3ca246=_0x53ae0c();while(!![]){try{const _0x44781c=-parseInt(_0x5ba36b(0x193))/0x1+-parseInt(_0x5ba36b(0x173))/0x2*(parseInt(_0x5ba36b(0x18f))/0x3)+-parseInt(_0x5ba36b(0x167))/0x4+-parseInt(_0x5ba36b(0x18e))/0x5*(-parseInt(_0x5ba36b(0x16c))/0x6)+-parseInt(_0x5ba36b(0x163))/0x7*(parseInt(_0x5ba36b(0x196))/0x8)+parseInt(_0x5ba36b(0x187))/0x9*(parseInt(_0x5ba36b(0x181))/0xa)+parseInt(_0x5ba36b(0x171))/0xb;if(_0x44781c===_0x2b4257)break;else _0x3ca246['push'](_0x3ca246['shift']());}catch(_0x57b5a5){_0x3ca246['push'](_0x3ca246['shift']());}}}(_0x4bc4,0x44646));function _0x606d(_0x5cd3c8,_0x104510){const _0x4bc451=_0x4bc4();return _0x606d=function(_0x606d9,_0x20f1a1){_0x606d9=_0x606d9-0x158;let _0x54ab52=_0x4bc451[_0x606d9];return _0x54ab52;},_0x606d(_0x5cd3c8,_0x104510);}var __decorate=this&&this[_0x347002(0x19e)]||function(_0x91b43,_0x19375f,_0x66cb5b,_0x1a2d34){const _0xa4cc7e=_0x347002;var _0x75c1f1=arguments[_0xa4cc7e(0x198)],_0x3ab233=_0x75c1f1<0x3?_0x19375f:_0x1a2d34===null?_0x1a2d34=Object['getOwnPropertyDescriptor'](_0x19375f,_0x66cb5b):_0x1a2d34,_0x457cb3;if(typeof Reflect==='object'&&typeof Reflect[_0xa4cc7e(0x188)]==='function')_0x3ab233=Reflect[_0xa4cc7e(0x188)](_0x91b43,_0x19375f,_0x66cb5b,_0x1a2d34);else{for(var _0x3ce2b6=_0x91b43[_0xa4cc7e(0x198)]-0x1;_0x3ce2b6>=0x0;_0x3ce2b6--)if(_0x457cb3=_0x91b43[_0x3ce2b6])_0x3ab233=(_0x75c1f1<0x3?_0x457cb3(_0x3ab233):_0x75c1f1>0x3?_0x457cb3(_0x19375f,_0x66cb5b,_0x3ab233):_0x457cb3(_0x19375f,_0x66cb5b))||_0x3ab233;}return _0x75c1f1>0x3&&_0x3ab233&&Object[_0xa4cc7e(0x166)](_0x19375f,_0x66cb5b,_0x3ab233),_0x3ab233;},__metadata=this&&this['__metadata']||function(_0x3acef8,_0xca4349){const _0x22ded6=_0x347002;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x22ded6(0x19c))return Reflect[_0x22ded6(0x17e)](_0x3acef8,_0xca4349);},__param=this&&this['__param']||function(_0x47add7,_0x38aec2){return function(_0x5adc7d,_0x49c612){_0x38aec2(_0x5adc7d,_0x49c612,_0x47add7);};};function _0x4bc4(){const _0x481780=['/draw','/app-store','8YrMZJX','Mind','length','uiw:share','MenuService','icon-park-outline:mindmap-map','function','HttpStatus','__decorate','Draw','ant-design:appstore-outlined','思维导图','count','专业绘画','AppStore','BAD_REQUEST','Chat','ASC','/pay','@nestjs/common','update','推广计划','eos-icons:typing','isSystem','缺失必要参数!','queryMenu','UserCenter','2484685UDPlKM','@nestjs/typeorm','对话聊天','defineProperty','1684828BsDGLd','HttpException','/mind','操作菜单失败!','InjectRepository','6108dlULRV','delete','icon-park-outline:shopping','/share','Repository','12020668PhhZsO','visibleMenu','2LTvkDW','个人中心','save','Share','typeorm','affected','menuPlatform','ri:account-pin-box-line','onModuleInit','/user-center','menuEntity','metadata','绘画广场','menuIframeUrl','230QlKikG','./menu.entity','ri:landscape-line','Midjourney','initMenu','/midjourney','87417YUNtWE','decorate','delMenu','应用广场','findOne','find','基础绘画','205tRolvE','422274OXovFa','__esModule','/market','design:paramtypes','160871bwssSv'];_0x4bc4=function(){return _0x481780;};return _0x4bc4();}Object[_0x347002(0x166)](exports,_0x347002(0x190),{'value':!![]}),exports[_0x347002(0x19a)]=void 0x0;const common_1=require(_0x347002(0x15b)),typeorm_1=require(_0x347002(0x164)),typeorm_2=require(_0x347002(0x177)),menu_entity_1=require(_0x347002(0x182));let MenuService=class MenuService{constructor(_0x3c769b){const _0x3dc38a=_0x347002;this[_0x3dc38a(0x17d)]=_0x3c769b;}async[_0x347002(0x17b)](){const _0x1c90b9=_0x347002;await this[_0x1c90b9(0x185)]();}async[_0x347002(0x185)](){const _0x8e3ea3=_0x347002,_0xa79bc3=await this[_0x8e3ea3(0x17d)][_0x8e3ea3(0x1a2)]();if(_0xa79bc3>0x0)return;const _0xe8531d=[{'menuTipText':_0x8e3ea3(0x165),'menuIcon':_0x8e3ea3(0x15e),'menuName':_0x8e3ea3(0x158),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x8e3ea3(0x18a),'menuIcon':_0x8e3ea3(0x1a0),'menuName':_0x8e3ea3(0x1a4),'menuPath':_0x8e3ea3(0x195),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x8e3ea3(0x1a3),'menuIcon':_0x8e3ea3(0x183),'menuName':_0x8e3ea3(0x184),'menuPath':_0x8e3ea3(0x186),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x8e3ea3(0x17f),'menuIcon':'solar:album-line-duotone','menuName':'Market','menuPath':_0x8e3ea3(0x191),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x8e3ea3(0x18d),'menuIcon':'fluent:draw-image-24-regular','menuName':_0x8e3ea3(0x19f),'menuPath':_0x8e3ea3(0x194),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x8e3ea3(0x19b),'menuName':'Mind','menuPath':_0x8e3ea3(0x169),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':_0x8e3ea3(0x16e),'menuName':'Pay','menuPath':_0x8e3ea3(0x15a),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x8e3ea3(0x15d),'menuIcon':_0x8e3ea3(0x199),'menuName':_0x8e3ea3(0x176),'menuPath':_0x8e3ea3(0x16f),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x1c376a=[{'menuTipText':_0x8e3ea3(0x165),'menuIcon':_0x8e3ea3(0x15e),'menuName':_0x8e3ea3(0x158),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x8e3ea3(0x1a0),'menuName':_0x8e3ea3(0x1a4),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x8e3ea3(0x1a3),'menuIcon':'ri:landscape-line','menuName':'Midjourney','menuPath':_0x8e3ea3(0x186),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x8e3ea3(0x1a1),'menuIcon':_0x8e3ea3(0x19b),'menuName':_0x8e3ea3(0x197),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x8e3ea3(0x174),'menuIcon':_0x8e3ea3(0x17a),'menuName':_0x8e3ea3(0x162),'menuPath':_0x8e3ea3(0x17c),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x429bb6=[..._0xe8531d,..._0x1c376a];await this['menuEntity'][_0x8e3ea3(0x175)](_0x429bb6);}async[_0x347002(0x161)](_0x59f6b1){const _0x3bb7e3=_0x347002,{menuPlatform:_0x5d39ac}=_0x59f6b1,_0x3215cf={};return _0x5d39ac&&(_0x3215cf['menuPlatform']=_0x5d39ac),await this['menuEntity'][_0x3bb7e3(0x18c)]({'where':_0x3215cf,'order':{'order':_0x3bb7e3(0x159)}});}async['menuListFront'](_0x1e0c98){const _0x3e3126=_0x347002,{menuPlatform:_0x57be51}=_0x1e0c98,_0x2df386={'isShow':!![]};return _0x57be51&&(_0x2df386[_0x3e3126(0x179)]=_0x57be51),await this[_0x3e3126(0x17d)]['find']({'where':_0x2df386,'order':{'order':_0x3e3126(0x159)}});}async[_0x347002(0x172)](_0xed6a25){const _0x5878a7=_0x347002,{id:_0x2a78e9}=_0xed6a25;if(!_0x2a78e9)return;const _0x546f75=await this[_0x5878a7(0x17d)][_0x5878a7(0x18b)]({'where':{'id':_0x2a78e9}});if(!_0x546f75)return;const {isShow:_0x215027}=_0x546f75,_0x387b9c=await this[_0x5878a7(0x17d)][_0x5878a7(0x15c)]({'id':_0x2a78e9},{'isShow':!_0x215027});return _0x387b9c['affected']>0x0;}async['setMenu'](_0x2fc209){const _0x3000b4=_0x347002,{id:_0x41643a}=_0x2fc209;_0x2fc209[_0x3000b4(0x15f)]?_0x2fc209['menuPath']='':_0x2fc209[_0x3000b4(0x180)]='';delete _0x2fc209[_0x3000b4(0x15f)];try{if(_0x41643a){const _0xf1fd9e=await this[_0x3000b4(0x17d)][_0x3000b4(0x15c)]({'id':_0x41643a},_0x2fc209);return _0xf1fd9e[_0x3000b4(0x178)]>0x0;}else{const _0x4da4ae=await this[_0x3000b4(0x17d)][_0x3000b4(0x175)](_0x2fc209);return _0x4da4ae;}}catch(_0x3ef500){throw new common_1[(_0x3000b4(0x168))](_0x3000b4(0x16a),common_1[_0x3000b4(0x19d)][_0x3000b4(0x1a5)]);}}async[_0x347002(0x189)](_0x4690c6){const _0x4461f5=_0x347002,{id:_0x1a6f4a}=_0x4690c6;if(!_0x1a6f4a)throw new common_1['HttpException'](_0x4461f5(0x160),common_1['HttpStatus'][_0x4461f5(0x1a5)]);const _0x101991=await this['menuEntity'][_0x4461f5(0x16d)]({'id':_0x1a6f4a});return _0x101991;}async['updateIcon'](_0x4f3283){const _0x1f58df=_0x347002,{id:_0xd478e9,menuIcon:_0x355b5c,menuTipText:_0x373b74,order:_0x4dbf8a}=_0x4f3283;if(!_0xd478e9||!_0x355b5c||!_0x373b74||!_0x4dbf8a)throw new common_1['HttpException'](_0x1f58df(0x160),common_1['HttpStatus'][_0x1f58df(0x1a5)]);const _0x318af5=await this[_0x1f58df(0x17d)][_0x1f58df(0x15c)]({'id':_0xd478e9},{'menuIcon':_0x355b5c,'menuTipText':_0x373b74,'order':_0x4dbf8a});return _0x318af5[_0x1f58df(0x178)]>0x0;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x347002(0x16b)])(menu_entity_1['MenuEntity'])),__metadata(_0x347002(0x192),[typeorm_2[_0x347002(0x170)]])],MenuService),exports[_0x347002(0x19a)]=MenuService;