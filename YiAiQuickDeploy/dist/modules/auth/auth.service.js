'use strict';const _0xfaf29b=_0x1064;(function(_0xc79b8f,_0x3c7bb0){const _0x4b67a4=_0x1064,_0x5d0e28=_0xc79b8f();while(!![]){try{const _0x4e2e5a=parseInt(_0x4b67a4(0x1fb))/0x1+-parseInt(_0x4b67a4(0x1f0))/0x2+parseInt(_0x4b67a4(0x1d6))/0x3+-parseInt(_0x4b67a4(0x1e0))/0x4*(parseInt(_0x4b67a4(0x234))/0x5)+parseInt(_0x4b67a4(0x23f))/0x6*(parseInt(_0x4b67a4(0x241))/0x7)+-parseInt(_0x4b67a4(0x209))/0x8*(parseInt(_0x4b67a4(0x1fe))/0x9)+parseInt(_0x4b67a4(0x245))/0xa;if(_0x4e2e5a===_0x3c7bb0)break;else _0x5d0e28['push'](_0x5d0e28['shift']());}catch(_0x472a8a){_0x5d0e28['push'](_0x5d0e28['shift']());}}}(_0x5a8a,0xbc9c0));function _0x5a8a(){const _0x488bb1=['admin','__decorate','getOwnPropertyDescriptor','saveToken','getIp',':PHONECODE:','../verification/verification.service','addBalanceToNewUser','typeorm','VerificationEnum','Registration','log','savaLoginIp','userService','code','995LkGEiZ','registerByPhone','registerSuccessEmailTeamName','../globalConfig/globalConfig.service','../globalConfig/config.entity','验证码已过期、请重新发送！','&registerFailEmailTitle=','queryUserInfoById','getClientIp','activateAccount','userId','2580rLHgEN','@nestjs/typeorm','231QTsnkZ','decorate','userDefautlAvatar','Repository','19509510odvXqm','oldPassword','updatePassByOther','sign','&email=','非法操作、请联系管理员！','RedisCacheService','getInfo','error','internal','createRandomCode','reduce',':CAPTCHA:','globalConfigService','IPv4','/api/auth/registerError?message=','验证码填写错误、请重新输入！','client','design:paramtypes','InjectRepository','padStart','createMathExpr','configEntity','verifyUserPassword','jwtService','ConfigEntity','createUser','UserService','HttpException','registerFailEmailTeamName','1941909Fipphk','text','qureyUserInfoByInviteCode','set','秒内不得重复发送短信！','user','metadata','@nestjs/common','验证码类型错误','createRandomUid','1284bpMABN','用户登录异常，请联系管理员处理','password','forEach','visitor','captcha','createUserAndVerifycation','error:\x20','object','@nine.com','redirect','HttpStatus','response','ipAddress','ACTIVE','&registerSuccessEmaileAppend=','2655414WbXlcf','login','sendPhoneCode','verifyCode','defineProperty','../../common/utils','registerSuccessEmailTitle','hashSync','JwtService','get','无权此操作、请联系管理员！','1000429CoAkYt','/api/auth/registerSuccess?id=','../userBalance/userBalance.service','13038687FlTYdm','toString','avatar','../redisCache/redisCache.service','AuthService','MailerService','verificationService','length','&registerSuccessEmailTeamName=','keys','UserBalanceService','8FEqsef','configVal','getUserStatus','密码修改成功','sendPhoneCodeWithQcloud','updateUserPassword','BAD_REQUEST','registerFailEmailTitle','userBalanceService','getNamespace','UserStatusEnum','#fff','__esModule','@nestjs/jwt','redisCacheService','registerSuccessEmaileAppend','127.0.0.1','address','verifyUserCredentials','loginByOpenId','createUser\x20error:\x20','verifyUserRegisterByPhone','GlobalConfigService','data','../../common/constants/user.constant','getUserInfo','../mailer/mailer.service','find'];_0x5a8a=function(){return _0x488bb1;};return _0x5a8a();}var __decorate=this&&this[_0xfaf29b(0x226)]||function(_0xf2715c,_0x7c1940,_0x1ce8d5,_0x2770e8){const _0x55d966=_0xfaf29b;var _0x1d3822=arguments[_0x55d966(0x205)],_0x44e9e2=_0x1d3822<0x3?_0x7c1940:_0x2770e8===null?_0x2770e8=Object[_0x55d966(0x227)](_0x7c1940,_0x1ce8d5):_0x2770e8,_0x2dcfa0;if(typeof Reflect===_0x55d966(0x1e8)&&typeof Reflect[_0x55d966(0x242)]==='function')_0x44e9e2=Reflect[_0x55d966(0x242)](_0xf2715c,_0x7c1940,_0x1ce8d5,_0x2770e8);else{for(var _0x2cc6c3=_0xf2715c['length']-0x1;_0x2cc6c3>=0x0;_0x2cc6c3--)if(_0x2dcfa0=_0xf2715c[_0x2cc6c3])_0x44e9e2=(_0x1d3822<0x3?_0x2dcfa0(_0x44e9e2):_0x1d3822>0x3?_0x2dcfa0(_0x7c1940,_0x1ce8d5,_0x44e9e2):_0x2dcfa0(_0x7c1940,_0x1ce8d5))||_0x44e9e2;}return _0x1d3822>0x3&&_0x44e9e2&&Object['defineProperty'](_0x7c1940,_0x1ce8d5,_0x44e9e2),_0x44e9e2;},__metadata=this&&this['__metadata']||function(_0x5c874e,_0x428e09){const _0x4a216a=_0xfaf29b;if(typeof Reflect==='object'&&typeof Reflect[_0x4a216a(0x1dc)]==='function')return Reflect[_0x4a216a(0x1dc)](_0x5c874e,_0x428e09);},__param=this&&this['__param']||function(_0x2ed33d,_0x51c537){return function(_0x2a358c,_0x3905a1){_0x51c537(_0x2a358c,_0x3905a1,_0x2ed33d);};};Object[_0xfaf29b(0x1f4)](exports,_0xfaf29b(0x215),{'value':!![]}),exports[_0xfaf29b(0x202)]=void 0x0;const globalConfig_service_1=require(_0xfaf29b(0x237)),verification_constant_1=require('../../common/constants/verification.constant'),verification_service_1=require(_0xfaf29b(0x22b)),common_1=require(_0xfaf29b(0x1dd)),jwt_1=require(_0xfaf29b(0x216)),user_service_1=require('../user/user.service'),mailer_service_1=require(_0xfaf29b(0x223)),user_constant_1=require(_0xfaf29b(0x221)),userBalance_service_1=require(_0xfaf29b(0x1fd)),config_entity_1=require(_0xfaf29b(0x238)),typeorm_1=require(_0xfaf29b(0x22d)),typeorm_2=require(_0xfaf29b(0x240)),utils_1=require(_0xfaf29b(0x1f5)),os=require('os'),redisCache_service_1=require(_0xfaf29b(0x201)),svgCaptcha=require('svg-captcha'),bcrypt=require('bcryptjs');function _0x1064(_0x52e2d2,_0x4cb2a4){const _0x5a8a7b=_0x5a8a();return _0x1064=function(_0x10641a,_0x2e04a3){_0x10641a=_0x10641a-0x1be;let _0x2f4d4b=_0x5a8a7b[_0x10641a];return _0x2f4d4b;},_0x1064(_0x52e2d2,_0x4cb2a4);}let AuthService=class AuthService{constructor(_0x45880f,_0x1ba6e3,_0x289263,_0xc2bcb8,_0x20e2d6,_0x235b13,_0xf8bee9,_0xad0405){const _0x377f14=_0xfaf29b;this['configEntity']=_0x45880f,this[_0x377f14(0x232)]=_0x1ba6e3,this['jwtService']=_0x289263,this['mailerService']=_0xc2bcb8,this['verificationService']=_0x20e2d6,this[_0x377f14(0x211)]=_0x235b13,this[_0x377f14(0x217)]=_0xf8bee9,this[_0x377f14(0x1c5)]=_0xad0405;}async['onModuleInit'](){this['getIp']();}async['register'](_0x1018a8,_0x97a231){const _0xda05fd=_0xfaf29b;await this['verificationService']['verifyCaptcha'](_0x1018a8);const _0x76bf41=await this[_0xda05fd(0x232)][_0xda05fd(0x1e6)](_0x1018a8,_0x97a231),{username:_0x459b4f,email:_0x424657,client:_0x3c1733,id:_0x5d443b}=_0x76bf41,_0x49e34b={'username':_0x459b4f,'email':_0x424657,'id':_0x5d443b};return _0x3c1733&&(_0x49e34b[_0xda05fd(0x1c9)]=_0x3c1733),_0x49e34b;}async[_0xfaf29b(0x235)](_0x2cebb2,_0x3dfe30){const _0x4db790=_0xfaf29b,{username:_0x1c91ec,password:_0x20c1a3,phone:_0x3c516e,phoneCode:_0x1184b7,invitedBy:_0x472997}=_0x2cebb2;await this['userService'][_0x4db790(0x21e)](_0x2cebb2);const _0x50f5be=await this[_0x4db790(0x1c5)]['getNamespace'](),_0x22e9ba=_0x50f5be+':PHONECODE:'+_0x3c516e,_0x1ed0ca=await this[_0x4db790(0x217)][_0x4db790(0x1f9)]({'key':_0x22e9ba});if(!_0x1ed0ca)throw new common_1[(_0x4db790(0x1d4))](_0x4db790(0x239),common_1[_0x4db790(0x1eb)][_0x4db790(0x20f)]);if(_0x1184b7!==_0x1ed0ca)throw new common_1[(_0x4db790(0x1d4))](_0x4db790(0x1c8),common_1[_0x4db790(0x1eb)]['BAD_REQUEST']);const _0x9f6580=(0x0,utils_1[_0x4db790(0x1df)])()+_0x4db790(0x1e9),_0x2e690e={'username':_0x1c91ec,'password':_0x20c1a3,'phone':_0x3c516e,'invitedBy':_0x472997,'email':_0x9f6580,'status':user_constant_1[_0x4db790(0x213)]['ACTIVE']},_0x1d5961=await this[_0x4db790(0x1c5)]['getConfigs'](['userDefautlAvatar']);_0x2e690e[_0x4db790(0x200)]=_0x1d5961;const _0x2796e8=bcrypt[_0x4db790(0x1f7)](_0x20c1a3,0xa);_0x2e690e[_0x4db790(0x1e2)]=_0x2796e8;const _0x4709d1=await this[_0x4db790(0x232)][_0x4db790(0x1d2)](_0x2e690e);let _0x5e4eef;_0x472997&&(_0x5e4eef=await this[_0x4db790(0x232)][_0x4db790(0x1d8)](_0x472997));await this[_0x4db790(0x211)][_0x4db790(0x22c)](_0x4709d1['id'],_0x5e4eef===null||_0x5e4eef===void 0x0?void 0x0:_0x5e4eef['id']);return;}async[_0xfaf29b(0x1f1)](_0x27211e,_0x5c1fd5){const _0x45e8fd=_0xfaf29b,_0x4c260c=await this[_0x45e8fd(0x232)][_0x45e8fd(0x21b)](_0x27211e),{username:_0xf7e1b1,id:_0x33c80a,email:_0x1f34f7,role:_0x16a471,openId:_0xa3adc7,client:_0x1cf6c7}=_0x4c260c,_0xf04021=(0x0,utils_1[_0x45e8fd(0x23c)])(_0x5c1fd5);await this[_0x45e8fd(0x232)][_0x45e8fd(0x231)](_0x33c80a,_0xf04021);const _0x1a237b=await this[_0x45e8fd(0x1d0)][_0x45e8fd(0x248)]({'username':_0xf7e1b1,'id':_0x33c80a,'email':_0x1f34f7,'role':_0x16a471,'openId':_0xa3adc7,'client':_0x1cf6c7});return await this[_0x45e8fd(0x217)][_0x45e8fd(0x228)](_0x33c80a,_0x1a237b),_0x1a237b;}async['loginByPhone'](_0x162dde,_0x493986){const _0x41f8de=_0xfaf29b,_0x1972a5=await this[_0x41f8de(0x232)][_0x41f8de(0x21b)](_0x162dde),{username:_0x7aba27,id:_0x212ffa,email:_0x42aed8,role:_0x361c9a,openId:_0x575d77,client:_0x46778a}=_0x1972a5,_0xef1e41=(0x0,utils_1[_0x41f8de(0x23c)])(_0x493986);await this[_0x41f8de(0x232)][_0x41f8de(0x231)](_0x212ffa,_0xef1e41);const {phone:_0x6eba6c}=_0x162dde,_0x4af0ca=await this[_0x41f8de(0x1d0)][_0x41f8de(0x248)]({'username':_0x7aba27,'id':_0x212ffa,'email':_0x42aed8,'role':_0x361c9a,'openId':_0x575d77,'client':_0x46778a,'phone':_0x6eba6c});return await this['redisCacheService'][_0x41f8de(0x228)](_0x212ffa,_0x4af0ca),_0x4af0ca;}async['loginOrRegisterByPhone'](_0x41e0af,_0x197de4){const _0x5c4e86=_0xfaf29b,{phone:_0x6bb248,code:_0x1bc2de}=_0x41e0af,_0x3f88c2=await this[_0x5c4e86(0x1c5)][_0x5c4e86(0x212)](),_0xcda59f=_0x3f88c2+':PHONECODE:'+_0x6bb248,_0x1e2a77=await this['redisCacheService']['get']({'key':_0xcda59f});if(!_0x1e2a77)throw new common_1[(_0x5c4e86(0x1d4))]('验证码已过期、请重新发送！',common_1[_0x5c4e86(0x1eb)]['BAD_REQUEST']);if(_0x1bc2de!==_0x1e2a77)throw new common_1[(_0x5c4e86(0x1d4))](_0x5c4e86(0x1c8),common_1['HttpStatus'][_0x5c4e86(0x20f)]);try{let _0x452432=await this[_0x5c4e86(0x232)]['queryUserInfoByPhone'](_0x6bb248);if(!_0x452432){const _0x220d6c='',_0x41edf8={'username':'游客小C','phone':_0x6bb248,'email':_0x220d6c,'status':user_constant_1[_0x5c4e86(0x213)]['ACTIVE']},_0x4db5e1=await this[_0x5c4e86(0x1c5)]['getConfigs']([_0x5c4e86(0x243)]);_0x41edf8[_0x5c4e86(0x200)]=_0x4db5e1,_0x452432=await this['userService'][_0x5c4e86(0x1d2)](_0x41edf8);}console[_0x5c4e86(0x230)](_0x5c4e86(0x1db),_0x452432);const {username:_0x295441,id:_0x177499,email:_0x44ade5,role:_0x50a76a,openId:_0xf3924d,client:_0x4488f8}=_0x452432,_0x1d2881=(0x0,utils_1[_0x5c4e86(0x23c)])(_0x197de4);await this[_0x5c4e86(0x232)]['savaLoginIp'](_0x177499,_0x1d2881);const _0x367961=await this['jwtService'][_0x5c4e86(0x248)]({'username':_0x295441,'id':_0x177499,'email':_0x44ade5,'role':_0x50a76a,'openId':_0xf3924d,'client':_0x4488f8,'phone':_0x6bb248});return await this[_0x5c4e86(0x217)][_0x5c4e86(0x228)](_0x177499,_0x367961),_0x367961;}catch(_0x352eb6){console[_0x5c4e86(0x1c0)](_0x5c4e86(0x21d),_0x352eb6);throw new common_1[(_0x5c4e86(0x1d4))](_0x5c4e86(0x1e1),0x1f4);}}async[_0xfaf29b(0x21c)](_0x389bcb,_0x5f41ed){const _0x1e978d=_0xfaf29b,{status:_0x26acbc}=_0x389bcb;if(_0x26acbc!==user_constant_1[_0x1e978d(0x213)][_0x1e978d(0x1ee)])throw new common_1['HttpException'](user_constant_1['UserStatusErrMsg'][_0x26acbc],common_1[_0x1e978d(0x1eb)][_0x1e978d(0x20f)]);const {username:_0x21a6bf,id:_0x58b2a0,email:_0x530466,role:_0x1b042c,openId:_0x47bb5c,client:_0xc9d45f}=_0x389bcb,_0x56d50d=(0x0,utils_1[_0x1e978d(0x23c)])(_0x5f41ed);await this[_0x1e978d(0x232)][_0x1e978d(0x231)](_0x58b2a0,_0x56d50d);const _0x59014b=await this[_0x1e978d(0x1d0)]['sign']({'username':_0x21a6bf,'id':_0x58b2a0,'email':_0x530466,'role':_0x1b042c,'openId':_0x47bb5c,'client':_0xc9d45f});return await this[_0x1e978d(0x217)][_0x1e978d(0x228)](_0x58b2a0,_0x59014b),_0x59014b;}async[_0xfaf29b(0x1bf)](_0x450e7d){const _0x3a668b=_0xfaf29b,{id:_0x29ebd8}=_0x450e7d[_0x3a668b(0x1db)];return await this['userService'][_0x3a668b(0x222)](_0x29ebd8);}async[_0xfaf29b(0x23d)](_0x51780b,_0x3c9d24){const _0x318ed4=_0xfaf29b,_0x1200b7=await this[_0x318ed4(0x1ce)][_0x318ed4(0x224)]({'where':{'configKey':(0x0,typeorm_1['In'])([_0x318ed4(0x1f6),_0x318ed4(0x236),_0x318ed4(0x218),_0x318ed4(0x210),'registerFailEmailTeamName'])}}),_0x1a22d0=_0x1200b7[_0x318ed4(0x1c3)]((_0x390acb,_0x62f511)=>{const _0xf7a307=_0x318ed4;return _0x390acb[_0x62f511['configKey']]=_0x62f511[_0xf7a307(0x20a)],_0x390acb;},{});try{const _0x1a05c3=await this[_0x318ed4(0x204)][_0x318ed4(0x1f3)](_0x51780b,verification_constant_1[_0x318ed4(0x22e)][_0x318ed4(0x22f)]),{type:_0x368de3,userId:_0x452f1e}=_0x1a05c3;if(_0x368de3!==verification_constant_1['VerificationEnum'][_0x318ed4(0x22f)])throw new common_1['HttpException'](_0x318ed4(0x1de),common_1[_0x318ed4(0x1eb)][_0x318ed4(0x20f)]);const _0x3bca58=await this[_0x318ed4(0x232)][_0x318ed4(0x20b)](_0x452f1e);if(_0x3bca58===user_constant_1[_0x318ed4(0x213)]['ACTIVE'])throw new common_1[(_0x318ed4(0x1d4))]('账户已被激活过',common_1[_0x318ed4(0x1eb)][_0x318ed4(0x20f)]);await this[_0x318ed4(0x232)]['updateUserStatus'](_0x1a05c3[_0x318ed4(0x23e)],user_constant_1[_0x318ed4(0x213)][_0x318ed4(0x1ee)]);const _0x49928b=await this['userService'][_0x318ed4(0x23b)](_0x1a05c3['userId']),{username:_0x56df74,email:_0x173b67,id:_0x47634d,invitedBy:_0x5b23d5}=_0x49928b;let _0x5630b5;_0x5b23d5&&(_0x5630b5=await this['userService'][_0x318ed4(0x1d8)](_0x5b23d5)),await this[_0x318ed4(0x211)][_0x318ed4(0x22c)](_0x47634d,_0x5630b5===null||_0x5630b5===void 0x0?void 0x0:_0x5630b5['id']),_0x3c9d24[_0x318ed4(0x1ea)](_0x318ed4(0x1fc)+_0x47634d[_0x318ed4(0x1ff)]()[_0x318ed4(0x1cc)](0x4,'0')+'&username='+_0x56df74+_0x318ed4(0x249)+_0x173b67+'&registerSuccessEmailTitle='+_0x1a22d0[_0x318ed4(0x1f6)]+_0x318ed4(0x206)+_0x1a22d0[_0x318ed4(0x236)]+_0x318ed4(0x1ef)+_0x1a22d0['registerSuccessEmaileAppend']);}catch(_0x183526){console[_0x318ed4(0x230)](_0x318ed4(0x1e7),_0x183526);const _0x3b6252=_0x183526[_0x318ed4(0x1ec)];_0x3c9d24[_0x318ed4(0x1ea)](_0x318ed4(0x1c7)+_0x3b6252+_0x318ed4(0x23a)+_0x1a22d0[_0x318ed4(0x210)]+'&registerFailEmailTeamName='+_0x1a22d0[_0x318ed4(0x1d5)]);}}async['updatePassword'](_0x5087a7,_0x5e2a1d){const _0x12b539=_0xfaf29b,{id:_0xfccc9d,client:_0x30cb5c,role:_0x267bd5}=_0x5087a7[_0x12b539(0x1db)];if(_0x30cb5c&&Number(_0x30cb5c)>0x0)throw new common_1['HttpException'](_0x12b539(0x1fa),common_1['HttpStatus'][_0x12b539(0x20f)]);if(_0x267bd5===_0x12b539(0x225))throw new common_1[(_0x12b539(0x1d4))](_0x12b539(0x24a),common_1['HttpStatus'][_0x12b539(0x20f)]);const _0xb5c1bd=await this[_0x12b539(0x232)][_0x12b539(0x1cf)](_0xfccc9d,_0x5e2a1d[_0x12b539(0x246)]);if(!_0xb5c1bd)throw new common_1['HttpException']('旧密码错误、请检查提交',common_1[_0x12b539(0x1eb)][_0x12b539(0x20f)]);return this[_0x12b539(0x232)][_0x12b539(0x20e)](_0xfccc9d,_0x5e2a1d[_0x12b539(0x1e2)]),_0x12b539(0x20c);}async[_0xfaf29b(0x247)](_0x5ac22d,_0x4de061){const _0x122f9d=_0xfaf29b,{id:_0x49668a,client:_0x1a160f}=_0x5ac22d[_0x122f9d(0x1db)];if(!_0x1a160f)throw new common_1[(_0x122f9d(0x1d4))]('无权此操作！',common_1[_0x122f9d(0x1eb)]['BAD_REQUEST']);return this[_0x122f9d(0x232)][_0x122f9d(0x20e)](_0x49668a,_0x4de061['password']),_0x122f9d(0x20c);}[_0xfaf29b(0x229)](){const _0x25da6e=_0xfaf29b;let _0x17f9de;const _0xdd66a5=os['networkInterfaces']();Object[_0x25da6e(0x207)](_0xdd66a5)[_0x25da6e(0x1e3)](_0x15e5ec=>{const _0x26856a=_0x25da6e,_0x4b9419=_0xdd66a5[_0x15e5ec];for(let _0x2deee5=0x0;_0x2deee5<_0x4b9419[_0x26856a(0x205)];_0x2deee5++){const _0x167fbe=_0x4b9419[_0x2deee5];if(_0x167fbe['family']===_0x26856a(0x1c6)&&_0x167fbe[_0x26856a(0x21a)]!==_0x26856a(0x219)&&!_0x167fbe[_0x26856a(0x1c1)]){_0x17f9de=_0x167fbe[_0x26856a(0x21a)];break;}}}),this[_0x25da6e(0x1ed)]=_0x17f9de;}async[_0xfaf29b(0x1e5)](_0x57e966){const _0x60cfc5=_0xfaf29b,_0x5b4037=await this[_0x60cfc5(0x1c5)]['getNamespace'](),{color:color=_0x60cfc5(0x214)}=_0x57e966,_0x4c561e=svgCaptcha[_0x60cfc5(0x1cd)]({'background':color,'height':0x22,'width':0x78,'noise':0x3}),_0x2bf97a=_0x4c561e[_0x60cfc5(0x1d7)],_0x276185=(0x0,utils_1['createRandomUid'])(),_0x589164=_0x5b4037+_0x60cfc5(0x1c4)+_0x276185;return await this[_0x60cfc5(0x217)][_0x60cfc5(0x1d9)]({'key':_0x589164,'val':_0x4c561e[_0x60cfc5(0x1d7)]},0x5*0x3c),{'svgCode':_0x4c561e[_0x60cfc5(0x220)],'code':_0x276185};}async[_0xfaf29b(0x1f2)](_0x1e78e0){const _0x380e40=_0xfaf29b,{phone:_0x187b75}=_0x1e78e0,_0x1e5a86=await this[_0x380e40(0x1c5)][_0x380e40(0x212)](),_0x4bfe96=_0x1e5a86+_0x380e40(0x22a)+_0x187b75,_0x2eaea3=await this['redisCacheService']['ttl'](_0x4bfe96);if(_0x2eaea3&&_0x2eaea3>0x0)throw new common_1['HttpException'](_0x2eaea3+_0x380e40(0x1da),common_1['HttpStatus']['BAD_REQUEST']);const _0x367140=(0x0,utils_1[_0x380e40(0x1c2)])();console['log'](_0x380e40(0x233),_0x367140);const _0x597685={'phone':_0x187b75,'code':_0x367140};return await this[_0x380e40(0x204)][_0x380e40(0x20d)](_0x597685),await this['redisCacheService'][_0x380e40(0x1d9)]({'key':_0x4bfe96,'val':_0x367140},0x1*0x3c),'验证码发送成功、请填写验证码完成注册！';}['createTokenFromFingerprint'](_0x56f90d){const _0x50ad54=_0xfaf29b,_0x32bde9=this['jwtService']['sign']({'username':'游客'+_0x56f90d,'id':_0x56f90d,'email':_0x56f90d+_0x50ad54(0x1e9),'role':_0x50ad54(0x1e4),'openId':null,'client':null});return _0x32bde9;}};AuthService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_2[_0xfaf29b(0x1cb)])(config_entity_1[_0xfaf29b(0x1d1)])),__metadata(_0xfaf29b(0x1ca),[typeorm_1[_0xfaf29b(0x244)],user_service_1[_0xfaf29b(0x1d3)],jwt_1[_0xfaf29b(0x1f8)],mailer_service_1[_0xfaf29b(0x203)],verification_service_1['VerificationService'],userBalance_service_1[_0xfaf29b(0x208)],redisCache_service_1[_0xfaf29b(0x1be)],globalConfig_service_1[_0xfaf29b(0x21f)]])],AuthService),exports[_0xfaf29b(0x202)]=AuthService;