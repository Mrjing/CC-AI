'use strict';const _0x5ae80d=_0x232b;(function(_0x99b1aa,_0x268427){const _0x588983=_0x232b,_0x36203d=_0x99b1aa();while(!![]){try{const _0x1fbfd1=parseInt(_0x588983(0x209))/0x1*(parseInt(_0x588983(0x1c7))/0x2)+parseInt(_0x588983(0x1de))/0x3*(parseInt(_0x588983(0x1c2))/0x4)+-parseInt(_0x588983(0x1f3))/0x5+parseInt(_0x588983(0x1d2))/0x6+-parseInt(_0x588983(0x1fb))/0x7*(parseInt(_0x588983(0x1ea))/0x8)+-parseInt(_0x588983(0x1dd))/0x9*(-parseInt(_0x588983(0x1cb))/0xa)+parseInt(_0x588983(0x1d5))/0xb*(parseInt(_0x588983(0x1d9))/0xc);if(_0x1fbfd1===_0x268427)break;else _0x36203d['push'](_0x36203d['shift']());}catch(_0x2433ea){_0x36203d['push'](_0x36203d['shift']());}}}(_0xa601,0x6c9aa));var __decorate=this&&this[_0x5ae80d(0x1ff)]||function(_0x5d4427,_0x16b3ab,_0x1362c1,_0x4b1d1b){const _0x11866d=_0x5ae80d;var _0x519c62=arguments[_0x11866d(0x1d4)],_0x4e6fab=_0x519c62<0x3?_0x16b3ab:_0x4b1d1b===null?_0x4b1d1b=Object[_0x11866d(0x1e8)](_0x16b3ab,_0x1362c1):_0x4b1d1b,_0xad0b86;if(typeof Reflect===_0x11866d(0x1e0)&&typeof Reflect[_0x11866d(0x1fc)]==='function')_0x4e6fab=Reflect[_0x11866d(0x1fc)](_0x5d4427,_0x16b3ab,_0x1362c1,_0x4b1d1b);else{for(var _0x2e2949=_0x5d4427[_0x11866d(0x1d4)]-0x1;_0x2e2949>=0x0;_0x2e2949--)if(_0xad0b86=_0x5d4427[_0x2e2949])_0x4e6fab=(_0x519c62<0x3?_0xad0b86(_0x4e6fab):_0x519c62>0x3?_0xad0b86(_0x16b3ab,_0x1362c1,_0x4e6fab):_0xad0b86(_0x16b3ab,_0x1362c1))||_0x4e6fab;}return _0x519c62>0x3&&_0x4e6fab&&Object[_0x11866d(0x1fd)](_0x16b3ab,_0x1362c1,_0x4e6fab),_0x4e6fab;},__metadata=this&&this['__metadata']||function(_0x352396,_0x469a70){const _0x2dbedc=_0x5ae80d;if(typeof Reflect===_0x2dbedc(0x1e0)&&typeof Reflect[_0x2dbedc(0x1f2)]===_0x2dbedc(0x200))return Reflect[_0x2dbedc(0x1f2)](_0x352396,_0x469a70);},__param=this&&this['__param']||function(_0x4041eb,_0x2daf13){return function(_0x43ba8e,_0x1f7b4f){_0x2daf13(_0x43ba8e,_0x1f7b4f,_0x4041eb);};};Object[_0x5ae80d(0x1fd)](exports,_0x5ae80d(0x1d0),{'value':!![]}),exports['AuthController']=void 0x0;const verifyCode_dto_1=require(_0x5ae80d(0x1da)),authLogin_dto_1=require(_0x5ae80d(0x1c9)),common_1=require('@nestjs/common'),jwtAuth_guard_1=require('../../common/auth/jwtAuth.guard'),auth_service_1=require(_0x5ae80d(0x1ed)),swagger_1=require(_0x5ae80d(0x208)),authRegister_dto_1=require('./dto/authRegister.dto'),updatePassword_dto_1=require(_0x5ae80d(0x1e3)),updatePassByOther_dto_1=require('./dto/updatePassByOther.dto'),sendPhoneCode_dto_1=require('./dto/sendPhoneCode.dto'),userRegisterByPhone_dto_1=require(_0x5ae80d(0x1d3)),loginByPhone_dt_1=require(_0x5ae80d(0x1f9)),loginByPhoneCode_dto_1=require(_0x5ae80d(0x1e5));function _0xa601(){const _0x2190f9=['Res','UserRegisterDto','@nestjs/swagger','3rYHkvP','Req','loginByPhone','ApiBearerAuth','loginOrRegisterByPhone','4nqsmIV','Controller','Render','auth','loginByPhoneCode','57162vbnPtc','updatePassByOther','./dto/authLogin.dto','Post','140XuWGqw','register','authService','design:returntype','design:type','__esModule','design:paramtypes','5036256PEnxkl','./dto/userRegisterByPhone.dto','length','11tPzvox','JwtAuthGuard','LoginByPhoneCodeDto','UpdatePassByOtherDto','10565796bmCUnT','../verification/dto/verifyCode.dto','registerByPhone','用户手机号登录','156186GkkLaJ','22623Zmaoob','SendPhoneCodeDto','object','ApiOperation','Get','./dto/updatePassword.dto','registerError','./dto/loginByPhoneCode.dto','用户手机号验证码登录','sendPhoneCode','getOwnPropertyDescriptor','login','272NaLMEd','captcha','registerSuccess','./auth.service','updatePassword','AuthController','账户激活','VerifyCodeDto','metadata','4251855dTtXVi','注册失败页面','用户登录','用户更改密码','ApiTags','Body','./dto/loginByPhone.dt','activateAccount','156653IdDojq','decorate','defineProperty','getInfo','__decorate','function','获取一个图形验证码','prototype','Query','UseGuards','获取用户个人信息'];_0xa601=function(){return _0x2190f9;};return _0xa601();}function _0x232b(_0x36088e,_0x299016){const _0xa6013c=_0xa601();return _0x232b=function(_0x232b1c,_0x33e233){_0x232b1c=_0x232b1c-0x1be;let _0xc957c4=_0xa6013c[_0x232b1c];return _0xc957c4;},_0x232b(_0x36088e,_0x299016);}let AuthController=class AuthController{constructor(_0x443b51){const _0x2a6388=_0x5ae80d;this[_0x2a6388(0x1cd)]=_0x443b51;}async[_0x5ae80d(0x1cc)](_0x3969d4,_0x1c99a0){const _0x2e25d8=_0x5ae80d;return await this[_0x2e25d8(0x1cd)][_0x2e25d8(0x1cc)](_0x3969d4,_0x1c99a0);}async[_0x5ae80d(0x1db)](_0x5882b9,_0x5ec77d){const _0x46a7b6=_0x5ae80d;return await this[_0x46a7b6(0x1cd)]['registerByPhone'](_0x5882b9,_0x5ec77d);}async['login'](_0x190b70,_0x342a16){const _0x65c1a2=_0x5ae80d;return this[_0x65c1a2(0x1cd)][_0x65c1a2(0x1e9)](_0x190b70,_0x342a16);}async[_0x5ae80d(0x1bf)](_0xa91331,_0x255aa9){const _0x24e095=_0x5ae80d;return this['authService'][_0x24e095(0x1bf)](_0xa91331,_0x255aa9);}async['loginByPhoneCode'](_0x4ccd50,_0x308610){const _0x4c1518=_0x5ae80d;return this[_0x4c1518(0x1cd)][_0x4c1518(0x1c1)](_0x4ccd50,_0x308610);}async[_0x5ae80d(0x1ee)](_0x39a53e,_0x120854){const _0x224e26=_0x5ae80d;return this['authService'][_0x224e26(0x1ee)](_0x39a53e,_0x120854);}async[_0x5ae80d(0x1c8)](_0x24f4eb,_0x4b9809){const _0x199380=_0x5ae80d;return this[_0x199380(0x1cd)][_0x199380(0x1c8)](_0x24f4eb,_0x4b9809);}async[_0x5ae80d(0x1fe)](_0x1a8c99){const _0x5056af=_0x5ae80d;return this[_0x5056af(0x1cd)][_0x5056af(0x1fe)](_0x1a8c99);}async[_0x5ae80d(0x1fa)](_0x10f1ad,_0x4b8b29){const _0x5ad9cc=_0x5ae80d;return this[_0x5ad9cc(0x1cd)]['activateAccount'](_0x10f1ad,_0x4b8b29);}async[_0x5ae80d(0x1ec)](_0x4a9132){const {username:_0x1e7da2,id:_0x682f33,email:_0x3dd242,teamName:_0x2a3a97,registerSuccessEmailTitle:_0x34c703,registerSuccessEmailTeamName:_0x23ae9c,registerSuccessEmaileAppend:_0x26bd17}=_0x4a9132;return{'username':_0x1e7da2,'id':_0x682f33,'email':_0x3dd242,'teamName':_0x2a3a97,'registerSuccessEmailTitle':_0x34c703,'registerSuccessEmailTeamName':_0x23ae9c,'registerSuccessEmaileAppend':_0x26bd17};}async['registerError'](_0x4fea59){const {message:_0x540033,teamName:_0x32dfad,registerFailEmailTitle:_0x35936d,registerFailEmailTeamName:_0x2460c0}=_0x4fea59;return{'message':_0x540033,'teamName':_0x32dfad,'registerFailEmailTitle':_0x35936d,'registerFailEmailTeamName':_0x2460c0};}async[_0x5ae80d(0x1eb)](_0xd58b26){const _0x7d3d6e=_0x5ae80d;return this[_0x7d3d6e(0x1cd)][_0x7d3d6e(0x1eb)](_0xd58b26);}async[_0x5ae80d(0x1e7)](_0x38fedd){const _0x46f821=_0x5ae80d;return this['authService'][_0x46f821(0x1e7)](_0x38fedd);}};__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1cc)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':'用户注册'}),__param(0x0,(0x0,common_1[_0x5ae80d(0x1f8)])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[authRegister_dto_1[_0x5ae80d(0x207)],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1cc),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1db)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':'用户通过手机号注册'}),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[userRegisterByPhone_dto_1['UserRegisterByPhoneDto'],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1db),null),__decorate([(0x0,common_1['Post'])(_0x5ae80d(0x1e9)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1f5)}),__param(0x0,(0x0,common_1[_0x5ae80d(0x1f8)])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata('design:paramtypes',[authLogin_dto_1['UserLoginDto'],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController['prototype'],'login',null),__decorate([(0x0,common_1['Post'])('loginByPhone'),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1dc)}),__param(0x0,(0x0,common_1[_0x5ae80d(0x1f8)])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[loginByPhone_dt_1['LoginByPhoneDto'],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1bf),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1c6)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1e6)}),__param(0x0,(0x0,common_1[_0x5ae80d(0x1f8)])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[loginByPhoneCode_dto_1[_0x5ae80d(0x1d7)],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController['prototype'],_0x5ae80d(0x1c6),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])('updatePassword'),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1f6)}),(0x0,common_1[_0x5ae80d(0x204)])(jwtAuth_guard_1[_0x5ae80d(0x1d6)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x5ae80d(0x1be)])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x1f8)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata('design:paramtypes',[Object,updatePassword_dto_1['UpdatePasswordDto']]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1ee),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1c8)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1f6)}),(0x0,common_1[_0x5ae80d(0x204)])(jwtAuth_guard_1[_0x5ae80d(0x1d6)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x5ae80d(0x1be)])()),__param(0x1,(0x0,common_1['Body'])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[Object,updatePassByOther_dto_1[_0x5ae80d(0x1d8)]]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController['prototype'],_0x5ae80d(0x1c8),null),__decorate([(0x0,common_1[_0x5ae80d(0x1e2)])('getInfo'),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x205)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x5ae80d(0x1d6)]),(0x0,swagger_1[_0x5ae80d(0x1c0)])(),__param(0x0,(0x0,common_1[_0x5ae80d(0x1be)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1fe),null),__decorate([(0x0,common_1[_0x5ae80d(0x1e2)])('activateAccount'),(0x0,swagger_1['ApiOperation'])({'summary':_0x5ae80d(0x1f0)}),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1[_0x5ae80d(0x206)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[verifyCode_dto_1[_0x5ae80d(0x1f1)],Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1fa),null),__decorate([(0x0,common_1[_0x5ae80d(0x1e2)])(_0x5ae80d(0x1ec)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':'注册成功页面'}),(0x0,common_1[_0x5ae80d(0x1c4)])(_0x5ae80d(0x1ec)),__param(0x0,(0x0,common_1[_0x5ae80d(0x203)])()),__metadata('design:type',Function),__metadata(_0x5ae80d(0x1d1),[Object]),__metadata('design:returntype',Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1ec),null),__decorate([(0x0,common_1[_0x5ae80d(0x1e2)])(_0x5ae80d(0x1e4)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x1f4)}),(0x0,common_1[_0x5ae80d(0x1c4)])(_0x5ae80d(0x1e4)),__param(0x0,(0x0,common_1[_0x5ae80d(0x203)])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1e4),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1eb)),(0x0,swagger_1[_0x5ae80d(0x1e1)])({'summary':_0x5ae80d(0x201)}),__param(0x0,(0x0,common_1[_0x5ae80d(0x1f8)])()),__metadata('design:type',Function),__metadata(_0x5ae80d(0x1d1),[Object]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController[_0x5ae80d(0x202)],_0x5ae80d(0x1eb),null),__decorate([(0x0,common_1[_0x5ae80d(0x1ca)])(_0x5ae80d(0x1e7)),(0x0,swagger_1['ApiOperation'])({'summary':'发送手机验证码'}),__param(0x0,(0x0,common_1['Body'])()),__metadata(_0x5ae80d(0x1cf),Function),__metadata(_0x5ae80d(0x1d1),[sendPhoneCode_dto_1[_0x5ae80d(0x1df)]]),__metadata(_0x5ae80d(0x1ce),Promise)],AuthController['prototype'],_0x5ae80d(0x1e7),null),AuthController=__decorate([(0x0,swagger_1[_0x5ae80d(0x1f7)])('auth'),(0x0,common_1[_0x5ae80d(0x1c3)])(_0x5ae80d(0x1c5)),__metadata(_0x5ae80d(0x1d1),[auth_service_1['AuthService']])],AuthController),exports[_0x5ae80d(0x1ef)]=AuthController;