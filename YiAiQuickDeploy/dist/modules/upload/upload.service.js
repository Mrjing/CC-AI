'use strict';const _0x5679f3=_0x24ee;(function(_0x1a3f9b,_0x189306){const _0x2b647d=_0x24ee,_0xc686b3=_0x1a3f9b();while(!![]){try{const _0x2142f9=-parseInt(_0x2b647d(0x179))/0x1*(-parseInt(_0x2b647d(0x160))/0x2)+parseInt(_0x2b647d(0x11d))/0x3+parseInt(_0x2b647d(0x166))/0x4*(-parseInt(_0x2b647d(0x13f))/0x5)+parseInt(_0x2b647d(0x12c))/0x6*(-parseInt(_0x2b647d(0x142))/0x7)+parseInt(_0x2b647d(0x162))/0x8+-parseInt(_0x2b647d(0x16e))/0x9*(parseInt(_0x2b647d(0x11b))/0xa)+-parseInt(_0x2b647d(0x15c))/0xb;if(_0x2142f9===_0x189306)break;else _0xc686b3['push'](_0xc686b3['shift']());}catch(_0x385f81){_0xc686b3['push'](_0xc686b3['shift']());}}}(_0x2563,0x4a13a));function _0x24ee(_0x49735d,_0x30f82b){const _0x25636d=_0x2563();return _0x24ee=function(_0x24eed0,_0x2649e5){_0x24eed0=_0x24eed0-0x101;let _0x218b80=_0x25636d[_0x24eed0];return _0x218b80;},_0x24ee(_0x49735d,_0x30f82b);}function _0x2563(){const _0xcbdae9=['aliOssAccessKeySecret','base64','cosRegion','268ZMwOcZ','tencentCos','aliOssStatus','mjdev','cheveretoStatus','error','putObject','png','45hPyrrm','key','Location','tencent','status','cheveretoUploadPath','上传配置状态\x20-\x20腾讯云:\x20','debug','请先前往后台配置上传图片的方式','上传图片失败[ALI][url]','length','12498tnVsdv','catch','GlobalConfigService','使用Chevereto上传','准备上传文件:\x20','Injectable','cos-nodejs-sdk-v5','uploadFileFromUrl','aliOssBucket','getBufferFromUrl','defineProperty','__metadata','Logger','https://cdn.discordapp.com/attachments/1097409128491651135/1169910551275638855/snine_60b5c001b_A_young_girl_smiles_brightly_in_the_pure_blue_f_8a41fe5f-5101-4c1e-b948-a748a0583577.png?ex=65571f1b&is=6544aa1b&hm=b82f2d88224eb7942e24c63a8e519c7693de12a2b96daa0f327dfb8f691b1480&','HttpStatus','get','post','tencentCosAcceleratedDomain','stream-to-buffer',',\x20阿里云:\x20','url','上传图片失败[ten][url]','@nestjs/common','__decorate','globalConfigService','code','removeSpecialCharacters','stream','222890eTSxKf','HttpException','624375GRMPGR','getUploadConfig','BAD_REQUEST','chevereto','uploadFileByTencentCosFromUrl','aliOssAccessKeyId','getOwnPropertyDescriptor','__esModule','toString','tencentCosStatus','../../common/utils','then','上传失败:\x20','uploadFileByAliOssFromUrl','replace','3426kqvYXd','env','上传图片失败[ten]','aliyun','http://172.247.48.137:8000','default','axios','uploadFileByChevereto','onModuleInit','response','mjProxyUrl','mjtest.png','getConfigs','cosSecretId','uploadFileByTencentCos','data','uploadFileByCheveretoFromUrl','ali','cheveretoKey','26785JwVySw','metadata','mjProxy','2499dmkrmC','https://','error:\x20','使用腾讯云COS上传','decorate','uploadFileByAliOss','res:\x20','endsWith','getUploadType','image','slice','log','cosBucket','function','TODO->error:\x20\x20','上传图片失败[Chevereto]','createRandomUid','STANDARD','split','source','当前已开启全球加速----------------->','UploadService','test','ISDEV','put','message','1264208AhoOrp',',\x20类型:\x20','object','uploadFile','90hXrxEr','/mj/replaceUpload','2576176gHSSHV'];_0x2563=function(){return _0xcbdae9;};return _0x2563();}var __decorate=this&&this[_0x5679f3(0x116)]||function(_0x45ffab,_0x3c428d,_0x3d9f97,_0x351cc1){const _0x1ac53c=_0x5679f3;var _0x64193f=arguments['length'],_0x268071=_0x64193f<0x3?_0x3c428d:_0x351cc1===null?_0x351cc1=Object[_0x1ac53c(0x123)](_0x3c428d,_0x3d9f97):_0x351cc1,_0x42859d;if(typeof Reflect===_0x1ac53c(0x15e)&&typeof Reflect['decorate']==='function')_0x268071=Reflect[_0x1ac53c(0x146)](_0x45ffab,_0x3c428d,_0x3d9f97,_0x351cc1);else{for(var _0x3a2c0c=_0x45ffab[_0x1ac53c(0x178)]-0x1;_0x3a2c0c>=0x0;_0x3a2c0c--)if(_0x42859d=_0x45ffab[_0x3a2c0c])_0x268071=(_0x64193f<0x3?_0x42859d(_0x268071):_0x64193f>0x3?_0x42859d(_0x3c428d,_0x3d9f97,_0x268071):_0x42859d(_0x3c428d,_0x3d9f97))||_0x268071;}return _0x64193f>0x3&&_0x268071&&Object[_0x1ac53c(0x109)](_0x3c428d,_0x3d9f97,_0x268071),_0x268071;},__metadata=this&&this[_0x5679f3(0x10a)]||function(_0x12c2b7,_0x53a634){const _0x520f4d=_0x5679f3;if(typeof Reflect==='object'&&typeof Reflect[_0x520f4d(0x140)]===_0x520f4d(0x14f))return Reflect[_0x520f4d(0x140)](_0x12c2b7,_0x53a634);};Object[_0x5679f3(0x109)](exports,_0x5679f3(0x124),{'value':!![]}),exports[_0x5679f3(0x157)]=void 0x0;const common_1=require(_0x5679f3(0x115)),TENCENTCOS=require(_0x5679f3(0x105)),ALIOSS=require('ali-oss'),axios_1=require(_0x5679f3(0x132)),streamToBuffer=require(_0x5679f3(0x111)),utils_1=require(_0x5679f3(0x127)),globalConfig_service_1=require('../globalConfig/globalConfig.service'),FormData=require('form-data');let UploadService=class UploadService{constructor(_0x4351dc){const _0x15f419=_0x5679f3;this[_0x15f419(0x117)]=_0x4351dc;}[_0x5679f3(0x134)](){}async[_0x5679f3(0x15f)](_0x5601f3){const _0x5a2da2=_0x5679f3,{filename:_0xa8df95,originalname:_0x116a5d,buffer:_0x521aa8,dir:dir='ai',mimetype:_0x55a11f}=_0x5601f3,_0x5c2edc=_0x55a11f?_0x55a11f[_0x5a2da2(0x154)]('/')[0x1]:'',_0x20a2b2=_0x116a5d||_0xa8df95;common_1[_0x5a2da2(0x10b)][_0x5a2da2(0x175)](_0x5a2da2(0x103)+_0x20a2b2+_0x5a2da2(0x15d)+_0x5c2edc,'UploadService');const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this['globalConfigService'][_0x5a2da2(0x138)]([_0x5a2da2(0x126),_0x5a2da2(0x168),_0x5a2da2(0x16a)]);common_1['Logger'][_0x5a2da2(0x175)](_0x5a2da2(0x174)+tencentCosStatus+_0x5a2da2(0x112)+aliOssStatus+',\x20Chevereto:\x20'+cheveretoStatus,_0x5a2da2(0x157));if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x5a2da2(0x11c))](_0x5a2da2(0x176),common_1[_0x5a2da2(0x10d)][_0x5a2da2(0x11f)]);try{if(Number(tencentCosStatus))return common_1['Logger'][_0x5a2da2(0x175)](_0x5a2da2(0x145),_0x5a2da2(0x157)),await this[_0x5a2da2(0x13a)]({'filename':_0x20a2b2,'buffer':_0x521aa8,'dir':dir,'fileTyle':_0x5c2edc});if(Number(aliOssStatus))return common_1[_0x5a2da2(0x10b)][_0x5a2da2(0x175)]('使用阿里云OSS上传',_0x5a2da2(0x157)),await this['uploadFileByAliOss']({'filename':_0x20a2b2,'buffer':_0x521aa8,'dir':dir,'fileTyle':_0x5c2edc});if(Number(cheveretoStatus)){common_1[_0x5a2da2(0x10b)][_0x5a2da2(0x175)](_0x5a2da2(0x102),_0x5a2da2(0x157));const {filename:_0x330254,buffer:_0x4c733b,dir:_0x2cf1e2}=_0x5601f3;return await this[_0x5a2da2(0x133)]({'filename':_0x330254,'buffer':_0x4c733b[_0x5a2da2(0x125)](_0x5a2da2(0x164)),'dir':_0x2cf1e2,'fileTyle':_0x5c2edc});}}catch(_0x288577){common_1[_0x5a2da2(0x10b)][_0x5a2da2(0x16b)](_0x5a2da2(0x129)+_0x288577[_0x5a2da2(0x15b)],_0x5a2da2(0x157));throw _0x288577;}}async[_0x5679f3(0x14a)](){const _0x3fc3f=_0x5679f3,{tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this['globalConfigService'][_0x3fc3f(0x138)]([_0x3fc3f(0x126),_0x3fc3f(0x168),_0x3fc3f(0x16a)]);if(Number(tencentCosStatus))return _0x3fc3f(0x171);if(Number(aliOssStatus))return _0x3fc3f(0x13d);if(Number(cheveretoStatus))return _0x3fc3f(0x120);}async[_0x5679f3(0x106)]({filename:_0x4c3696,url:_0x57919e,dir:dir='mj'}){const _0x463945=_0x5679f3;dir=process[_0x463945(0x12d)][_0x463945(0x159)]?_0x463945(0x169):dir;const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x463945(0x117)][_0x463945(0x138)]([_0x463945(0x126),'aliOssStatus','cheveretoStatus']);if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x463945(0x11c))](_0x463945(0x176),common_1[_0x463945(0x10d)]['BAD_REQUEST']);if(Number(tencentCosStatus))return this[_0x463945(0x121)]({'filename':_0x4c3696,'url':_0x57919e,'dir':dir});if(Number(aliOssStatus)){const _0x5a2e52=await this['uploadFileByAliOssFromUrl']({'filename':_0x4c3696,'url':_0x57919e,'dir':dir});return _0x5a2e52;}if(Number(cheveretoStatus))return await this[_0x463945(0x13c)]({'filename':_0x4c3696,'url':_0x57919e,'dir':dir});}async['uploadFileByTencentCos']({filename:_0x598c86,buffer:_0x465440,dir:_0x44d0c2,fileTyle:_0x3950b8}){const _0x5affcd=_0x5679f3,{Bucket:_0x3990a3,Region:_0x4763e1,SecretId:_0x466ae5,SecretKey:_0x25ee11}=await this[_0x5affcd(0x11e)](_0x5affcd(0x171));this['tencentCos']=new TENCENTCOS({'SecretId':_0x466ae5,'SecretKey':_0x25ee11,'FileParallelLimit':0xa});try{return new Promise(async(_0x591c4c,_0x25a0d4)=>{const _0x494c03=_0x5affcd,_0x412d4c=_0x3950b8||_0x494c03(0x16d);this[_0x494c03(0x167)][_0x494c03(0x16c)]({'Bucket':(0x0,utils_1[_0x494c03(0x119)])(_0x3990a3),'Region':(0x0,utils_1[_0x494c03(0x119)])(_0x4763e1),'Key':_0x44d0c2+'/'+(_0x598c86||(0x0,utils_1['createRandomUid'])()+'.'+_0x3950b8),'StorageClass':_0x494c03(0x153),'Body':_0x465440},async(_0x1f4bee,_0x30faa5)=>{const _0x311809=_0x494c03;if(_0x1f4bee)return console[_0x311809(0x14d)]('cos\x20->\x20err:\x20',_0x1f4bee),_0x25a0d4(_0x1f4bee);let _0xb44888=_0x30faa5[_0x311809(0x170)][_0x311809(0x12b)](/^(http:\/\/|https:\/\/|\/\/|)(.*)/,'https://$2');const {acceleratedDomain:_0x12ee50}=await this[_0x311809(0x11e)](_0x311809(0x171));return _0x12ee50&&(_0xb44888=_0xb44888[_0x311809(0x12b)](/^(https:\/\/[^/]+)(\/.*)$/,_0x311809(0x143)+_0x12ee50+'$2'),console[_0x311809(0x14d)](_0x311809(0x156),_0xb44888)),_0x591c4c(_0xb44888);});});}catch(_0x4f63cf){console[_0x5affcd(0x14d)](_0x5affcd(0x144),_0x4f63cf);throw new common_1['HttpException'](_0x5affcd(0x12e),common_1['HttpStatus'][_0x5affcd(0x11f)]);}}async[_0x5679f3(0x121)]({filename:_0x3db75f,url:_0x3bf2c6,dir:_0x4f27a2}){const _0x3b64db=_0x5679f3,{Bucket:_0x12924a,Region:_0x50e47e,SecretId:_0x5e5ea0,SecretKey:_0x18c4ad}=await this['getUploadConfig'](_0x3b64db(0x171));this[_0x3b64db(0x167)]=new TENCENTCOS({'SecretId':_0x5e5ea0,'SecretKey':_0x18c4ad,'FileParallelLimit':0xa});try{const _0x58c764=await this['globalConfigService'][_0x3b64db(0x138)](['mjProxy'])||0x0,_0x1c1e77=await this[_0x3b64db(0x108)](_0x3bf2c6);return await this[_0x3b64db(0x13a)]({'filename':_0x3db75f,'buffer':_0x1c1e77,'dir':_0x4f27a2,'fileTyle':''});}catch(_0x4aba71){console[_0x3b64db(0x14d)](_0x3b64db(0x150),_0x4aba71);throw new common_1[(_0x3b64db(0x11c))](_0x3b64db(0x114),common_1[_0x3b64db(0x10d)][_0x3b64db(0x11f)]);}}async[_0x5679f3(0x147)]({filename:_0x145d68,buffer:_0xb719ec,dir:_0x11e5ba,fileTyle:fileTyle=_0x5679f3(0x16d)}){const _0x3f7568=_0x5679f3,{region:_0x1339d0,bucket:_0x15c070,accessKeyId:_0x5a32c7,accessKeySecret:_0x5433d0}=await this['getUploadConfig'](_0x3f7568(0x13d)),_0x28c003=new ALIOSS({'region':(0x0,utils_1[_0x3f7568(0x119)])(_0x1339d0),'accessKeyId':_0x5a32c7,'accessKeySecret':_0x5433d0,'bucket':(0x0,utils_1[_0x3f7568(0x119)])(_0x15c070)});try{return console[_0x3f7568(0x14d)]('ali\x20开始上传'),new Promise((_0xdcc05f,_0x5644dd)=>{const _0xe5d3b1=_0x3f7568;_0x28c003[_0xe5d3b1(0x15a)](_0x11e5ba+'/'+(_0x145d68||(0x0,utils_1[_0xe5d3b1(0x152)])()+'.'+fileTyle),_0xb719ec)[_0xe5d3b1(0x128)](_0x3d20ac=>{const _0x5ac3cc=_0xe5d3b1;_0xdcc05f(_0x3d20ac[_0x5ac3cc(0x113)]);})[_0xe5d3b1(0x17a)](_0x100713=>{_0x5644dd(_0x100713);});});}catch(_0x1d8a20){throw new common_1[(_0x3f7568(0x11c))]('上传图片失败[ali]',common_1[_0x3f7568(0x10d)][_0x3f7568(0x11f)]);}}async[_0x5679f3(0x12a)]({filename:_0x3126e8,url:_0x1ddaa2,dir:_0x10b0ec}){const _0x3d3ac2=_0x5679f3,{region:_0x279bca,bucket:_0x435762,accessKeyId:_0x16ac9b,accessKeySecret:_0x369ac4}=await this[_0x3d3ac2(0x11e)](_0x3d3ac2(0x13d)),_0x121fed=new ALIOSS({'region':_0x279bca,'accessKeyId':_0x16ac9b,'accessKeySecret':_0x369ac4,'bucket':_0x435762});try{const _0x254ba4=await this[_0x3d3ac2(0x117)][_0x3d3ac2(0x138)](['mjProxy'])||0x0;if(Number(_0x254ba4)===0x1){const _0x37f8af={'url':_0x1ddaa2,'cosParams':{'region':_0x279bca,'bucket':_0x435762,'accessKeyId':_0x16ac9b,'accessKeySecret':_0x369ac4},'cosType':_0x3d3ac2(0x12f)},_0x2f6441=await this['globalConfigService'][_0x3d3ac2(0x138)](['mjProxyUrl'])||_0x3d3ac2(0x130),_0x301960=await axios_1['default'][_0x3d3ac2(0x10f)](_0x2f6441+_0x3d3ac2(0x161),_0x37f8af);if(!(_0x301960===null||_0x301960===void 0x0?void 0x0:_0x301960['data']))throw new common_1[(_0x3d3ac2(0x11c))]('上传图片失败[ALI][url]',common_1[_0x3d3ac2(0x10d)][_0x3d3ac2(0x11f)]);return _0x301960[_0x3d3ac2(0x13b)];}else{const _0x3ec4dc=await this[_0x3d3ac2(0x108)](_0x1ddaa2);return await this['uploadFileByAliOss']({'filename':_0x3126e8,'buffer':_0x3ec4dc,'dir':_0x10b0ec});}}catch(_0x37f7f4){throw new common_1[(_0x3d3ac2(0x11c))](_0x3d3ac2(0x177),common_1[_0x3d3ac2(0x10d)][_0x3d3ac2(0x11f)]);}}async[_0x5679f3(0x133)]({filename:filename='',buffer:_0x3eda40,dir:dir='ai',fileTyle:fileTyle=_0x5679f3(0x16d)}){const _0x556f1f=_0x5679f3;var _0x166589;const {key:_0x3da5ff,uploadPath:_0x375c97}=await this[_0x556f1f(0x11e)](_0x556f1f(0x120));let _0x1ba0c1=_0x375c97[_0x556f1f(0x149)]('/')?_0x375c97['slice'](0x0,-0x1):_0x375c97;const _0x5f10c7=new FormData();_0x5f10c7['append'](_0x556f1f(0x155),_0x3eda40),_0x5f10c7['append'](_0x556f1f(0x16f),_0x3da5ff);try{const _0xc92e6f=await axios_1[_0x556f1f(0x131)]['post'](_0x1ba0c1,_0x5f10c7,{'headers':{'X-API-Key':_0x3da5ff}});if((_0xc92e6f===null||_0xc92e6f===void 0x0?void 0x0:_0xc92e6f[_0x556f1f(0x172)])===0xc8)return _0xc92e6f[_0x556f1f(0x13b)][_0x556f1f(0x14b)][_0x556f1f(0x113)];else console[_0x556f1f(0x14d)]('Chevereto\x20--->\x20res',_0xc92e6f===null||_0xc92e6f===void 0x0?void 0x0:_0xc92e6f[_0x556f1f(0x13b)][_0x556f1f(0x118)],_0xc92e6f===null||_0xc92e6f===void 0x0?void 0x0:_0xc92e6f[_0x556f1f(0x13b)][_0x556f1f(0x16b)][_0x556f1f(0x15b)]),common_1[_0x556f1f(0x10b)][_0x556f1f(0x16b)](_0x556f1f(0x151),JSON['stringify'](_0xc92e6f[_0x556f1f(0x13b)]));}catch(_0x5a6177){console[_0x556f1f(0x14d)](_0x556f1f(0x144),_0x5a6177);throw new common_1[(_0x556f1f(0x11c))]('上传图片失败[Chevereto|buffer]\x20-->\x20'+((_0x166589=_0x5a6177[_0x556f1f(0x135)])===null||_0x166589===void 0x0?void 0x0:_0x166589[_0x556f1f(0x13b)][_0x556f1f(0x16b)][_0x556f1f(0x15b)]),common_1['HttpStatus'][_0x556f1f(0x11f)]);}}async[_0x5679f3(0x13c)]({filename:_0x3b590e,url:_0x333004,dir:_0x4a1b6f}){const _0x12efe2=_0x5679f3;try{const _0x5145c8=await this[_0x12efe2(0x117)][_0x12efe2(0x138)]([_0x12efe2(0x141)])||0x0;if(Number(_0x5145c8)===0x1){const {key:_0x4322f3,uploadPath:_0x1d0245}=await this[_0x12efe2(0x11e)](_0x12efe2(0x120));let _0x4ddaf7=_0x1d0245[_0x12efe2(0x149)]('/')?_0x1d0245[_0x12efe2(0x14c)](0x0,-0x1):_0x1d0245;const _0x3411a6={'cosType':'chevereto','url':_0x333004,'cosParams':{'key':_0x4322f3,'uploadPath':_0x4ddaf7}},_0x101dea=await this['globalConfigService'][_0x12efe2(0x138)]([_0x12efe2(0x136)])||_0x12efe2(0x130),_0x226dbb=await axios_1[_0x12efe2(0x131)][_0x12efe2(0x10f)](_0x101dea+_0x12efe2(0x161),_0x3411a6);if(!_0x226dbb['data'])throw new common_1[(_0x12efe2(0x11c))]('上传图片失败[Chevereto][url]',common_1[_0x12efe2(0x10d)][_0x12efe2(0x11f)]);return _0x226dbb[_0x12efe2(0x13b)];}else{const _0x133662=await this[_0x12efe2(0x108)](_0x333004);return await this[_0x12efe2(0x133)]({'filename':_0x3b590e,'buffer':_0x133662,'dir':_0x4a1b6f});}}catch(_0x1fe9dd){console[_0x12efe2(0x14d)]('error:\x20',_0x1fe9dd);throw new common_1[(_0x12efe2(0x11c))](_0x1fe9dd[_0x12efe2(0x135)],common_1[_0x12efe2(0x10d)][_0x12efe2(0x11f)]);}}async[_0x5679f3(0x11e)](_0x23ce94){const _0x156024=_0x5679f3;if(_0x23ce94===_0x156024(0x13d)){const {aliOssRegion:_0x4d60b6,aliOssBucket:_0x241f18,aliOssAccessKeyId:_0x395aab,aliOssAccessKeySecret:_0xbab88d}=await this[_0x156024(0x117)]['getConfigs'](['aliOssRegion',_0x156024(0x107),_0x156024(0x122),_0x156024(0x163)]);return{'region':_0x4d60b6,'bucket':_0x241f18,'accessKeyId':_0x395aab,'accessKeySecret':_0xbab88d};}if(_0x23ce94==='tencent'){const {cosBucket:_0x36de2e,cosRegion:_0x36627a,cosSecretId:_0xd736e5,cosSecretKey:_0x14632e,tencentCosAcceleratedDomain:_0x26ac47}=await this[_0x156024(0x117)][_0x156024(0x138)]([_0x156024(0x14e),_0x156024(0x165),_0x156024(0x139),'cosSecretKey',_0x156024(0x110)]);return{'Bucket':_0x36de2e,'Region':_0x36627a,'SecretId':_0xd736e5,'SecretKey':_0x14632e,'acceleratedDomain':_0x26ac47};}if(_0x23ce94===_0x156024(0x120)){const {cheveretoKey:_0x247733,cheveretoUploadPath:_0x13fb50}=await this[_0x156024(0x117)][_0x156024(0x138)]([_0x156024(0x13e),_0x156024(0x173)]);return{'key':_0x247733,'uploadPath':_0x13fb50};}}async[_0x5679f3(0x158)](){const _0x254a75=_0x5679f3,_0x59b77b={'filename':_0x254a75(0x137),'dir':'mj','url':_0x254a75(0x10c)},_0x5c86f8=await this[_0x254a75(0x106)](_0x59b77b);return console[_0x254a75(0x14d)](_0x254a75(0x148),_0x5c86f8),_0x5c86f8;}async['getBufferFromUrl'](_0x21ae34){const _0x5a0503=_0x5679f3,_0x317f0e=await this['globalConfigService']['getConfigs']([_0x5a0503(0x141)])||0x0,_0x359246=await axios_1['default'][_0x5a0503(0x10e)](_0x21ae34,{'responseType':_0x5a0503(0x11a)});return new Promise((_0x102422,_0x38a0aa)=>{const _0x3b439a=_0x5a0503;streamToBuffer(_0x359246[_0x3b439a(0x13b)],(_0xec73f6,_0x3ab8bb)=>{const _0x37aa02=_0x3b439a;if(_0xec73f6)throw new common_1['HttpException']('获取图片资源失败、请重新试试吧！',common_1['HttpStatus'][_0x37aa02(0x11f)]);else _0x102422(_0x3ab8bb);});});}};UploadService=__decorate([(0x0,common_1[_0x5679f3(0x104)])(),__metadata('design:paramtypes',[globalConfig_service_1[_0x5679f3(0x101)]])],UploadService),exports[_0x5679f3(0x157)]=UploadService;