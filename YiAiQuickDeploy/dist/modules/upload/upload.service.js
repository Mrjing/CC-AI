'use strict';const _0x38c40b=_0x4fea;(function(_0x22e3eb,_0x4bdccc){const _0x403d22=_0x4fea,_0x5844f4=_0x22e3eb();while(!![]){try{const _0x47c75b=parseInt(_0x403d22(0xbd))/0x1*(-parseInt(_0x403d22(0xfe))/0x2)+-parseInt(_0x403d22(0xf1))/0x3+-parseInt(_0x403d22(0xbe))/0x4*(-parseInt(_0x403d22(0xe5))/0x5)+-parseInt(_0x403d22(0x114))/0x6+parseInt(_0x403d22(0xb4))/0x7*(parseInt(_0x403d22(0xf7))/0x8)+parseInt(_0x403d22(0xc6))/0x9+-parseInt(_0x403d22(0xcf))/0xa*(parseInt(_0x403d22(0x102))/0xb);if(_0x47c75b===_0x4bdccc)break;else _0x5844f4['push'](_0x5844f4['shift']());}catch(_0x5bc1ae){_0x5844f4['push'](_0x5844f4['shift']());}}}(_0x42ff,0x1c89e));var __decorate=this&&this[_0x38c40b(0xd1)]||function(_0x990016,_0x221326,_0x26ea0f,_0x8282ce){const _0x33de25=_0x38c40b;var _0x194e47=arguments['length'],_0x2b7bcf=_0x194e47<0x3?_0x221326:_0x8282ce===null?_0x8282ce=Object[_0x33de25(0x10a)](_0x221326,_0x26ea0f):_0x8282ce,_0xf60fca;if(typeof Reflect==='object'&&typeof Reflect[_0x33de25(0xfd)]==='function')_0x2b7bcf=Reflect['decorate'](_0x990016,_0x221326,_0x26ea0f,_0x8282ce);else{for(var _0x587026=_0x990016[_0x33de25(0xb7)]-0x1;_0x587026>=0x0;_0x587026--)if(_0xf60fca=_0x990016[_0x587026])_0x2b7bcf=(_0x194e47<0x3?_0xf60fca(_0x2b7bcf):_0x194e47>0x3?_0xf60fca(_0x221326,_0x26ea0f,_0x2b7bcf):_0xf60fca(_0x221326,_0x26ea0f))||_0x2b7bcf;}return _0x194e47>0x3&&_0x2b7bcf&&Object['defineProperty'](_0x221326,_0x26ea0f,_0x2b7bcf),_0x2b7bcf;},__metadata=this&&this['__metadata']||function(_0x997ec6,_0x6d9ea1){const _0x5853d0=_0x38c40b;if(typeof Reflect===_0x5853d0(0xd4)&&typeof Reflect[_0x5853d0(0xd6)]===_0x5853d0(0x118))return Reflect['metadata'](_0x997ec6,_0x6d9ea1);};function _0x42ff(){const _0x1b9a44=[',\x20Chevereto:\x20','UploadService','tencent','putObject','stringify','split','22029wnfnHI','上传图片失败[ten]','debug','length','defineProperty','Logger','cos-nodejs-sdk-v5','cheveretoUploadPath','removeSpecialCharacters','1xjDiVd','12dXutQi','code','获取图片资源失败、请重新试试吧！','uploadFile','test','cosSecretKey','aliOssStatus','aliOssAccessKeyId','1065672ERQCet','uploadFileByCheveretoFromUrl','onModuleInit','getUploadConfig','response','error','Chevereto\x20--->\x20res','HttpException','env','7870VhJQYJ','cosSecretId','__decorate','then','使用阿里云OSS上传','object','aliyun','metadata','ali-oss','HttpStatus','cos\x20->\x20err:\x20','post','Location','STANDARD','uploadFileByTencentCosFromUrl','source','上传失败:\x20','status','__esModule','../../common/utils','aliOssBucket','key','246635AFqKfE','append','使用Chevereto上传','mjtest.png','uploadFileByAliOssFromUrl','tencentCosAcceleratedDomain','getConfigs','default','form-data','aliOssRegion','GlobalConfigService','上传图片失败[ten][url]','164580tFjawt','cheveretoStatus','http://172.247.48.137:8000','BAD_REQUEST','Injectable',',\x20阿里云:\x20','152XSrPag','axios','getBufferFromUrl','error:\x20','上传配置状态\x20-\x20腾讯云:\x20','上传图片失败[ali]','decorate','47086DrADWH',',\x20类型:\x20','/mj/replaceUpload','data','440ZStOAm','aliOssAccessKeySecret','uploadFileByTencentCos','png','ISDEV','上传图片失败[ALI][url]','tencentCosStatus','design:paramtypes','getOwnPropertyDescriptor','replace','TODO->error:\x20\x20','mjdev','createRandomUid','toString','cosRegion','stream','ali','endsWith','596430qardCk','请先前往后台配置上传图片的方式','log','上传图片失败[Chevereto]','function','chevereto','mjProxy','message','res:\x20','base64','slice','uploadFileFromUrl','globalConfigService','uploadFileByChevereto','tencentCos','uploadFileByAliOss','getUploadType'];_0x42ff=function(){return _0x1b9a44;};return _0x42ff();}Object[_0x38c40b(0xb8)](exports,_0x38c40b(0xe1),{'value':!![]}),exports['UploadService']=void 0x0;const common_1=require('@nestjs/common'),TENCENTCOS=require(_0x38c40b(0xba)),ALIOSS=require(_0x38c40b(0xd7)),axios_1=require(_0x38c40b(0xf8)),streamToBuffer=require('stream-to-buffer'),utils_1=require(_0x38c40b(0xe2)),globalConfig_service_1=require('../globalConfig/globalConfig.service'),FormData=require(_0x38c40b(0xed));function _0x4fea(_0x116fd5,_0x49e1ac){const _0x42ff2a=_0x42ff();return _0x4fea=function(_0x4feac2,_0x2cada1){_0x4feac2=_0x4feac2-0xaf;let _0x40e732=_0x42ff2a[_0x4feac2];return _0x40e732;},_0x4fea(_0x116fd5,_0x49e1ac);}let UploadService=class UploadService{constructor(_0x58ce52){const _0x5887c8=_0x38c40b;this[_0x5887c8(0x120)]=_0x58ce52;}[_0x38c40b(0xc8)](){}async[_0x38c40b(0xc1)](_0x2cc4c0){const _0x59afe3=_0x38c40b,{filename:_0x24287d,originalname:_0x47a9a3,buffer:_0x305cbd,dir:dir='ai',mimetype:_0xbdafaf}=_0x2cc4c0,_0x59be75=_0xbdafaf?_0xbdafaf[_0x59afe3(0xb3)]('/')[0x1]:'',_0x18769f=_0x47a9a3||_0x24287d;common_1[_0x59afe3(0xb9)][_0x59afe3(0xb6)]('准备上传文件:\x20'+_0x18769f+_0x59afe3(0xff)+_0x59be75,_0x59afe3(0xaf));const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x59afe3(0x120)]['getConfigs']([_0x59afe3(0x108),'aliOssStatus',_0x59afe3(0xf2)]);common_1[_0x59afe3(0xb9)][_0x59afe3(0xb6)](_0x59afe3(0xfb)+tencentCosStatus+_0x59afe3(0xf6)+aliOssStatus+_0x59afe3(0x125)+cheveretoStatus,_0x59afe3(0xaf));if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x59afe3(0xcd))](_0x59afe3(0x115),common_1[_0x59afe3(0xd8)][_0x59afe3(0xf4)]);try{if(Number(tencentCosStatus))return common_1['Logger'][_0x59afe3(0xb6)]('使用腾讯云COS上传',_0x59afe3(0xaf)),await this['uploadFileByTencentCos']({'filename':_0x18769f,'buffer':_0x305cbd,'dir':dir,'fileTyle':_0x59be75});if(Number(aliOssStatus))return common_1[_0x59afe3(0xb9)][_0x59afe3(0xb6)](_0x59afe3(0xd3),'UploadService'),await this[_0x59afe3(0x123)]({'filename':_0x18769f,'buffer':_0x305cbd,'dir':dir,'fileTyle':_0x59be75});if(Number(cheveretoStatus)){common_1[_0x59afe3(0xb9)][_0x59afe3(0xb6)](_0x59afe3(0xe7),_0x59afe3(0xaf));const {filename:_0x4dc392,buffer:_0x2491e9,dir:_0xe042b3}=_0x2cc4c0;return await this[_0x59afe3(0x121)]({'filename':_0x4dc392,'buffer':_0x2491e9[_0x59afe3(0x10f)](_0x59afe3(0x11d)),'dir':_0xe042b3,'fileTyle':_0x59be75});}}catch(_0x2aed37){common_1[_0x59afe3(0xb9)]['error'](_0x59afe3(0xdf)+_0x2aed37[_0x59afe3(0x11b)],_0x59afe3(0xaf));throw _0x2aed37;}}async[_0x38c40b(0x124)](){const _0x585e81=_0x38c40b,{tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x585e81(0x120)][_0x585e81(0xeb)]([_0x585e81(0x108),_0x585e81(0xc4),_0x585e81(0xf2)]);if(Number(tencentCosStatus))return _0x585e81(0xb0);if(Number(aliOssStatus))return _0x585e81(0x112);if(Number(cheveretoStatus))return _0x585e81(0x119);}async[_0x38c40b(0x11f)]({filename:_0x2b4f0d,url:_0x4d16a9,dir:dir='mj'}){const _0x2dddc2=_0x38c40b;dir=process[_0x2dddc2(0xce)][_0x2dddc2(0x106)]?_0x2dddc2(0x10d):dir;const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x2dddc2(0x120)]['getConfigs']([_0x2dddc2(0x108),_0x2dddc2(0xc4),_0x2dddc2(0xf2)]);if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1['HttpException'](_0x2dddc2(0x115),common_1['HttpStatus'][_0x2dddc2(0xf4)]);if(Number(tencentCosStatus))return this[_0x2dddc2(0xdd)]({'filename':_0x2b4f0d,'url':_0x4d16a9,'dir':dir});if(Number(aliOssStatus)){const _0x4fc920=await this[_0x2dddc2(0xe9)]({'filename':_0x2b4f0d,'url':_0x4d16a9,'dir':dir});return _0x4fc920;}if(Number(cheveretoStatus))return await this[_0x2dddc2(0xc7)]({'filename':_0x2b4f0d,'url':_0x4d16a9,'dir':dir});}async['uploadFileByTencentCos']({filename:_0x14f3a7,buffer:_0x34aa6e,dir:_0x4e28cb,fileTyle:_0x12af5d}){const _0x4cbb50=_0x38c40b,{Bucket:_0x3be5aa,Region:_0x5939f1,SecretId:_0x47fdeb,SecretKey:_0x4b13f2}=await this[_0x4cbb50(0xc9)](_0x4cbb50(0xb0));this[_0x4cbb50(0x122)]=new TENCENTCOS({'SecretId':_0x47fdeb,'SecretKey':_0x4b13f2,'FileParallelLimit':0xa});try{return new Promise(async(_0x566a37,_0x274d01)=>{const _0x35919c=_0x4cbb50,_0x14fdf0=_0x12af5d||_0x35919c(0x105);this[_0x35919c(0x122)][_0x35919c(0xb1)]({'Bucket':(0x0,utils_1[_0x35919c(0xbc)])(_0x3be5aa),'Region':(0x0,utils_1[_0x35919c(0xbc)])(_0x5939f1),'Key':_0x4e28cb+'/'+(_0x14f3a7||(0x0,utils_1[_0x35919c(0x10e)])()+'.'+_0x12af5d),'StorageClass':_0x35919c(0xdc),'Body':_0x34aa6e},async(_0x2a053a,_0xf7bd84)=>{const _0x17e549=_0x35919c;if(_0x2a053a)return console[_0x17e549(0x116)](_0x17e549(0xd9),_0x2a053a),_0x274d01(_0x2a053a);let _0x504263=_0xf7bd84[_0x17e549(0xdb)][_0x17e549(0x10b)](/^(http:\/\/|https:\/\/|\/\/|)(.*)/,'https://$2');const {acceleratedDomain:_0x41c65b}=await this['getUploadConfig'](_0x17e549(0xb0));return _0x41c65b&&(_0x504263=_0x504263[_0x17e549(0x10b)](/^(https:\/\/[^/]+)(\/.*)$/,'https://'+_0x41c65b+'$2'),console[_0x17e549(0x116)]('当前已开启全球加速----------------->',_0x504263)),_0x566a37(_0x504263);});});}catch(_0x57a23f){console['log'](_0x4cbb50(0xfa),_0x57a23f);throw new common_1[(_0x4cbb50(0xcd))](_0x4cbb50(0xb5),common_1[_0x4cbb50(0xd8)][_0x4cbb50(0xf4)]);}}async[_0x38c40b(0xdd)]({filename:_0x428cd5,url:_0x35db90,dir:_0x2ae0b6}){const _0x4e5e7b=_0x38c40b,{Bucket:_0x5eeb7f,Region:_0x3830fe,SecretId:_0x5502c4,SecretKey:_0x6606f}=await this[_0x4e5e7b(0xc9)](_0x4e5e7b(0xb0));this[_0x4e5e7b(0x122)]=new TENCENTCOS({'SecretId':_0x5502c4,'SecretKey':_0x6606f,'FileParallelLimit':0xa});try{const _0x21d215=await this['globalConfigService'][_0x4e5e7b(0xeb)](['mjProxy'])||0x0,_0x43feb8=await this[_0x4e5e7b(0xf9)](_0x35db90);return await this[_0x4e5e7b(0x104)]({'filename':_0x428cd5,'buffer':_0x43feb8,'dir':_0x2ae0b6,'fileTyle':''});}catch(_0x4a9c5e){console[_0x4e5e7b(0x116)](_0x4e5e7b(0x10c),_0x4a9c5e);throw new common_1[(_0x4e5e7b(0xcd))](_0x4e5e7b(0xf0),common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x38c40b(0x123)]({filename:_0x3de0c5,buffer:_0x475af5,dir:_0xa533ae,fileTyle:fileTyle=_0x38c40b(0x105)}){const _0x16c78=_0x38c40b,{region:_0x1cfd34,bucket:_0x196a3d,accessKeyId:_0x50341e,accessKeySecret:_0x2ab241}=await this['getUploadConfig'](_0x16c78(0x112)),_0x43392a=new ALIOSS({'region':(0x0,utils_1[_0x16c78(0xbc)])(_0x1cfd34),'accessKeyId':_0x50341e,'accessKeySecret':_0x2ab241,'bucket':(0x0,utils_1[_0x16c78(0xbc)])(_0x196a3d)});try{return console[_0x16c78(0x116)]('ali\x20开始上传'),new Promise((_0x56746a,_0x186840)=>{const _0x4803dd=_0x16c78;_0x43392a['put'](_0xa533ae+'/'+(_0x3de0c5||(0x0,utils_1[_0x4803dd(0x10e)])()+'.'+fileTyle),_0x475af5)[_0x4803dd(0xd2)](_0x2e1a5b=>{_0x56746a(_0x2e1a5b['url']);})['catch'](_0x3c272d=>{_0x186840(_0x3c272d);});});}catch(_0x34c15d){throw new common_1[(_0x16c78(0xcd))](_0x16c78(0xfc),common_1[_0x16c78(0xd8)][_0x16c78(0xf4)]);}}async['uploadFileByAliOssFromUrl']({filename:_0x21552c,url:_0x29bd9c,dir:_0x2852e2}){const _0x265006=_0x38c40b,{region:_0x27a826,bucket:_0xbfa30e,accessKeyId:_0x17a598,accessKeySecret:_0x2601ca}=await this['getUploadConfig'](_0x265006(0x112)),_0xb3c391=new ALIOSS({'region':_0x27a826,'accessKeyId':_0x17a598,'accessKeySecret':_0x2601ca,'bucket':_0xbfa30e});try{const _0x1ccdbe=await this[_0x265006(0x120)][_0x265006(0xeb)]([_0x265006(0x11a)])||0x0;if(Number(_0x1ccdbe)===0x1){const _0x19f46f={'url':_0x29bd9c,'cosParams':{'region':_0x27a826,'bucket':_0xbfa30e,'accessKeyId':_0x17a598,'accessKeySecret':_0x2601ca},'cosType':_0x265006(0xd5)},_0x2356e2=await this[_0x265006(0x120)][_0x265006(0xeb)](['mjProxyUrl'])||'http://172.247.48.137:8000',_0xcf5f1f=await axios_1['default']['post'](_0x2356e2+_0x265006(0x100),_0x19f46f);if(!(_0xcf5f1f===null||_0xcf5f1f===void 0x0?void 0x0:_0xcf5f1f['data']))throw new common_1[(_0x265006(0xcd))](_0x265006(0x107),common_1[_0x265006(0xd8)]['BAD_REQUEST']);return _0xcf5f1f['data'];}else{const _0x2c2301=await this['getBufferFromUrl'](_0x29bd9c);return await this[_0x265006(0x123)]({'filename':_0x21552c,'buffer':_0x2c2301,'dir':_0x2852e2});}}catch(_0x306ce8){throw new common_1[(_0x265006(0xcd))](_0x265006(0x107),common_1[_0x265006(0xd8)][_0x265006(0xf4)]);}}async[_0x38c40b(0x121)]({filename:filename='',buffer:_0x56a976,dir:dir='ai',fileTyle:fileTyle=_0x38c40b(0x105)}){const _0x4e3da7=_0x38c40b;var _0x31270a;const {key:_0x3121c1,uploadPath:_0x23c72f}=await this[_0x4e3da7(0xc9)](_0x4e3da7(0x119));let _0x60e97b=_0x23c72f[_0x4e3da7(0x113)]('/')?_0x23c72f[_0x4e3da7(0x11e)](0x0,-0x1):_0x23c72f;const _0x1e22df=new FormData();_0x1e22df[_0x4e3da7(0xe6)](_0x4e3da7(0xde),_0x56a976),_0x1e22df[_0x4e3da7(0xe6)](_0x4e3da7(0xe4),_0x3121c1);try{const _0x5dd32f=await axios_1['default'][_0x4e3da7(0xda)](_0x60e97b,_0x1e22df,{'headers':{'X-API-Key':_0x3121c1}});if((_0x5dd32f===null||_0x5dd32f===void 0x0?void 0x0:_0x5dd32f[_0x4e3da7(0xe0)])===0xc8)return _0x5dd32f[_0x4e3da7(0x101)]['image']['url'];else console[_0x4e3da7(0x116)](_0x4e3da7(0xcc),_0x5dd32f===null||_0x5dd32f===void 0x0?void 0x0:_0x5dd32f[_0x4e3da7(0x101)][_0x4e3da7(0xbf)],_0x5dd32f===null||_0x5dd32f===void 0x0?void 0x0:_0x5dd32f[_0x4e3da7(0x101)][_0x4e3da7(0xcb)][_0x4e3da7(0x11b)]),common_1[_0x4e3da7(0xb9)]['error'](_0x4e3da7(0x117),JSON[_0x4e3da7(0xb2)](_0x5dd32f[_0x4e3da7(0x101)]));}catch(_0xc8a77a){console[_0x4e3da7(0x116)](_0x4e3da7(0xfa),_0xc8a77a);throw new common_1['HttpException']('上传图片失败[Chevereto|buffer]\x20-->\x20'+((_0x31270a=_0xc8a77a[_0x4e3da7(0xca)])===null||_0x31270a===void 0x0?void 0x0:_0x31270a[_0x4e3da7(0x101)][_0x4e3da7(0xcb)]['message']),common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x38c40b(0xc7)]({filename:_0x16d8ac,url:_0x34ac0c,dir:_0x50b770}){const _0x382dc5=_0x38c40b;try{const _0x2724c3=await this[_0x382dc5(0x120)][_0x382dc5(0xeb)]([_0x382dc5(0x11a)])||0x0;if(Number(_0x2724c3)===0x1){const {key:_0x22cd27,uploadPath:_0x4809c2}=await this[_0x382dc5(0xc9)](_0x382dc5(0x119));let _0x46aa1d=_0x4809c2[_0x382dc5(0x113)]('/')?_0x4809c2[_0x382dc5(0x11e)](0x0,-0x1):_0x4809c2;const _0x21245d={'cosType':_0x382dc5(0x119),'url':_0x34ac0c,'cosParams':{'key':_0x22cd27,'uploadPath':_0x46aa1d}},_0x507b18=await this[_0x382dc5(0x120)][_0x382dc5(0xeb)](['mjProxyUrl'])||_0x382dc5(0xf3),_0x180820=await axios_1[_0x382dc5(0xec)][_0x382dc5(0xda)](_0x507b18+_0x382dc5(0x100),_0x21245d);if(!_0x180820[_0x382dc5(0x101)])throw new common_1[(_0x382dc5(0xcd))]('上传图片失败[Chevereto][url]',common_1[_0x382dc5(0xd8)][_0x382dc5(0xf4)]);return _0x180820['data'];}else{const _0x3f4be3=await this[_0x382dc5(0xf9)](_0x34ac0c);return await this[_0x382dc5(0x121)]({'filename':_0x16d8ac,'buffer':_0x3f4be3,'dir':_0x50b770});}}catch(_0x4f35aa){console['log'](_0x382dc5(0xfa),_0x4f35aa);throw new common_1[(_0x382dc5(0xcd))](_0x4f35aa[_0x382dc5(0xca)],common_1[_0x382dc5(0xd8)]['BAD_REQUEST']);}}async['getUploadConfig'](_0x1e4dda){const _0x2bb74d=_0x38c40b;if(_0x1e4dda==='ali'){const {aliOssRegion:_0x11ad41,aliOssBucket:_0xd5f871,aliOssAccessKeyId:_0x46015d,aliOssAccessKeySecret:_0x45d987}=await this[_0x2bb74d(0x120)]['getConfigs']([_0x2bb74d(0xee),_0x2bb74d(0xe3),_0x2bb74d(0xc5),_0x2bb74d(0x103)]);return{'region':_0x11ad41,'bucket':_0xd5f871,'accessKeyId':_0x46015d,'accessKeySecret':_0x45d987};}if(_0x1e4dda===_0x2bb74d(0xb0)){const {cosBucket:_0x36049b,cosRegion:_0x3fb912,cosSecretId:_0x1c544b,cosSecretKey:_0x35d485,tencentCosAcceleratedDomain:_0x3dad03}=await this[_0x2bb74d(0x120)][_0x2bb74d(0xeb)](['cosBucket',_0x2bb74d(0x110),_0x2bb74d(0xd0),_0x2bb74d(0xc3),_0x2bb74d(0xea)]);return{'Bucket':_0x36049b,'Region':_0x3fb912,'SecretId':_0x1c544b,'SecretKey':_0x35d485,'acceleratedDomain':_0x3dad03};}if(_0x1e4dda===_0x2bb74d(0x119)){const {cheveretoKey:_0x577682,cheveretoUploadPath:_0x5197d6}=await this[_0x2bb74d(0x120)][_0x2bb74d(0xeb)](['cheveretoKey',_0x2bb74d(0xbb)]);return{'key':_0x577682,'uploadPath':_0x5197d6};}}async[_0x38c40b(0xc2)](){const _0x271ad3=_0x38c40b,_0x211d31={'filename':_0x271ad3(0xe8),'dir':'mj','url':'https://cdn.discordapp.com/attachments/1097409128491651135/1169910551275638855/snine_60b5c001b_A_young_girl_smiles_brightly_in_the_pure_blue_f_8a41fe5f-5101-4c1e-b948-a748a0583577.png?ex=65571f1b&is=6544aa1b&hm=b82f2d88224eb7942e24c63a8e519c7693de12a2b96daa0f327dfb8f691b1480&'},_0x45a4b7=await this[_0x271ad3(0x11f)](_0x211d31);return console[_0x271ad3(0x116)](_0x271ad3(0x11c),_0x45a4b7),_0x45a4b7;}async['getBufferFromUrl'](_0x2cc97c){const _0x3ad559=_0x38c40b,_0x7396ca=await this['globalConfigService'][_0x3ad559(0xeb)]([_0x3ad559(0x11a)])||0x0,_0x58ce49=await axios_1['default']['get'](_0x2cc97c,{'responseType':_0x3ad559(0x111)});return new Promise((_0xd657d3,_0x55c00c)=>{const _0x386d2c=_0x3ad559;streamToBuffer(_0x58ce49[_0x386d2c(0x101)],(_0x2d643a,_0x110129)=>{const _0x1b4885=_0x386d2c;if(_0x2d643a)throw new common_1[(_0x1b4885(0xcd))](_0x1b4885(0xc0),common_1[_0x1b4885(0xd8)][_0x1b4885(0xf4)]);else _0xd657d3(_0x110129);});});}};UploadService=__decorate([(0x0,common_1[_0x38c40b(0xf5)])(),__metadata(_0x38c40b(0x109),[globalConfig_service_1[_0x38c40b(0xef)]])],UploadService),exports['UploadService']=UploadService;