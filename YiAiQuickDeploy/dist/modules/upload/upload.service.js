'use strict';function _0x3cbe(){const _0x3a21ab=['1149636qYXvLj','test','debug','mjdev','message','获取图片资源失败、请重新试试吧！','https://cdn.discordapp.com/attachments/1097409128491651135/1169910551275638855/snine_60b5c001b_A_young_girl_smiles_brightly_in_the_pure_blue_f_8a41fe5f-5101-4c1e-b948-a748a0583577.png?ex=65571f1b&is=6544aa1b&hm=b82f2d88224eb7942e24c63a8e519c7693de12a2b96daa0f327dfb8f691b1480&','8hITWZO','20187115Dbpsds','699240gFbXvk','aliOssStatus','cheveretoKey','error','function','Injectable','上传图片失败[ten]','TODO->error:\x20\x20','then','ali\x20开始上传','key','16097310VYSfUX','cosRegion','design:paramtypes','getUploadType','createRandomUid','../globalConfig/globalConfig.service','png','上传图片失败[ali]','globalConfigService','response','status','tencent','使用Chevereto上传','请先前往后台配置上传图片的方式','@nestjs/common','2LdCiUZ','get','1199NOZPjp','image','onModuleInit','post','UploadService','slice','replace','uploadFileFromUrl','split','uploadFileByCheveretoFromUrl','ali','metadata','aliOssAccessKeySecret','getConfigs','stringify','catch','decorate','3094028seKdOE','21970yroEBV','HttpException','上传图片失败[ALI][url]','__metadata','12gdzFdc','axios','cheveretoUploadPath','当前已开启全球加速----------------->','cos-nodejs-sdk-v5','error:\x20','object','GlobalConfigService','ali-oss','url','上传图片失败[Chevereto][url]','Chevereto\x20--->\x20res','cosSecretId','mjProxyUrl','length','uploadFileByTencentCosFromUrl','append','uploadFileByAliOssFromUrl','Logger','使用腾讯云COS上传',',\x20阿里云:\x20','env','cos\x20->\x20err:\x20','log','BAD_REQUEST','http://172.247.48.137:8000','../../common/utils','上传图片失败[ten][url]','6TRWxuN','data','准备上传文件:\x20','defineProperty','上传失败:\x20','uploadFileByAliOss','35abfsPJ','cheveretoStatus','uploadFileByChevereto','mjtest.png','tencentCos','getUploadConfig','getBufferFromUrl','endsWith','/mj/replaceUpload','default',',\x20类型:\x20','stream','Location','aliOssAccessKeyId',',\x20Chevereto:\x20','8576764Jpghwc','__esModule','HttpStatus','__decorate','mjProxy','code','toString','put','chevereto','source','removeSpecialCharacters','getOwnPropertyDescriptor','base64','uploadFileByTencentCos','STANDARD','tencentCosStatus'];_0x3cbe=function(){return _0x3a21ab;};return _0x3cbe();}const _0xaf9298=_0x3c7c;(function(_0x2cbe87,_0x1c0e1d){const _0xea51d2=_0x3c7c,_0xd396b3=_0x2cbe87();while(!![]){try{const _0x75b41a=-parseInt(_0xea51d2(0x99))/0x1*(parseInt(_0xea51d2(0xb3))/0x2)+parseInt(_0xea51d2(0xe7))/0x3*(parseInt(_0xea51d2(0xc6))/0x4)+-parseInt(_0xea51d2(0xed))/0x5*(-parseInt(_0xea51d2(0x10c))/0x6)+-parseInt(_0xea51d2(0xfc))/0x7*(parseInt(_0xea51d2(0x97))/0x8)+-parseInt(_0xea51d2(0xa4))/0x9+-parseInt(_0xea51d2(0xc7))/0xa*(-parseInt(_0xea51d2(0xb5))/0xb)+-parseInt(_0xea51d2(0xcb))/0xc*(-parseInt(_0xea51d2(0x98))/0xd);if(_0x75b41a===_0x1c0e1d)break;else _0xd396b3['push'](_0xd396b3['shift']());}catch(_0x40a480){_0xd396b3['push'](_0xd396b3['shift']());}}}(_0x3cbe,0xec34e));function _0x3c7c(_0x1a24da,_0x41e19f){const _0x3cbe39=_0x3cbe();return _0x3c7c=function(_0x3c7c10,_0x67240){_0x3c7c10=_0x3c7c10-0x93;let _0x281060=_0x3cbe39[_0x3c7c10];return _0x281060;},_0x3c7c(_0x1a24da,_0x41e19f);}var __decorate=this&&this[_0xaf9298(0xff)]||function(_0x2f579d,_0xca67d1,_0x1cb70d,_0x3ad375){const _0x2dc7d8=_0xaf9298;var _0xb83604=arguments[_0x2dc7d8(0xd9)],_0x18d61e=_0xb83604<0x3?_0xca67d1:_0x3ad375===null?_0x3ad375=Object[_0x2dc7d8(0x107)](_0xca67d1,_0x1cb70d):_0x3ad375,_0x4bdec6;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2dc7d8(0x9d))_0x18d61e=Reflect[_0x2dc7d8(0xc5)](_0x2f579d,_0xca67d1,_0x1cb70d,_0x3ad375);else{for(var _0x9febc9=_0x2f579d['length']-0x1;_0x9febc9>=0x0;_0x9febc9--)if(_0x4bdec6=_0x2f579d[_0x9febc9])_0x18d61e=(_0xb83604<0x3?_0x4bdec6(_0x18d61e):_0xb83604>0x3?_0x4bdec6(_0xca67d1,_0x1cb70d,_0x18d61e):_0x4bdec6(_0xca67d1,_0x1cb70d))||_0x18d61e;}return _0xb83604>0x3&&_0x18d61e&&Object['defineProperty'](_0xca67d1,_0x1cb70d,_0x18d61e),_0x18d61e;},__metadata=this&&this[_0xaf9298(0xca)]||function(_0x11102a,_0x34eca7){const _0x4cc72e=_0xaf9298;if(typeof Reflect===_0x4cc72e(0xd1)&&typeof Reflect[_0x4cc72e(0xc0)]===_0x4cc72e(0x9d))return Reflect[_0x4cc72e(0xc0)](_0x11102a,_0x34eca7);};Object[_0xaf9298(0xea)](exports,_0xaf9298(0xfd),{'value':!![]}),exports[_0xaf9298(0xb9)]=void 0x0;const common_1=require(_0xaf9298(0xb2)),TENCENTCOS=require(_0xaf9298(0xcf)),ALIOSS=require(_0xaf9298(0xd3)),axios_1=require(_0xaf9298(0xcc)),streamToBuffer=require('stream-to-buffer'),utils_1=require(_0xaf9298(0xe5)),globalConfig_service_1=require(_0xaf9298(0xa9)),FormData=require('form-data');let UploadService=class UploadService{constructor(_0x2610d1){const _0x41f2da=_0xaf9298;this[_0x41f2da(0xac)]=_0x2610d1;}[_0xaf9298(0xb7)](){}async['uploadFile'](_0x228a9c){const _0x438914=_0xaf9298,{filename:_0x16b529,originalname:_0x23de06,buffer:_0x3e6719,dir:dir='ai',mimetype:_0x1e7dba}=_0x228a9c,_0x57c930=_0x1e7dba?_0x1e7dba[_0x438914(0xbd)]('/')[0x1]:'',_0x40736f=_0x23de06||_0x16b529;common_1[_0x438914(0xdd)][_0x438914(0x10e)](_0x438914(0xe9)+_0x40736f+_0x438914(0xf7)+_0x57c930,_0x438914(0xb9));const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x438914(0xac)]['getConfigs']([_0x438914(0x10b),_0x438914(0x9a),_0x438914(0xee)]);common_1['Logger'][_0x438914(0x10e)]('上传配置状态\x20-\x20腾讯云:\x20'+tencentCosStatus+_0x438914(0xdf)+aliOssStatus+_0x438914(0xfb)+cheveretoStatus,'UploadService');if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x438914(0xc8))](_0x438914(0xb1),common_1[_0x438914(0xfe)][_0x438914(0xe3)]);try{if(Number(tencentCosStatus))return common_1[_0x438914(0xdd)][_0x438914(0x10e)](_0x438914(0xde),_0x438914(0xb9)),await this[_0x438914(0x109)]({'filename':_0x40736f,'buffer':_0x3e6719,'dir':dir,'fileTyle':_0x57c930});if(Number(aliOssStatus))return common_1[_0x438914(0xdd)][_0x438914(0x10e)]('使用阿里云OSS上传',_0x438914(0xb9)),await this[_0x438914(0xec)]({'filename':_0x40736f,'buffer':_0x3e6719,'dir':dir,'fileTyle':_0x57c930});if(Number(cheveretoStatus)){common_1[_0x438914(0xdd)]['debug'](_0x438914(0xb0),'UploadService');const {filename:_0x1b1437,buffer:_0x192309,dir:_0x58edfe}=_0x228a9c;return await this[_0x438914(0xef)]({'filename':_0x1b1437,'buffer':_0x192309[_0x438914(0x102)](_0x438914(0x108)),'dir':_0x58edfe,'fileTyle':_0x57c930});}}catch(_0x292ba3){common_1['Logger'][_0x438914(0x9c)](_0x438914(0xeb)+_0x292ba3[_0x438914(0x94)],'UploadService');throw _0x292ba3;}}async[_0xaf9298(0xa7)](){const _0x18944b=_0xaf9298,{tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this['globalConfigService'][_0x18944b(0xc2)](['tencentCosStatus',_0x18944b(0x9a),_0x18944b(0xee)]);if(Number(tencentCosStatus))return _0x18944b(0xaf);if(Number(aliOssStatus))return _0x18944b(0xbf);if(Number(cheveretoStatus))return'chevereto';}async[_0xaf9298(0xbc)]({filename:_0x33628e,url:_0x39104f,dir:dir='mj'}){const _0x3058aa=_0xaf9298;dir=process[_0x3058aa(0xe0)]['ISDEV']?_0x3058aa(0x93):dir;const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x3058aa(0xac)][_0x3058aa(0xc2)]([_0x3058aa(0x10b),_0x3058aa(0x9a),'cheveretoStatus']);if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1['HttpException'](_0x3058aa(0xb1),common_1[_0x3058aa(0xfe)][_0x3058aa(0xe3)]);if(Number(tencentCosStatus))return this['uploadFileByTencentCosFromUrl']({'filename':_0x33628e,'url':_0x39104f,'dir':dir});if(Number(aliOssStatus)){const _0x4e7684=await this[_0x3058aa(0xdc)]({'filename':_0x33628e,'url':_0x39104f,'dir':dir});return _0x4e7684;}if(Number(cheveretoStatus))return await this['uploadFileByCheveretoFromUrl']({'filename':_0x33628e,'url':_0x39104f,'dir':dir});}async[_0xaf9298(0x109)]({filename:_0x31e350,buffer:_0x5cecd7,dir:_0x28b45d,fileTyle:_0x20332d}){const _0x388868=_0xaf9298,{Bucket:_0x2551d9,Region:_0x24a6c6,SecretId:_0x7db332,SecretKey:_0x123316}=await this[_0x388868(0xf2)]('tencent');this[_0x388868(0xf1)]=new TENCENTCOS({'SecretId':_0x7db332,'SecretKey':_0x123316,'FileParallelLimit':0xa});try{return new Promise(async(_0x557a93,_0x56c1ed)=>{const _0x58796a=_0x388868,_0x597984=_0x20332d||_0x58796a(0xaa);this[_0x58796a(0xf1)]['putObject']({'Bucket':(0x0,utils_1[_0x58796a(0x106)])(_0x2551d9),'Region':(0x0,utils_1[_0x58796a(0x106)])(_0x24a6c6),'Key':_0x28b45d+'/'+(_0x31e350||(0x0,utils_1[_0x58796a(0xa8)])()+'.'+_0x20332d),'StorageClass':_0x58796a(0x10a),'Body':_0x5cecd7},async(_0x32adc7,_0x391d1c)=>{const _0x3154de=_0x58796a;if(_0x32adc7)return console[_0x3154de(0xe2)](_0x3154de(0xe1),_0x32adc7),_0x56c1ed(_0x32adc7);let _0x511ab1=_0x391d1c[_0x3154de(0xf9)][_0x3154de(0xbb)](/^(http:\/\/|https:\/\/|\/\/|)(.*)/,'https://$2');const {acceleratedDomain:_0x1abc69}=await this[_0x3154de(0xf2)](_0x3154de(0xaf));return _0x1abc69&&(_0x511ab1=_0x511ab1[_0x3154de(0xbb)](/^(https:\/\/[^/]+)(\/.*)$/,'https://'+_0x1abc69+'$2'),console['log'](_0x3154de(0xce),_0x511ab1)),_0x557a93(_0x511ab1);});});}catch(_0x3f2e58){console[_0x388868(0xe2)](_0x388868(0xd0),_0x3f2e58);throw new common_1[(_0x388868(0xc8))](_0x388868(0x9f),common_1[_0x388868(0xfe)][_0x388868(0xe3)]);}}async[_0xaf9298(0xda)]({filename:_0x33556f,url:_0xec59d3,dir:_0x494c56}){const _0x19aed4=_0xaf9298,{Bucket:_0x3ae786,Region:_0x1fd515,SecretId:_0x47e429,SecretKey:_0x118359}=await this[_0x19aed4(0xf2)]('tencent');this[_0x19aed4(0xf1)]=new TENCENTCOS({'SecretId':_0x47e429,'SecretKey':_0x118359,'FileParallelLimit':0xa});try{const _0xbd5fd9=await this[_0x19aed4(0xac)]['getConfigs']([_0x19aed4(0x100)])||0x0,_0x323186=await this[_0x19aed4(0xf3)](_0xec59d3);return await this[_0x19aed4(0x109)]({'filename':_0x33556f,'buffer':_0x323186,'dir':_0x494c56,'fileTyle':''});}catch(_0x3c39c5){console[_0x19aed4(0xe2)](_0x19aed4(0xa0),_0x3c39c5);throw new common_1[(_0x19aed4(0xc8))](_0x19aed4(0xe6),common_1[_0x19aed4(0xfe)]['BAD_REQUEST']);}}async[_0xaf9298(0xec)]({filename:_0x1620c0,buffer:_0x5bd5f0,dir:_0x45bb9d,fileTyle:fileTyle=_0xaf9298(0xaa)}){const _0x1718cc=_0xaf9298,{region:_0x5d500c,bucket:_0x287ff5,accessKeyId:_0x44cc96,accessKeySecret:_0x56e9f3}=await this[_0x1718cc(0xf2)]('ali'),_0x34d291=new ALIOSS({'region':(0x0,utils_1['removeSpecialCharacters'])(_0x5d500c),'accessKeyId':_0x44cc96,'accessKeySecret':_0x56e9f3,'bucket':(0x0,utils_1[_0x1718cc(0x106)])(_0x287ff5)});try{return console[_0x1718cc(0xe2)](_0x1718cc(0xa2)),new Promise((_0x3e1d8f,_0x14df4f)=>{const _0x160760=_0x1718cc;_0x34d291[_0x160760(0x103)](_0x45bb9d+'/'+(_0x1620c0||(0x0,utils_1['createRandomUid'])()+'.'+fileTyle),_0x5bd5f0)[_0x160760(0xa1)](_0x5cccde=>{const _0x409dfd=_0x160760;_0x3e1d8f(_0x5cccde[_0x409dfd(0xd4)]);})[_0x160760(0xc4)](_0x691734=>{_0x14df4f(_0x691734);});});}catch(_0x2a812f){throw new common_1[(_0x1718cc(0xc8))](_0x1718cc(0xab),common_1['HttpStatus'][_0x1718cc(0xe3)]);}}async['uploadFileByAliOssFromUrl']({filename:_0x1f40c3,url:_0x173232,dir:_0x103858}){const _0x31cf7d=_0xaf9298,{region:_0x5b49ea,bucket:_0x5cdf02,accessKeyId:_0x22e6a8,accessKeySecret:_0x1646fb}=await this[_0x31cf7d(0xf2)](_0x31cf7d(0xbf)),_0x297917=new ALIOSS({'region':_0x5b49ea,'accessKeyId':_0x22e6a8,'accessKeySecret':_0x1646fb,'bucket':_0x5cdf02});try{const _0x852a72=await this['globalConfigService'][_0x31cf7d(0xc2)]([_0x31cf7d(0x100)])||0x0;if(Number(_0x852a72)===0x1){const _0x38cc98={'url':_0x173232,'cosParams':{'region':_0x5b49ea,'bucket':_0x5cdf02,'accessKeyId':_0x22e6a8,'accessKeySecret':_0x1646fb},'cosType':'aliyun'},_0x106436=await this['globalConfigService']['getConfigs']([_0x31cf7d(0xd8)])||_0x31cf7d(0xe4),_0x3b67f3=await axios_1[_0x31cf7d(0xf6)]['post'](_0x106436+_0x31cf7d(0xf5),_0x38cc98);if(!(_0x3b67f3===null||_0x3b67f3===void 0x0?void 0x0:_0x3b67f3[_0x31cf7d(0xe8)]))throw new common_1['HttpException'](_0x31cf7d(0xc9),common_1['HttpStatus']['BAD_REQUEST']);return _0x3b67f3[_0x31cf7d(0xe8)];}else{const _0x3a6f7b=await this['getBufferFromUrl'](_0x173232);return await this[_0x31cf7d(0xec)]({'filename':_0x1f40c3,'buffer':_0x3a6f7b,'dir':_0x103858});}}catch(_0x569b1b){throw new common_1[(_0x31cf7d(0xc8))](_0x31cf7d(0xc9),common_1['HttpStatus'][_0x31cf7d(0xe3)]);}}async[_0xaf9298(0xef)]({filename:filename='',buffer:_0x417f14,dir:dir='ai',fileTyle:fileTyle='png'}){const _0x19cd31=_0xaf9298;var _0x1b1dfe;const {key:_0x288728,uploadPath:_0x2eb238}=await this[_0x19cd31(0xf2)]('chevereto');let _0xcdc752=_0x2eb238[_0x19cd31(0xf4)]('/')?_0x2eb238[_0x19cd31(0xba)](0x0,-0x1):_0x2eb238;const _0x157cc0=new FormData();_0x157cc0[_0x19cd31(0xdb)](_0x19cd31(0x105),_0x417f14),_0x157cc0['append'](_0x19cd31(0xa3),_0x288728);try{const _0x4840ca=await axios_1[_0x19cd31(0xf6)][_0x19cd31(0xb8)](_0xcdc752,_0x157cc0,{'headers':{'X-API-Key':_0x288728}});if((_0x4840ca===null||_0x4840ca===void 0x0?void 0x0:_0x4840ca[_0x19cd31(0xae)])===0xc8)return _0x4840ca['data'][_0x19cd31(0xb6)][_0x19cd31(0xd4)];else console[_0x19cd31(0xe2)](_0x19cd31(0xd6),_0x4840ca===null||_0x4840ca===void 0x0?void 0x0:_0x4840ca['data'][_0x19cd31(0x101)],_0x4840ca===null||_0x4840ca===void 0x0?void 0x0:_0x4840ca[_0x19cd31(0xe8)][_0x19cd31(0x9c)][_0x19cd31(0x94)]),common_1[_0x19cd31(0xdd)][_0x19cd31(0x9c)]('上传图片失败[Chevereto]',JSON[_0x19cd31(0xc3)](_0x4840ca[_0x19cd31(0xe8)]));}catch(_0x3d06ca){console[_0x19cd31(0xe2)](_0x19cd31(0xd0),_0x3d06ca);throw new common_1[(_0x19cd31(0xc8))]('上传图片失败[Chevereto|buffer]\x20-->\x20'+((_0x1b1dfe=_0x3d06ca[_0x19cd31(0xad)])===null||_0x1b1dfe===void 0x0?void 0x0:_0x1b1dfe[_0x19cd31(0xe8)]['error'][_0x19cd31(0x94)]),common_1[_0x19cd31(0xfe)][_0x19cd31(0xe3)]);}}async[_0xaf9298(0xbe)]({filename:_0x2a26f7,url:_0x595332,dir:_0x1ed697}){const _0x3b82d1=_0xaf9298;try{const _0x50407e=await this[_0x3b82d1(0xac)][_0x3b82d1(0xc2)]([_0x3b82d1(0x100)])||0x0;if(Number(_0x50407e)===0x1){const {key:_0x34afa8,uploadPath:_0x153961}=await this[_0x3b82d1(0xf2)](_0x3b82d1(0x104));let _0x232118=_0x153961[_0x3b82d1(0xf4)]('/')?_0x153961[_0x3b82d1(0xba)](0x0,-0x1):_0x153961;const _0x3ed50b={'cosType':_0x3b82d1(0x104),'url':_0x595332,'cosParams':{'key':_0x34afa8,'uploadPath':_0x232118}},_0x5f351e=await this[_0x3b82d1(0xac)]['getConfigs']([_0x3b82d1(0xd8)])||_0x3b82d1(0xe4),_0x250e97=await axios_1[_0x3b82d1(0xf6)][_0x3b82d1(0xb8)](_0x5f351e+_0x3b82d1(0xf5),_0x3ed50b);if(!_0x250e97[_0x3b82d1(0xe8)])throw new common_1[(_0x3b82d1(0xc8))](_0x3b82d1(0xd5),common_1[_0x3b82d1(0xfe)][_0x3b82d1(0xe3)]);return _0x250e97[_0x3b82d1(0xe8)];}else{const _0xeb503f=await this[_0x3b82d1(0xf3)](_0x595332);return await this[_0x3b82d1(0xef)]({'filename':_0x2a26f7,'buffer':_0xeb503f,'dir':_0x1ed697});}}catch(_0x154549){console[_0x3b82d1(0xe2)](_0x3b82d1(0xd0),_0x154549);throw new common_1[(_0x3b82d1(0xc8))](_0x154549[_0x3b82d1(0xad)],common_1[_0x3b82d1(0xfe)]['BAD_REQUEST']);}}async['getUploadConfig'](_0x47144c){const _0xdfabe3=_0xaf9298;if(_0x47144c===_0xdfabe3(0xbf)){const {aliOssRegion:_0x6930e6,aliOssBucket:_0x2c589b,aliOssAccessKeyId:_0x2f6404,aliOssAccessKeySecret:_0x173488}=await this['globalConfigService']['getConfigs'](['aliOssRegion','aliOssBucket',_0xdfabe3(0xfa),_0xdfabe3(0xc1)]);return{'region':_0x6930e6,'bucket':_0x2c589b,'accessKeyId':_0x2f6404,'accessKeySecret':_0x173488};}if(_0x47144c===_0xdfabe3(0xaf)){const {cosBucket:_0x2ce635,cosRegion:_0x393d69,cosSecretId:_0x4885e1,cosSecretKey:_0x13dcc8,tencentCosAcceleratedDomain:_0x2efc7a}=await this[_0xdfabe3(0xac)][_0xdfabe3(0xc2)](['cosBucket',_0xdfabe3(0xa5),_0xdfabe3(0xd7),'cosSecretKey','tencentCosAcceleratedDomain']);return{'Bucket':_0x2ce635,'Region':_0x393d69,'SecretId':_0x4885e1,'SecretKey':_0x13dcc8,'acceleratedDomain':_0x2efc7a};}if(_0x47144c===_0xdfabe3(0x104)){const {cheveretoKey:_0x46d3e2,cheveretoUploadPath:_0x21d092}=await this[_0xdfabe3(0xac)][_0xdfabe3(0xc2)]([_0xdfabe3(0x9b),_0xdfabe3(0xcd)]);return{'key':_0x46d3e2,'uploadPath':_0x21d092};}}async[_0xaf9298(0x10d)](){const _0x43468e=_0xaf9298,_0x567408={'filename':_0x43468e(0xf0),'dir':'mj','url':_0x43468e(0x96)},_0x2626be=await this[_0x43468e(0xbc)](_0x567408);return console[_0x43468e(0xe2)]('res:\x20',_0x2626be),_0x2626be;}async[_0xaf9298(0xf3)](_0x2f0a74){const _0x3db7f8=_0xaf9298,_0xc4b035=await this[_0x3db7f8(0xac)][_0x3db7f8(0xc2)]([_0x3db7f8(0x100)])||0x0,_0x46cc00=await axios_1[_0x3db7f8(0xf6)][_0x3db7f8(0xb4)](_0x2f0a74,{'responseType':_0x3db7f8(0xf8)});return new Promise((_0x274565,_0x346b51)=>{const _0x50b336=_0x3db7f8;streamToBuffer(_0x46cc00[_0x50b336(0xe8)],(_0x4723d5,_0x413506)=>{const _0x2487d0=_0x50b336;if(_0x4723d5)throw new common_1[(_0x2487d0(0xc8))](_0x2487d0(0x95),common_1[_0x2487d0(0xfe)]['BAD_REQUEST']);else _0x274565(_0x413506);});});}};UploadService=__decorate([(0x0,common_1[_0xaf9298(0x9e)])(),__metadata(_0xaf9298(0xa6),[globalConfig_service_1[_0xaf9298(0xd2)]])],UploadService),exports[_0xaf9298(0xb9)]=UploadService;