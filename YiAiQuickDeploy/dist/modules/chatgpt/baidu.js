'use strict';const _0xc18a7c=_0x1212;(function(_0x46a208,_0x49092b){const _0x20f81e=_0x1212,_0x2868d6=_0x46a208();while(!![]){try{const _0x35da52=-parseInt(_0x20f81e(0x1f6))/0x1*(-parseInt(_0x20f81e(0x1f5))/0x2)+parseInt(_0x20f81e(0x1eb))/0x3+-parseInt(_0x20f81e(0x1f4))/0x4+-parseInt(_0x20f81e(0x1f7))/0x5*(-parseInt(_0x20f81e(0x1f9))/0x6)+parseInt(_0x20f81e(0x204))/0x7+-parseInt(_0x20f81e(0x202))/0x8*(parseInt(_0x20f81e(0x206))/0x9)+-parseInt(_0x20f81e(0x1f2))/0xa*(parseInt(_0x20f81e(0x1ef))/0xb);if(_0x35da52===_0x49092b)break;else _0x2868d6['push'](_0x2868d6['shift']());}catch(_0x4c93da){_0x2868d6['push'](_0x2868d6['shift']());}}}(_0x2d4b,0xa1eb0));function _0x2d4b(){const _0x2a2e25=['qianfan_chinese_llama_2_7b','then','end','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','replace','8vLskMk','llama_2_7b','3618216xdJlNt','keys','6829623TwcXCu','filter','eb-instant','split','trim','toLowerCase','defineProperty','POST','bloomz_7b1','&client_secret=','data','3534864PGTSBg','map','getAccessToken','parse','13893GeyXOo','axios','toString','5410zmSJgg','catch','2324636OmVthv','4PVJVOW','357605eJeqbo','355QDpfLl','completions_pro','23334rUKcSi','stream','sendMessageFromBaidu','post'];_0x2d4b=function(){return _0x2a2e25;};return _0x2d4b();}Object[_0xc18a7c(0x1e6)](exports,'__esModule',{'value':!![]}),exports['sendMessageFromBaidu']=exports[_0xc18a7c(0x1ed)]=void 0x0;const axios=require(_0xc18a7c(0x1f0)),getApiModelMaps=()=>{const _0x33672c=_0xc18a7c;let _0x43c122={};const _0x43b416={'ERNIE-Bot':'completions','ERNIE-Bot-turbo':_0x33672c(0x208),'BLOOMZ-7B':_0x33672c(0x1e8),'ERNIE-Bot-4':_0x33672c(0x1f8),'Llama-2-7b-chat':_0x33672c(0x203),'Llama-2-13b-chat':'llama_2_13b','ChatGLM2-6B-32K':'chatglm2_6b_32k','Qianfan-Chinese-Llama-2-7B':_0x33672c(0x1fd)};return Object[_0x33672c(0x205)](_0x43b416)[_0x33672c(0x1ec)](_0x2c3d84=>{const _0x4b08d4=_0x33672c;_0x43c122[''+_0x2c3d84[_0x4b08d4(0x1e5)]()]=_0x43b416[_0x2c3d84];}),_0x43c122;};function getAccessToken(_0x38597e,_0x524ea7){const _0x1ca437=_0xc18a7c;let _0x1ce274='https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='+_0x38597e+_0x1ca437(0x1e9)+_0x524ea7;return new Promise((_0x4f4937,_0x3f8bd5)=>{const _0x58d8b1=_0x1ca437;axios[_0x58d8b1(0x1fc)](_0x1ce274)[_0x58d8b1(0x1fe)](_0x1b74c4=>{const _0x5cbb21=_0x58d8b1;_0x4f4937(_0x1b74c4[_0x5cbb21(0x1ea)]['access_token']);})[_0x58d8b1(0x1f3)](_0x450c31=>{_0x3f8bd5(_0x450c31);});});}exports['getAccessToken']=getAccessToken;function _0x1212(_0x5c9983,_0x2c7db3){const _0x2d4bdf=_0x2d4b();return _0x1212=function(_0x1212f9,_0x1c843e){_0x1212f9=_0x1212f9-0x1e5;let _0x874c04=_0x2d4bdf[_0x1212f9];return _0x874c04;},_0x1212(_0x5c9983,_0x2c7db3);}function sendMessageFromBaidu(_0x36bd4b,{onProgress:_0xe6aa6c,accessToken:_0x11840d,model:_0x48a020,temperature:temperature=0.95}){const _0xf71090=_0xc18a7c,_0x35e155=getApiModelMaps()[_0x48a020[_0xf71090(0x20a)]()[_0xf71090(0x1e5)]()];return new Promise((_0x5db6a7,_0x400a82)=>{const _0x1771fc=_0xf71090,_0x431245=_0x1771fc(0x200)+_0x35e155+'?access_token='+_0x11840d;var _0x5381a3={'method':_0x1771fc(0x1e7),'url':_0x431245,'responseType':_0x1771fc(0x1fa),'headers':{'Content-Type':'application/json'},'data':{'stream':!![],'messages':_0x36bd4b}};axios(_0x5381a3)[_0x1771fc(0x1fe)](_0x2996e2=>{const _0x35620c=_0x1771fc,_0x46576b=_0x2996e2[_0x35620c(0x1ea)];let _0x2faf99={},_0x1e73a2='',_0x36d9d8='';_0x46576b['on']('data',_0x319e8c=>{const _0xfad5ba=_0x35620c,_0x3e0c94=_0x319e8c[_0xfad5ba(0x1f1)]()[_0xfad5ba(0x209)]('\x0a\x0a')[_0xfad5ba(0x207)](_0x484e4a=>_0x484e4a['trim']()!=='');for(const _0x7262c6 of _0x3e0c94){const _0x22c4b4=_0x7262c6[_0xfad5ba(0x201)]('data:\x20','');try{const _0x22af68=_0x1e73a2+_0x22c4b4,_0x591926=JSON[_0xfad5ba(0x1ee)](_0x22af68);_0x1e73a2='';const {is_end:_0x29112b,result:_0x5e09e7}=_0x591926;_0x5e09e7&&(_0x36d9d8+=_0x5e09e7),_0x29112b&&(_0x2faf99=_0x591926,_0x2faf99['text']=_0x36d9d8),_0xe6aa6c(_0x591926);}catch(_0x1d61a6){_0x1e73a2=_0x22c4b4;}}}),_0x46576b['on'](_0x35620c(0x1ff),()=>{_0x36d9d8='',_0x1e73a2='',_0x5db6a7(_0x2faf99);});})['catch'](_0x22e059=>{_0x400a82(new Error(_0x22e059));});});}exports[_0xc18a7c(0x1fb)]=sendMessageFromBaidu;