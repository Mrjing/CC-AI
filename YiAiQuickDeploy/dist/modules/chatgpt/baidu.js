'use strict';function _0x4f8c(){const _0x2b888d=['chatglm2_6b_32k','defineProperty','__esModule','map','&client_secret=','stream','filter','keys','end','text','completions_pro','1354338oylqNE','?access_token=','replace','axios','POST','276180agmulJ','getAccessToken','trim','eb-instant','1526188oJtVjM','7388488enyyqT','852150uqZTWV','toLowerCase','238358lalsQS','toString','split','data','bloomz_7b1','qianfan_chinese_llama_2_7b','then','completions','10bEwzit','sendMessageFromBaidu','1179675GknKIj','llama_2_13b','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','access_token'];_0x4f8c=function(){return _0x2b888d;};return _0x4f8c();}const _0x1c9ccb=_0x431a;(function(_0x1df45e,_0x7c00ec){const _0x281193=_0x431a,_0xd66251=_0x1df45e();while(!![]){try{const _0x24eb05=-parseInt(_0x281193(0xee))/0x1+-parseInt(_0x281193(0xf6))/0x2+parseInt(_0x281193(0xe9))/0x3+-parseInt(_0x281193(0xf2))/0x4+parseInt(_0x281193(0xd8))/0x5*(-parseInt(_0x281193(0xf4))/0x6)+parseInt(_0x281193(0xda))/0x7+parseInt(_0x281193(0xf3))/0x8;if(_0x24eb05===_0x7c00ec)break;else _0xd66251['push'](_0xd66251['shift']());}catch(_0x33b9bb){_0xd66251['push'](_0xd66251['shift']());}}}(_0x4f8c,0x75d10));function _0x431a(_0x4e5458,_0x52d0be){const _0x4f8cd8=_0x4f8c();return _0x431a=function(_0x431a9e,_0x55ca40){_0x431a9e=_0x431a9e-0xd4;let _0x26511a=_0x4f8cd8[_0x431a9e];return _0x26511a;},_0x431a(_0x4e5458,_0x52d0be);}Object[_0x1c9ccb(0xdf)](exports,_0x1c9ccb(0xe0),{'value':!![]}),exports[_0x1c9ccb(0xd9)]=exports[_0x1c9ccb(0xef)]=void 0x0;const axios=require(_0x1c9ccb(0xec)),getApiModelMaps=()=>{const _0x3f3c99=_0x1c9ccb;let _0x4d2988={};const _0x2c2f05={'ERNIE-Bot':_0x3f3c99(0xd7),'ERNIE-Bot-turbo':_0x3f3c99(0xf1),'BLOOMZ-7B':_0x3f3c99(0xd4),'ERNIE-Bot-4':_0x3f3c99(0xe8),'Llama-2-7b-chat':'llama_2_7b','Llama-2-13b-chat':_0x3f3c99(0xdb),'ChatGLM2-6B-32K':_0x3f3c99(0xde),'Qianfan-Chinese-Llama-2-7B':_0x3f3c99(0xd5)};return Object[_0x3f3c99(0xe5)](_0x2c2f05)[_0x3f3c99(0xe1)](_0x425418=>{const _0x5a4965=_0x3f3c99;_0x4d2988[''+_0x425418[_0x5a4965(0xf5)]()]=_0x2c2f05[_0x425418];}),_0x4d2988;};function getAccessToken(_0xef0947,_0x27b825){const _0x5b69f1=_0x1c9ccb;let _0x2a5d9f='https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='+_0xef0947+_0x5b69f1(0xe2)+_0x27b825;return new Promise((_0x2fc6d3,_0x162caa)=>{const _0x3c849c=_0x5b69f1;axios['post'](_0x2a5d9f)[_0x3c849c(0xd6)](_0x41ac7b=>{const _0x517c55=_0x3c849c;_0x2fc6d3(_0x41ac7b[_0x517c55(0xf9)][_0x517c55(0xdd)]);})['catch'](_0x146974=>{_0x162caa(_0x146974);});});}exports[_0x1c9ccb(0xef)]=getAccessToken;function sendMessageFromBaidu(_0x3a77eb,{onProgress:_0x236fe4,accessToken:_0x1f5243,model:_0x5d9fe1,temperature:temperature=0.95}){const _0x55ffa0=_0x1c9ccb,_0x5aed55=getApiModelMaps()[_0x5d9fe1[_0x55ffa0(0xf0)]()[_0x55ffa0(0xf5)]()];return new Promise((_0x1a66a5,_0x4cf811)=>{const _0x37daf6=_0x55ffa0,_0x3b10b8=_0x37daf6(0xdc)+_0x5aed55+_0x37daf6(0xea)+_0x1f5243;var _0xeb3cee={'method':_0x37daf6(0xed),'url':_0x3b10b8,'responseType':_0x37daf6(0xe3),'headers':{'Content-Type':'application/json'},'data':{'stream':!![],'messages':_0x3a77eb}};axios(_0xeb3cee)[_0x37daf6(0xd6)](_0x410fe6=>{const _0x56eac1=_0x37daf6,_0x11867b=_0x410fe6[_0x56eac1(0xf9)];let _0x467d78={},_0x575e27='',_0x26a3ea='';_0x11867b['on']('data',_0x4dcd51=>{const _0x50d700=_0x56eac1,_0x440195=_0x4dcd51[_0x50d700(0xf7)]()[_0x50d700(0xf8)]('\x0a\x0a')[_0x50d700(0xe4)](_0x163dea=>_0x163dea[_0x50d700(0xf0)]()!=='');for(const _0x538067 of _0x440195){const _0x1908a2=_0x538067[_0x50d700(0xeb)]('data:\x20','');try{const _0x22a156=_0x575e27+_0x1908a2,_0x53d71=JSON['parse'](_0x22a156);_0x575e27='';const {is_end:_0x244b12,result:_0x3171c9}=_0x53d71;_0x3171c9&&(_0x26a3ea+=_0x3171c9),_0x244b12&&(_0x467d78=_0x53d71,_0x467d78[_0x50d700(0xe7)]=_0x26a3ea),_0x236fe4(_0x53d71);}catch(_0x50622a){_0x575e27=_0x1908a2;}}}),_0x11867b['on'](_0x56eac1(0xe6),()=>{_0x26a3ea='',_0x575e27='',_0x1a66a5(_0x467d78);});})['catch'](_0x1b64e8=>{_0x4cf811(new Error(_0x1b64e8));});});}exports[_0x1c9ccb(0xd9)]=sendMessageFromBaidu;