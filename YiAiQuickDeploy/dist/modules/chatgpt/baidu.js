'use strict';const _0x4d8ade=_0xa77b;function _0x1fda(){const _0xf6c757=['3857410IMulqj','map','data:\x20','then','34uicLwa','end','23616BGnAXo','sendMessageFromBaidu','llama_2_13b','axios','keys','stream','getAccessToken','4632KGBTvg','1413OiewRC','access_token','qianfan_chinese_llama_2_7b','__esModule','filter','toLowerCase','99NuGmNJ','?access_token=','toString','6908455eQGoqI','application/json','llama_2_7b','POST','bloomz_7b1','catch','5184032TFCDSp','158667YVblfe','data','post','completions','defineProperty','1134TjvInl','trim','&client_secret=','833810dBvaDG'];_0x1fda=function(){return _0xf6c757;};return _0x1fda();}(function(_0xebeeac,_0x295295){const _0x2581f8=_0xa77b,_0x562139=_0xebeeac();while(!![]){try{const _0x3d7c40=-parseInt(_0x2581f8(0xde))/0x1+parseInt(_0x2581f8(0xe3))/0x2*(-parseInt(_0x2581f8(0xfd))/0x3)+parseInt(_0x2581f8(0xfc))/0x4+-parseInt(_0x2581f8(0xf6))/0x5+parseInt(_0x2581f8(0xe5))/0x6*(-parseInt(_0x2581f8(0xdb))/0x7)+-parseInt(_0x2581f8(0xec))/0x8*(parseInt(_0x2581f8(0xed))/0x9)+parseInt(_0x2581f8(0xdf))/0xa*(parseInt(_0x2581f8(0xf3))/0xb);if(_0x3d7c40===_0x295295)break;else _0x562139['push'](_0x562139['shift']());}catch(_0x428320){_0x562139['push'](_0x562139['shift']());}}}(_0x1fda,0xe1b70));function _0xa77b(_0xe77291,_0x3daf07){const _0x1fdab4=_0x1fda();return _0xa77b=function(_0xa77ba6,_0x29f6fb){_0xa77ba6=_0xa77ba6-0xd9;let _0x1701dc=_0x1fdab4[_0xa77ba6];return _0x1701dc;},_0xa77b(_0xe77291,_0x3daf07);}Object[_0x4d8ade(0xda)](exports,_0x4d8ade(0xf0),{'value':!![]}),exports[_0x4d8ade(0xe6)]=exports['getAccessToken']=void 0x0;const axios=require(_0x4d8ade(0xe8)),getApiModelMaps=()=>{const _0x3b87e3=_0x4d8ade;let _0x1a48b9={};const _0x30af1b={'ERNIE-Bot':_0x3b87e3(0xd9),'ERNIE-Bot-turbo':'eb-instant','BLOOMZ-7B':_0x3b87e3(0xfa),'ERNIE-Bot-4':'completions_pro','Llama-2-7b-chat':_0x3b87e3(0xf8),'Llama-2-13b-chat':_0x3b87e3(0xe7),'ChatGLM2-6B-32K':'chatglm2_6b_32k','Qianfan-Chinese-Llama-2-7B':_0x3b87e3(0xef)};return Object[_0x3b87e3(0xe9)](_0x30af1b)[_0x3b87e3(0xe0)](_0xd08d18=>{const _0x76cf5d=_0x3b87e3;_0x1a48b9[''+_0xd08d18[_0x76cf5d(0xf2)]()]=_0x30af1b[_0xd08d18];}),_0x1a48b9;};function getAccessToken(_0x57b722,_0x3f46c3){const _0x54042=_0x4d8ade;let _0x5e3bf7='https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='+_0x57b722+_0x54042(0xdd)+_0x3f46c3;return new Promise((_0x35f0cf,_0x92d9f6)=>{const _0x3d7183=_0x54042;axios[_0x3d7183(0xff)](_0x5e3bf7)[_0x3d7183(0xe2)](_0x833a9=>{const _0x385bc2=_0x3d7183;_0x35f0cf(_0x833a9[_0x385bc2(0xfe)][_0x385bc2(0xee)]);})[_0x3d7183(0xfb)](_0x91c40f=>{_0x92d9f6(_0x91c40f);});});}exports[_0x4d8ade(0xeb)]=getAccessToken;function sendMessageFromBaidu(_0x4790cb,{onProgress:_0x3809f1,accessToken:_0x4d42b2,model:_0x9eaf8a,temperature:temperature=0.95}){const _0x458fd7=_0x4d8ade,_0x2cc626=getApiModelMaps()[_0x9eaf8a[_0x458fd7(0xdc)]()['toLowerCase']()];return new Promise((_0x4768f2,_0x3fc4c9)=>{const _0x56e47f=_0x458fd7,_0x58f63f='https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/'+_0x2cc626+_0x56e47f(0xf4)+_0x4d42b2;var _0x2424c2={'method':_0x56e47f(0xf9),'url':_0x58f63f,'responseType':_0x56e47f(0xea),'headers':{'Content-Type':_0x56e47f(0xf7)},'data':{'stream':!![],'messages':_0x4790cb}};axios(_0x2424c2)[_0x56e47f(0xe2)](_0xb75fe0=>{const _0xb33067=_0x56e47f,_0x2474e5=_0xb75fe0['data'];let _0x2a9c1c={},_0x52866e='',_0x2ff67f='';_0x2474e5['on'](_0xb33067(0xfe),_0x574872=>{const _0x2bd96c=_0xb33067,_0x13addb=_0x574872[_0x2bd96c(0xf5)]()['split']('\x0a\x0a')[_0x2bd96c(0xf1)](_0x1382fe=>_0x1382fe['trim']()!=='');for(const _0x5df513 of _0x13addb){const _0x22a686=_0x5df513['replace'](_0x2bd96c(0xe1),'');try{const _0x159da7=_0x52866e+_0x22a686,_0x2f1a56=JSON['parse'](_0x159da7);_0x52866e='';const {is_end:_0x2ccd54,result:_0x25fb58}=_0x2f1a56;_0x25fb58&&(_0x2ff67f+=_0x25fb58),_0x2ccd54&&(_0x2a9c1c=_0x2f1a56,_0x2a9c1c['text']=_0x2ff67f),_0x3809f1(_0x2f1a56);}catch(_0x270cd2){_0x52866e=_0x22a686;}}}),_0x2474e5['on'](_0xb33067(0xe4),()=>{_0x2ff67f='',_0x52866e='',_0x4768f2(_0x2a9c1c);});})[_0x56e47f(0xfb)](_0x3733f9=>{_0x3fc4c9(new Error(_0x3733f9));});});}exports[_0x4d8ade(0xe6)]=sendMessageFromBaidu;