'use strict';const _0x56ac34=_0x3f90;function _0x359e(){const _0x231199=['data','application/x-www-form-urlencoded','660473dHnTLM','res:\x20','304632lkMTfg','11fufnrM','当前管理员还未开放翻译服务、请联系管理员开通吧!','function','design:paramtypes','baiduFanyiAppId','__metadata','getConfigs','https://fanyi-api.baidu.com/api/trans/vip/translate','axios','log','default','update','HttpException','post','globalConfigService','dst','Injectable','convertToEnglish','digest','715GiwAdH','GlobalConfigService','length','auto','2734120Djzvfv','BAD_REQUEST','FanyiService','baiduFanyiSecret','50tLlIHI','createHash','defineProperty','object','__decorate','decorate','now','67686JQylKk','2022wKszoe','翻译失败[','@nestjs/common','3305988YhuHYw','15PkGUIl','__esModule','crypto','toString','545496RHOUsp','metadata','HttpStatus'];_0x359e=function(){return _0x231199;};return _0x359e();}(function(_0x469597,_0x5151bb){const _0xdc980f=_0x3f90,_0x4ca5ae=_0x469597();while(!![]){try{const _0x53f911=parseInt(_0xdc980f(0xe5))/0x1*(-parseInt(_0xdc980f(0xd4))/0x2)+-parseInt(_0xdc980f(0xd9))/0x3*(-parseInt(_0xdc980f(0xe4))/0x4)+parseInt(_0xdc980f(0xc5))/0x5*(-parseInt(_0xdc980f(0xd5))/0x6)+-parseInt(_0xdc980f(0xdd))/0x7+-parseInt(_0xdc980f(0xc9))/0x8+parseInt(_0xdc980f(0xd8))/0x9+parseInt(_0xdc980f(0xcd))/0xa*(parseInt(_0xdc980f(0xe2))/0xb);if(_0x53f911===_0x5151bb)break;else _0x4ca5ae['push'](_0x4ca5ae['shift']());}catch(_0x5809fb){_0x4ca5ae['push'](_0x4ca5ae['shift']());}}}(_0x359e,0x32d34));var __decorate=this&&this[_0x56ac34(0xd1)]||function(_0x5c2204,_0x421669,_0x5c6107,_0xd5025a){const _0x32bc68=_0x56ac34;var _0x2c09d9=arguments['length'],_0x42bb35=_0x2c09d9<0x3?_0x421669:_0xd5025a===null?_0xd5025a=Object['getOwnPropertyDescriptor'](_0x421669,_0x5c6107):_0xd5025a,_0x14a791;if(typeof Reflect==='object'&&typeof Reflect[_0x32bc68(0xd2)]===_0x32bc68(0xb4))_0x42bb35=Reflect['decorate'](_0x5c2204,_0x421669,_0x5c6107,_0xd5025a);else{for(var _0x49db45=_0x5c2204[_0x32bc68(0xc7)]-0x1;_0x49db45>=0x0;_0x49db45--)if(_0x14a791=_0x5c2204[_0x49db45])_0x42bb35=(_0x2c09d9<0x3?_0x14a791(_0x42bb35):_0x2c09d9>0x3?_0x14a791(_0x421669,_0x5c6107,_0x42bb35):_0x14a791(_0x421669,_0x5c6107))||_0x42bb35;}return _0x2c09d9>0x3&&_0x42bb35&&Object[_0x32bc68(0xcf)](_0x421669,_0x5c6107,_0x42bb35),_0x42bb35;},__metadata=this&&this[_0x56ac34(0xb7)]||function(_0x23ce7e,_0x51ef81){const _0x1f6b0f=_0x56ac34;if(typeof Reflect===_0x1f6b0f(0xd0)&&typeof Reflect['metadata']===_0x1f6b0f(0xb4))return Reflect[_0x1f6b0f(0xde)](_0x23ce7e,_0x51ef81);};Object[_0x56ac34(0xcf)](exports,_0x56ac34(0xda),{'value':!![]}),exports[_0x56ac34(0xcb)]=void 0x0;const globalConfig_service_1=require('../globalConfig/globalConfig.service'),common_1=require(_0x56ac34(0xd7)),axios_1=require(_0x56ac34(0xba)),crypto=require(_0x56ac34(0xdb));let FanyiService=class FanyiService{constructor(_0xc15602){const _0x3e34d8=_0x56ac34;this[_0x3e34d8(0xc0)]=_0xc15602;}async[_0x56ac34(0xc3)](_0x36e2c4){const _0x310e55=_0x56ac34;if(!_0x36e2c4)throw new common_1['HttpException']('请输入要翻译的内容!',common_1[_0x310e55(0xdf)]['BAD_REQUEST']);const {baiduFanyiAppId:_0x5adcc9,baiduFanyiSecret:_0x1593d5}=await this['globalConfigService'][_0x310e55(0xb8)]([_0x310e55(0xb6),_0x310e55(0xcc)]);if(!_0x5adcc9||!_0x1593d5)throw new common_1['HttpException'](_0x310e55(0xe6),common_1[_0x310e55(0xdf)][_0x310e55(0xca)]);const _0x5aa3b6=Date[_0x310e55(0xd3)]()[_0x310e55(0xdc)](),_0x21c49b=crypto[_0x310e55(0xce)]('md5')[_0x310e55(0xbd)](_0x5adcc9+_0x36e2c4+_0x5aa3b6+_0x1593d5)[_0x310e55(0xc4)]('hex'),_0x20b9cd=_0x310e55(0xb9),_0xa18dd5={'q':_0x36e2c4[_0x310e55(0xdc)](),'from':_0x310e55(0xc8),'to':'en','appid':_0x5adcc9,'salt':_0x5aa3b6,'sign':_0x21c49b},_0x23cbee=await axios_1[_0x310e55(0xbc)][_0x310e55(0xbf)](_0x20b9cd,_0xa18dd5,{'headers':{'Content-Type':_0x310e55(0xe1)}}),{from:_0x509e0a,to:_0x387e8d,trans_result:_0xfc67db,error_code:_0x380fda,error_msg:_0xbf0082}=_0x23cbee[_0x310e55(0xe0)];if(_0x380fda){console[_0x310e55(0xbb)](_0x310e55(0xe3),_0x23cbee);throw new common_1[(_0x310e55(0xbe))](_0x310e55(0xd6)+_0x380fda+']['+_0xbf0082+']!',common_1[_0x310e55(0xdf)][_0x310e55(0xca)]);}if(!_0xfc67db||!_0xfc67db['length']){console[_0x310e55(0xbb)](_0x310e55(0xe3),_0x23cbee);throw new common_1[(_0x310e55(0xbe))](_0x310e55(0xd6)+_0x380fda+']['+_0xbf0082+']!',common_1['HttpStatus'][_0x310e55(0xca)]);}else{}return _0xfc67db[0x0][_0x310e55(0xc1)];}};function _0x3f90(_0x544689,_0x5a14a7){const _0x359e85=_0x359e();return _0x3f90=function(_0x3f9057,_0xed1576){_0x3f9057=_0x3f9057-0xb4;let _0xbc7e5c=_0x359e85[_0x3f9057];return _0xbc7e5c;},_0x3f90(_0x544689,_0x5a14a7);}FanyiService=__decorate([(0x0,common_1[_0x56ac34(0xc2)])(),__metadata(_0x56ac34(0xb5),[globalConfig_service_1[_0x56ac34(0xc6)]])],FanyiService),exports['FanyiService']=FanyiService;