'use strict';const _0x359d17=_0x279d;function _0x3347(){const _0x2efadb=['toString','decorate','10ZTnPtn','convertToEnglish','684800kWZaIi','HttpStatus','3938868cDCqxr','metadata','6TiIKlm','../globalConfig/globalConfig.service','post','getOwnPropertyDescriptor','length','GlobalConfigService','256316XZtIah','object','30809TRaXoV','7778980xLBpsp','res:\x20','auto','createHash','baiduFanyiSecret','__decorate','now','defineProperty','569149ihBhxN','hex','翻译失败[','请输入要翻译的内容!','data','FanyiService','当前管理员还未开放翻译服务、请联系管理员开通吧!','digest','update','axios','getConfigs','crypto','dst','https://fanyi-api.baidu.com/api/trans/vip/translate','__metadata','2PXpIiZ','BAD_REQUEST','application/x-www-form-urlencoded','2090367cgGLst','function','default','Injectable','__esModule','HttpException'];_0x3347=function(){return _0x2efadb;};return _0x3347();}(function(_0x368191,_0x331e8b){const _0x19895e=_0x279d,_0x3cd1a3=_0x368191();while(!![]){try{const _0x9b765b=parseInt(_0x19895e(0x187))/0x1*(parseInt(_0x19895e(0x16e))/0x2)+parseInt(_0x19895e(0x171))/0x3+parseInt(_0x19895e(0x185))/0x4*(parseInt(_0x19895e(0x179))/0x5)+parseInt(_0x19895e(0x17f))/0x6*(-parseInt(_0x19895e(0x15f))/0x7)+-parseInt(_0x19895e(0x17b))/0x8+parseInt(_0x19895e(0x17d))/0x9+-parseInt(_0x19895e(0x188))/0xa;if(_0x9b765b===_0x331e8b)break;else _0x3cd1a3['push'](_0x3cd1a3['shift']());}catch(_0x3d78c3){_0x3cd1a3['push'](_0x3cd1a3['shift']());}}}(_0x3347,0x551bb));function _0x279d(_0x5bd19d,_0x4c7369){const _0x33479c=_0x3347();return _0x279d=function(_0x279dde,_0x1d9519){_0x279dde=_0x279dde-0x15b;let _0x45e653=_0x33479c[_0x279dde];return _0x45e653;},_0x279d(_0x5bd19d,_0x4c7369);}var __decorate=this&&this[_0x359d17(0x15c)]||function(_0x110a0e,_0x324915,_0x3da501,_0x4f456f){const _0x2a11ad=_0x359d17;var _0x55b5c3=arguments[_0x2a11ad(0x183)],_0x1090b1=_0x55b5c3<0x3?_0x324915:_0x4f456f===null?_0x4f456f=Object[_0x2a11ad(0x182)](_0x324915,_0x3da501):_0x4f456f,_0x5c348c;if(typeof Reflect===_0x2a11ad(0x186)&&typeof Reflect['decorate']===_0x2a11ad(0x172))_0x1090b1=Reflect[_0x2a11ad(0x178)](_0x110a0e,_0x324915,_0x3da501,_0x4f456f);else{for(var _0x38fa74=_0x110a0e[_0x2a11ad(0x183)]-0x1;_0x38fa74>=0x0;_0x38fa74--)if(_0x5c348c=_0x110a0e[_0x38fa74])_0x1090b1=(_0x55b5c3<0x3?_0x5c348c(_0x1090b1):_0x55b5c3>0x3?_0x5c348c(_0x324915,_0x3da501,_0x1090b1):_0x5c348c(_0x324915,_0x3da501))||_0x1090b1;}return _0x55b5c3>0x3&&_0x1090b1&&Object[_0x2a11ad(0x15e)](_0x324915,_0x3da501,_0x1090b1),_0x1090b1;},__metadata=this&&this[_0x359d17(0x16d)]||function(_0x54bd6f,_0x141895){const _0x256c61=_0x359d17;if(typeof Reflect===_0x256c61(0x186)&&typeof Reflect[_0x256c61(0x17e)]===_0x256c61(0x172))return Reflect[_0x256c61(0x17e)](_0x54bd6f,_0x141895);};Object[_0x359d17(0x15e)](exports,_0x359d17(0x175),{'value':!![]}),exports[_0x359d17(0x164)]=void 0x0;const globalConfig_service_1=require(_0x359d17(0x180)),common_1=require('@nestjs/common'),axios_1=require(_0x359d17(0x168)),crypto=require(_0x359d17(0x16a));let FanyiService=class FanyiService{constructor(_0x25c428){this['globalConfigService']=_0x25c428;}async[_0x359d17(0x17a)](_0x1457bc){const _0x5a0be4=_0x359d17;if(!_0x1457bc)throw new common_1[(_0x5a0be4(0x176))](_0x5a0be4(0x162),common_1['HttpStatus'][_0x5a0be4(0x16f)]);const {baiduFanyiAppId:_0x29f79c,baiduFanyiSecret:_0xdd19f3}=await this['globalConfigService'][_0x5a0be4(0x169)](['baiduFanyiAppId',_0x5a0be4(0x15b)]);if(!_0x29f79c||!_0xdd19f3)throw new common_1['HttpException'](_0x5a0be4(0x165),common_1[_0x5a0be4(0x17c)][_0x5a0be4(0x16f)]);const _0x4cf871=Date[_0x5a0be4(0x15d)]()['toString'](),_0x5ac61c=crypto[_0x5a0be4(0x18b)]('md5')[_0x5a0be4(0x167)](_0x29f79c+_0x1457bc+_0x4cf871+_0xdd19f3)[_0x5a0be4(0x166)](_0x5a0be4(0x160)),_0x34d430=_0x5a0be4(0x16c),_0x1af92b={'q':_0x1457bc[_0x5a0be4(0x177)](),'from':_0x5a0be4(0x18a),'to':'en','appid':_0x29f79c,'salt':_0x4cf871,'sign':_0x5ac61c},_0x1313cf=await axios_1[_0x5a0be4(0x173)][_0x5a0be4(0x181)](_0x34d430,_0x1af92b,{'headers':{'Content-Type':_0x5a0be4(0x170)}}),{from:_0x3a9f20,to:_0x221d72,trans_result:_0x273a2e,error_code:_0x5ad332,error_msg:_0x40dff0}=_0x1313cf[_0x5a0be4(0x163)];if(_0x5ad332){console['log'](_0x5a0be4(0x189),_0x1313cf);throw new common_1[(_0x5a0be4(0x176))](_0x5a0be4(0x161)+_0x5ad332+']['+_0x40dff0+']!',common_1[_0x5a0be4(0x17c)][_0x5a0be4(0x16f)]);}if(!_0x273a2e||!_0x273a2e[_0x5a0be4(0x183)]){console['log'](_0x5a0be4(0x189),_0x1313cf);throw new common_1[(_0x5a0be4(0x176))]('翻译失败['+_0x5ad332+']['+_0x40dff0+']!',common_1[_0x5a0be4(0x17c)][_0x5a0be4(0x16f)]);}else{}return _0x273a2e[0x0][_0x5a0be4(0x16b)];}};FanyiService=__decorate([(0x0,common_1[_0x359d17(0x174)])(),__metadata('design:paramtypes',[globalConfig_service_1[_0x359d17(0x184)]])],FanyiService),exports[_0x359d17(0x164)]=FanyiService;