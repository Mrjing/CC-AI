'use strict';function _0x4cc8(){const _0x4663ae=['FanyiService','metadata','48kSYXZK','application/x-www-form-urlencoded','4BTYers','data','update','408646DzcxoT','33nnYdgf','__decorate','dst','HttpStatus','md5','18McqWKM','翻译失败[','object','baiduFanyiSecret','function','now','HttpException','length','24FVJVNg','BAD_REQUEST','../globalConfig/globalConfig.service','Injectable','decorate','log','__metadata','@nestjs/common','60800FlQYvL','473280QrXTuQ','createHash','2371174gNkoRP','res:\x20','当前管理员还未开放翻译服务、请联系管理员开通吧!','__esModule','crypto','GlobalConfigService','510215kaWKrh','https://fanyi-api.baidu.com/api/trans/vip/translate','22Tfyotv','toString','defineProperty','auto','628880vAbXUm','829008oBskod','baiduFanyiAppId'];_0x4cc8=function(){return _0x4663ae;};return _0x4cc8();}const _0x39ba79=_0x3286;(function(_0x533d44,_0x10bd08){const _0x5cc31f=_0x3286,_0x2d5591=_0x533d44();while(!![]){try{const _0xef0e84=parseInt(_0x5cc31f(0x1d5))/0x1*(-parseInt(_0x5cc31f(0x1b1))/0x2)+parseInt(_0x5cc31f(0x1d6))/0x3+parseInt(_0x5cc31f(0x1bc))/0x4*(-parseInt(_0x5cc31f(0x1de))/0x5)+parseInt(_0x5cc31f(0x1c5))/0x6*(parseInt(_0x5cc31f(0x1bf))/0x7)+-parseInt(_0x5cc31f(0x1cd))/0x8*(-parseInt(_0x5cc31f(0x1b6))/0x9)+parseInt(_0x5cc31f(0x1b5))/0xa*(-parseInt(_0x5cc31f(0x1c0))/0xb)+parseInt(_0x5cc31f(0x1ba))/0xc*(parseInt(_0x5cc31f(0x1d8))/0xd);if(_0xef0e84===_0x10bd08)break;else _0x2d5591['push'](_0x2d5591['shift']());}catch(_0x156332){_0x2d5591['push'](_0x2d5591['shift']());}}}(_0x4cc8,0x5c9b3));var __decorate=this&&this[_0x39ba79(0x1c1)]||function(_0x500f37,_0x32f311,_0x3647c4,_0xd5ca01){const _0x5644e6=_0x39ba79;var _0x79fba=arguments['length'],_0x49bc48=_0x79fba<0x3?_0x32f311:_0xd5ca01===null?_0xd5ca01=Object['getOwnPropertyDescriptor'](_0x32f311,_0x3647c4):_0xd5ca01,_0x1fc955;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x5644e6(0x1c9))_0x49bc48=Reflect[_0x5644e6(0x1d1)](_0x500f37,_0x32f311,_0x3647c4,_0xd5ca01);else{for(var _0x3662df=_0x500f37[_0x5644e6(0x1cc)]-0x1;_0x3662df>=0x0;_0x3662df--)if(_0x1fc955=_0x500f37[_0x3662df])_0x49bc48=(_0x79fba<0x3?_0x1fc955(_0x49bc48):_0x79fba>0x3?_0x1fc955(_0x32f311,_0x3647c4,_0x49bc48):_0x1fc955(_0x32f311,_0x3647c4))||_0x49bc48;}return _0x79fba>0x3&&_0x49bc48&&Object['defineProperty'](_0x32f311,_0x3647c4,_0x49bc48),_0x49bc48;},__metadata=this&&this[_0x39ba79(0x1d3)]||function(_0x4bcaf4,_0x5c1f04){const _0xf02cf2=_0x39ba79;if(typeof Reflect===_0xf02cf2(0x1c7)&&typeof Reflect['metadata']===_0xf02cf2(0x1c9))return Reflect[_0xf02cf2(0x1b9)](_0x4bcaf4,_0x5c1f04);};Object[_0x39ba79(0x1b3)](exports,_0x39ba79(0x1db),{'value':!![]}),exports[_0x39ba79(0x1b8)]=void 0x0;const globalConfig_service_1=require(_0x39ba79(0x1cf)),common_1=require(_0x39ba79(0x1d4)),axios_1=require('axios'),crypto=require(_0x39ba79(0x1dc));let FanyiService=class FanyiService{constructor(_0x851d48){this['globalConfigService']=_0x851d48;}async['convertToEnglish'](_0x32d37b){const _0x128363=_0x39ba79;if(!_0x32d37b)throw new common_1[(_0x128363(0x1cb))]('请输入要翻译的内容!',common_1[_0x128363(0x1c3)][_0x128363(0x1ce)]);const {baiduFanyiAppId:_0x4b72f3,baiduFanyiSecret:_0x3ed581}=await this['globalConfigService']['getConfigs']([_0x128363(0x1b7),_0x128363(0x1c8)]);if(!_0x4b72f3||!_0x3ed581)throw new common_1[(_0x128363(0x1cb))](_0x128363(0x1da),common_1[_0x128363(0x1c3)][_0x128363(0x1ce)]);const _0xce61c=Date[_0x128363(0x1ca)]()[_0x128363(0x1b2)](),_0x3d31c8=crypto[_0x128363(0x1d7)](_0x128363(0x1c4))[_0x128363(0x1be)](_0x4b72f3+_0x32d37b+_0xce61c+_0x3ed581)['digest']('hex'),_0x1dbb47=_0x128363(0x1df),_0x5687d6={'q':_0x32d37b['toString'](),'from':_0x128363(0x1b4),'to':'en','appid':_0x4b72f3,'salt':_0xce61c,'sign':_0x3d31c8},_0x6937ed=await axios_1['default']['post'](_0x1dbb47,_0x5687d6,{'headers':{'Content-Type':_0x128363(0x1bb)}}),{from:_0x1a2f9b,to:_0x36c84f,trans_result:_0x22752d,error_code:_0x27e36a,error_msg:_0x11ee53}=_0x6937ed[_0x128363(0x1bd)];if(_0x27e36a){console[_0x128363(0x1d2)]('res:\x20',_0x6937ed);throw new common_1[(_0x128363(0x1cb))](_0x128363(0x1c6)+_0x27e36a+']['+_0x11ee53+']!',common_1[_0x128363(0x1c3)][_0x128363(0x1ce)]);}if(!_0x22752d||!_0x22752d[_0x128363(0x1cc)]){console['log'](_0x128363(0x1d9),_0x6937ed);throw new common_1[(_0x128363(0x1cb))](_0x128363(0x1c6)+_0x27e36a+']['+_0x11ee53+']!',common_1[_0x128363(0x1c3)][_0x128363(0x1ce)]);}else{}return _0x22752d[0x0][_0x128363(0x1c2)];}};function _0x3286(_0x31fee3,_0x2bae20){const _0x4cc835=_0x4cc8();return _0x3286=function(_0x3286b4,_0x49c53e){_0x3286b4=_0x3286b4-0x1b1;let _0x162cf6=_0x4cc835[_0x3286b4];return _0x162cf6;},_0x3286(_0x31fee3,_0x2bae20);}FanyiService=__decorate([(0x0,common_1[_0x39ba79(0x1d0)])(),__metadata('design:paramtypes',[globalConfig_service_1[_0x39ba79(0x1dd)]])],FanyiService),exports[_0x39ba79(0x1b8)]=FanyiService;