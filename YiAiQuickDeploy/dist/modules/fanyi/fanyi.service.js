'use strict';function _0x4516(){const _0x47de91=['post','crypto','length','5191315kJzxuf','204136KBvxRe','7158968LTwCvT','3770sbBaug','7iVkfwT','log','md5','翻译失败[','metadata','144995bjBvfp','baiduFanyiSecret','defineProperty','now','getConfigs','__metadata','HttpException','当前管理员还未开放翻译服务、请联系管理员开通吧!','Injectable','请输入要翻译的内容!','BAD_REQUEST','@nestjs/common','../globalConfig/globalConfig.service','getOwnPropertyDescriptor','https://fanyi-api.baidu.com/api/trans/vip/translate','hex','toString','FanyiService','object','HttpStatus','1598108aoYHzb','globalConfigService','default','function','res:\x20','update','6VmDJMX','29628PkmfYA','490380cOWBDn','auto','data'];_0x4516=function(){return _0x47de91;};return _0x4516();}function _0x47fd(_0xc6d3ec,_0x53bb2d){const _0x451626=_0x4516();return _0x47fd=function(_0x47fdd6,_0x226798){_0x47fdd6=_0x47fdd6-0xf5;let _0x404163=_0x451626[_0x47fdd6];return _0x404163;},_0x47fd(_0xc6d3ec,_0x53bb2d);}const _0x5ab534=_0x47fd;(function(_0x547ebd,_0xca18e3){const _0x1afa37=_0x47fd,_0x501d66=_0x547ebd();while(!![]){try{const _0x1c4f6b=-parseInt(_0x1afa37(0xf8))/0x1+-parseInt(_0x1afa37(0x11b))/0x2+parseInt(_0x1afa37(0x114))/0x3+-parseInt(_0x1afa37(0x10c))/0x4+parseInt(_0x1afa37(0x11a))/0x5*(-parseInt(_0x1afa37(0x112))/0x6)+parseInt(_0x1afa37(0x11e))/0x7*(parseInt(_0x1afa37(0x11c))/0x8)+parseInt(_0x1afa37(0x113))/0x9*(parseInt(_0x1afa37(0x11d))/0xa);if(_0x1c4f6b===_0xca18e3)break;else _0x501d66['push'](_0x501d66['shift']());}catch(_0x52e761){_0x501d66['push'](_0x501d66['shift']());}}}(_0x4516,0x960a2));var __decorate=this&&this['__decorate']||function(_0x534f39,_0x1ae351,_0xa2a14c,_0x4f6c39){const _0x5e1a33=_0x47fd;var _0x60ea00=arguments[_0x5e1a33(0x119)],_0x29ca38=_0x60ea00<0x3?_0x1ae351:_0x4f6c39===null?_0x4f6c39=Object[_0x5e1a33(0x105)](_0x1ae351,_0xa2a14c):_0x4f6c39,_0x4718dc;if(typeof Reflect===_0x5e1a33(0x10a)&&typeof Reflect['decorate']===_0x5e1a33(0x10f))_0x29ca38=Reflect['decorate'](_0x534f39,_0x1ae351,_0xa2a14c,_0x4f6c39);else{for(var _0x1178e5=_0x534f39[_0x5e1a33(0x119)]-0x1;_0x1178e5>=0x0;_0x1178e5--)if(_0x4718dc=_0x534f39[_0x1178e5])_0x29ca38=(_0x60ea00<0x3?_0x4718dc(_0x29ca38):_0x60ea00>0x3?_0x4718dc(_0x1ae351,_0xa2a14c,_0x29ca38):_0x4718dc(_0x1ae351,_0xa2a14c))||_0x29ca38;}return _0x60ea00>0x3&&_0x29ca38&&Object[_0x5e1a33(0xfa)](_0x1ae351,_0xa2a14c,_0x29ca38),_0x29ca38;},__metadata=this&&this[_0x5ab534(0xfd)]||function(_0x5412e0,_0x3cad8b){const _0x144027=_0x5ab534;if(typeof Reflect===_0x144027(0x10a)&&typeof Reflect[_0x144027(0xf7)]===_0x144027(0x10f))return Reflect['metadata'](_0x5412e0,_0x3cad8b);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x5ab534(0x109)]=void 0x0;const globalConfig_service_1=require(_0x5ab534(0x104)),common_1=require(_0x5ab534(0x103)),axios_1=require('axios'),crypto=require(_0x5ab534(0x118));let FanyiService=class FanyiService{constructor(_0x2953a5){const _0x505cef=_0x5ab534;this[_0x505cef(0x10d)]=_0x2953a5;}async['convertToEnglish'](_0x554a9a){const _0x47f682=_0x5ab534;if(!_0x554a9a)throw new common_1['HttpException'](_0x47f682(0x101),common_1[_0x47f682(0x10b)]['BAD_REQUEST']);const {baiduFanyiAppId:_0x5307a1,baiduFanyiSecret:_0x227c8f}=await this['globalConfigService'][_0x47f682(0xfc)](['baiduFanyiAppId',_0x47f682(0xf9)]);if(!_0x5307a1||!_0x227c8f)throw new common_1[(_0x47f682(0xfe))](_0x47f682(0xff),common_1[_0x47f682(0x10b)][_0x47f682(0x102)]);const _0x548263=Date[_0x47f682(0xfb)]()[_0x47f682(0x108)](),_0x374c93=crypto['createHash'](_0x47f682(0xf5))[_0x47f682(0x111)](_0x5307a1+_0x554a9a+_0x548263+_0x227c8f)['digest'](_0x47f682(0x107)),_0x425278=_0x47f682(0x106),_0x2e97ef={'q':_0x554a9a[_0x47f682(0x108)](),'from':_0x47f682(0x115),'to':'en','appid':_0x5307a1,'salt':_0x548263,'sign':_0x374c93},_0x659380=await axios_1[_0x47f682(0x10e)][_0x47f682(0x117)](_0x425278,_0x2e97ef,{'headers':{'Content-Type':'application/x-www-form-urlencoded'}}),{from:_0x54d5f6,to:_0x321dfb,trans_result:_0x14eda2,error_code:_0x569e77,error_msg:_0x3f1727}=_0x659380[_0x47f682(0x116)];if(_0x569e77){console[_0x47f682(0x11f)]('res:\x20',_0x659380);throw new common_1[(_0x47f682(0xfe))](_0x47f682(0xf6)+_0x569e77+']['+_0x3f1727+']!',common_1['HttpStatus'][_0x47f682(0x102)]);}if(!_0x14eda2||!_0x14eda2[_0x47f682(0x119)]){console['log'](_0x47f682(0x110),_0x659380);throw new common_1['HttpException'](_0x47f682(0xf6)+_0x569e77+']['+_0x3f1727+']!',common_1[_0x47f682(0x10b)][_0x47f682(0x102)]);}else{}return _0x14eda2[0x0]['dst'];}};FanyiService=__decorate([(0x0,common_1[_0x5ab534(0x100)])(),__metadata('design:paramtypes',[globalConfig_service_1['GlobalConfigService']])],FanyiService),exports[_0x5ab534(0x109)]=FanyiService;