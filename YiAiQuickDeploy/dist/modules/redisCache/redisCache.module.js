'use strict';const _0x1f0b91=_0x18d3;function _0x18d3(_0x5e7e8f,_0x3fabd5){const _0x3397ff=_0x3397();return _0x18d3=function(_0x18d3e0,_0x12e8f5){_0x18d3e0=_0x18d3e0-0x16b;let _0x5ab6ce=_0x3397ff[_0x18d3e0];return _0x5ab6ce;},_0x18d3(_0x5e7e8f,_0x3fabd5);}function _0x3397(){const _0x4df6a4=['Global','length','function','RedisCacheController','connect','REDIS_CLIENT','RedisCacheModule','defineProperty','1128594HvFPhF','env','nestjs-config','510665jjTSrw','122409BSKtpR','./redisCache.service','error','redis','5933326XAWiuH','./redisCache.controller','Logger','object','getOwnPropertyDescriptor','Your\x20Redis\x20connection\x20failed\x20|\x20您的\x20Redist\x20连接失败','decorate','@nestjs/common','84bOdsxh','8019710tbmlfW','2FEWTHr','RedistCacheModule','248LbimxU','1063251yssBIR','__decorate','ConfigModule','4487884wJlVoA','REDIS_PASSWORD','createClient','RedisCacheService'];_0x3397=function(){return _0x4df6a4;};return _0x3397();}(function(_0x265021,_0x7b9fef){const _0x418d2a=_0x18d3,_0x1f6e16=_0x265021();while(!![]){try{const _0x32ee78=-parseInt(_0x418d2a(0x183))/0x1*(parseInt(_0x418d2a(0x171))/0x2)+-parseInt(_0x418d2a(0x174))/0x3+-parseInt(_0x418d2a(0x177))/0x4+-parseInt(_0x418d2a(0x186))/0x5*(-parseInt(_0x418d2a(0x16f))/0x6)+parseInt(_0x418d2a(0x18b))/0x7+-parseInt(_0x418d2a(0x173))/0x8*(-parseInt(_0x418d2a(0x187))/0x9)+parseInt(_0x418d2a(0x170))/0xa;if(_0x32ee78===_0x7b9fef)break;else _0x1f6e16['push'](_0x1f6e16['shift']());}catch(_0x184c4e){_0x1f6e16['push'](_0x1f6e16['shift']());}}}(_0x3397,0xdac64));var __decorate=this&&this[_0x1f0b91(0x175)]||function(_0x29207a,_0x6c5498,_0x45dc4f,_0x4e9a8c){const _0x4186dd=_0x1f0b91;var _0x46f153=arguments[_0x4186dd(0x17c)],_0x582e7a=_0x46f153<0x3?_0x6c5498:_0x4e9a8c===null?_0x4e9a8c=Object[_0x4186dd(0x16b)](_0x6c5498,_0x45dc4f):_0x4e9a8c,_0x53a448;if(typeof Reflect===_0x4186dd(0x18e)&&typeof Reflect[_0x4186dd(0x16d)]===_0x4186dd(0x17d))_0x582e7a=Reflect['decorate'](_0x29207a,_0x6c5498,_0x45dc4f,_0x4e9a8c);else{for(var _0x4bf773=_0x29207a[_0x4186dd(0x17c)]-0x1;_0x4bf773>=0x0;_0x4bf773--)if(_0x53a448=_0x29207a[_0x4bf773])_0x582e7a=(_0x46f153<0x3?_0x53a448(_0x582e7a):_0x46f153>0x3?_0x53a448(_0x6c5498,_0x45dc4f,_0x582e7a):_0x53a448(_0x6c5498,_0x45dc4f))||_0x582e7a;}return _0x46f153>0x3&&_0x582e7a&&Object['defineProperty'](_0x6c5498,_0x45dc4f,_0x582e7a),_0x582e7a;};Object[_0x1f0b91(0x182)](exports,'__esModule',{'value':!![]}),exports[_0x1f0b91(0x181)]=void 0x0;const common_1=require(_0x1f0b91(0x16e)),redisCache_service_1=require(_0x1f0b91(0x188)),redisCache_controller_1=require(_0x1f0b91(0x18c)),nestjs_config_1=require(_0x1f0b91(0x185)),redis_1=require(_0x1f0b91(0x18a));let RedisCacheModule=class RedisCacheModule{};RedisCacheModule=__decorate([(0x0,common_1[_0x1f0b91(0x17b)])(),(0x0,common_1['Module'])({'imports':[nestjs_config_1[_0x1f0b91(0x176)]],'controllers':[redisCache_controller_1[_0x1f0b91(0x17e)]],'providers':[{'provide':'REDIS_CLIENT','useFactory':async _0xde38de=>{const _0x33bae5=_0x1f0b91,_0x2ea052=+process[_0x33bae5(0x184)]['REDIS_PORT'],_0x5222cc=process[_0x33bae5(0x184)]['REDIS_HOST'],_0x8459db=process[_0x33bae5(0x184)][_0x33bae5(0x178)],_0x58bb67=process['env']['REDIS_USER'];if(!_0x5222cc||!_0x2ea052){common_1[_0x33bae5(0x18d)][_0x33bae5(0x189)]('Please\x20config\x20Redis\x20config\x20|\x20未配置\x20Redis\x20配置信息\x20请确认配置redis服务以获得更好的体验',_0x33bae5(0x172));return;}const _0x2288e5=(0x0,redis_1[_0x33bae5(0x179)])({'socket':{'host':_0x5222cc,'port':_0x2ea052},'username':_0x58bb67,'password':_0x8459db}),_0x363b77=await _0x2288e5[_0x33bae5(0x17f)]();return _0x2288e5['on']('ready',()=>{const _0x2db16d=_0x33bae5;common_1[_0x2db16d(0x18d)]['debug']('Your\x20Redis\x20connection\x20successful',_0x2db16d(0x172));}),_0x2288e5['on']('error',()=>{const _0x50e668=_0x33bae5;common_1['Logger'][_0x50e668(0x189)](_0x50e668(0x16c),_0x50e668(0x172));}),_0x2288e5;},'inject':[nestjs_config_1['ConfigService']]},redisCache_service_1[_0x1f0b91(0x17a)]],'exports':[_0x1f0b91(0x180)]})],RedisCacheModule),exports['RedisCacheModule']=RedisCacheModule;