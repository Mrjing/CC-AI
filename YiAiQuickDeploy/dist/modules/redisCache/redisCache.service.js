'use strict';function _0x2365(_0x2d8e8b,_0x4713b5){const _0x7ba787=_0x7ba7();return _0x2365=function(_0x236550,_0x4ff885){_0x236550=_0x236550-0x7c;let _0x11e61d=_0x7ba787[_0x236550];return _0x11e61d;},_0x2365(_0x2d8e8b,_0x4713b5);}const _0x28ce84=_0x2365;(function(_0x2db12d,_0x40f594){const _0xb7280b=_0x2365,_0x435abc=_0x2db12d();while(!![]){try{const _0x5b5306=parseInt(_0xb7280b(0x99))/0x1*(parseInt(_0xb7280b(0x84))/0x2)+parseInt(_0xb7280b(0x90))/0x3+parseInt(_0xb7280b(0x94))/0x4*(parseInt(_0xb7280b(0x9f))/0x5)+parseInt(_0xb7280b(0x8d))/0x6+parseInt(_0xb7280b(0x93))/0x7+parseInt(_0xb7280b(0x8e))/0x8+-parseInt(_0xb7280b(0x95))/0x9*(parseInt(_0xb7280b(0xa4))/0xa);if(_0x5b5306===_0x40f594)break;else _0x435abc['push'](_0x435abc['shift']());}catch(_0x5332b1){_0x435abc['push'](_0x435abc['shift']());}}}(_0x7ba7,0x6886f));function _0x7ba7(){const _0x3edf1b=['super','get','__decorate','zRange','design:paramtypes','__esModule','tokens:','user','3521160jhXqYu','6471752PiioLF','__param','104391SXlDdG','ttl','expire','2531564TecZNF','3121604pqzmGj','98073fCaajo','@nestjs/common','redisClient','saveToken','83ElDMIe','onModuleInit','checkTokenAuth','HttpException','function','您已在其他设备覆盖登录、请您重新登录！','5FZwTjh','length','token:','set','BAD_REQUEST','2690ljNiHp','del','forEach','__metadata','visitor','aaa','invalidateTokens','object','Injectable','getOwnPropertyDescriptor','includes','metadata','test','Inject','decorate','admin','HttpStatus','18958BIBBQk'];_0x7ba7=function(){return _0x3edf1b;};return _0x7ba7();}var __decorate=this&&this[_0x28ce84(0x87)]||function(_0x3afef1,_0x32fea6,_0x549e07,_0x521aa4){const _0xcc2ada=_0x28ce84;var _0x1ec36d=arguments['length'],_0x4cab56=_0x1ec36d<0x3?_0x32fea6:_0x521aa4===null?_0x521aa4=Object[_0xcc2ada(0x7c)](_0x32fea6,_0x549e07):_0x521aa4,_0x5bf77d;if(typeof Reflect===_0xcc2ada(0xab)&&typeof Reflect[_0xcc2ada(0x81)]===_0xcc2ada(0x9d))_0x4cab56=Reflect[_0xcc2ada(0x81)](_0x3afef1,_0x32fea6,_0x549e07,_0x521aa4);else{for(var _0x35f66d=_0x3afef1[_0xcc2ada(0xa0)]-0x1;_0x35f66d>=0x0;_0x35f66d--)if(_0x5bf77d=_0x3afef1[_0x35f66d])_0x4cab56=(_0x1ec36d<0x3?_0x5bf77d(_0x4cab56):_0x1ec36d>0x3?_0x5bf77d(_0x32fea6,_0x549e07,_0x4cab56):_0x5bf77d(_0x32fea6,_0x549e07))||_0x4cab56;}return _0x1ec36d>0x3&&_0x4cab56&&Object['defineProperty'](_0x32fea6,_0x549e07,_0x4cab56),_0x4cab56;},__metadata=this&&this[_0x28ce84(0xa7)]||function(_0x579ad9,_0x4f457c){const _0x2028cc=_0x28ce84;if(typeof Reflect===_0x2028cc(0xab)&&typeof Reflect[_0x2028cc(0x7e)]===_0x2028cc(0x9d))return Reflect[_0x2028cc(0x7e)](_0x579ad9,_0x4f457c);},__param=this&&this[_0x28ce84(0x8f)]||function(_0x542919,_0x4e80e6){return function(_0x315263,_0x184afd){_0x4e80e6(_0x315263,_0x184afd,_0x542919);};};Object['defineProperty'](exports,_0x28ce84(0x8a),{'value':!![]}),exports['RedisCacheService']=void 0x0;const common_1=require(_0x28ce84(0x96));let RedisCacheService=class RedisCacheService{constructor(_0x15deb3){const _0x2119e7=_0x28ce84;this[_0x2119e7(0x97)]=_0x15deb3;}async[_0x28ce84(0x9a)](){}[_0x28ce84(0x7f)](){const _0x3ab112=_0x28ce84;return this['redisClient'][_0x3ab112(0xa2)](_0x3ab112(0xa9),0x6f),0x1;}async[_0x28ce84(0x86)](_0x1d21af){const _0x3c0ff3=_0x28ce84,{key:_0x18519a}=_0x1d21af,_0x5cc723=await this[_0x3c0ff3(0x97)][_0x3c0ff3(0x86)](_0x18519a);return await this[_0x3c0ff3(0x97)][_0x3c0ff3(0x86)](_0x18519a);}async[_0x28ce84(0xa2)](_0xbe41f8,_0x3d1af4){const _0x4be6f3=_0x28ce84;try{const {key:_0x525711,val:_0x207240}=_0xbe41f8;await this[_0x4be6f3(0x97)][_0x4be6f3(0xa2)](_0x525711,_0x207240),_0x3d1af4&&await this[_0x4be6f3(0x97)][_0x4be6f3(0x92)](_0x525711,_0x3d1af4);return;}catch(_0x2e6be5){throw new common_1[(_0x4be6f3(0x9c))](_0x2e6be5,common_1[_0x4be6f3(0x83)][_0x4be6f3(0xa3)]);}}async[_0x28ce84(0x91)](_0x42da38){const _0x41febc=_0x28ce84;return await this[_0x41febc(0x97)]['ttl'](_0x42da38);}async['del'](_0x39b3a0){const _0x50b968=_0x28ce84,{key:_0x226fca}=_0x39b3a0;await this[_0x50b968(0x97)]['del'](_0x226fca);return;}async[_0x28ce84(0x98)](_0x1c750d,_0x40cc6e){const _0x43bf1=_0x28ce84,_0x3ddfae=await this[_0x43bf1(0x97)][_0x43bf1(0x88)](_0x43bf1(0x8b)+_0x1c750d,0x0,-0x1);await this[_0x43bf1(0xaa)](_0x1c750d,_0x3ddfae),this[_0x43bf1(0x97)][_0x43bf1(0xa2)]('token:'+_0x1c750d,_0x40cc6e);}async[_0x28ce84(0xaa)](_0x63c903,_0xa6615a){const _0x1f0117=_0x28ce84;_0xa6615a[_0x1f0117(0xa6)](_0x105676=>{const _0x14a954=_0x1f0117;this[_0x14a954(0x97)][_0x14a954(0xa5)](_0x14a954(0xa1)+_0x63c903+':'+_0x105676);});}async[_0x28ce84(0x9b)](_0x92ed64,_0x438bfc){const _0x21158e=_0x28ce84,{id:_0xb435cf,role:_0x13daf6}=_0x438bfc[_0x21158e(0x8c)];if(_0x13daf6===_0x21158e(0xa8))return!![];const _0x1be989=await this[_0x21158e(0x97)][_0x21158e(0x86)](_0x21158e(0xa1)+_0xb435cf);if(_0x1be989===null)return await this[_0x21158e(0x97)][_0x21158e(0xa2)](_0x21158e(0xa1)+_0xb435cf,_0x92ed64),!![];if(_0x1be989!==_0x92ed64){if([_0x21158e(0x85),_0x21158e(0x82)][_0x21158e(0x7d)](_0x13daf6))return!![];throw new common_1[(_0x21158e(0x9c))](_0x21158e(0x9e),common_1[_0x21158e(0x83)]['UNAUTHORIZED']);}}};RedisCacheService=__decorate([(0x0,common_1[_0x28ce84(0xac)])(),__param(0x0,(0x0,common_1[_0x28ce84(0x80)])('REDIS_CLIENT')),__metadata(_0x28ce84(0x89),[Object])],RedisCacheService),exports['RedisCacheService']=RedisCacheService;