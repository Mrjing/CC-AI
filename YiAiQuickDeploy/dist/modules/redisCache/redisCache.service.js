'use strict';const _0x336837=_0x5967;function _0x300c(){const _0x1acf87=['@nestjs/common','UNAUTHORIZED','forEach','super','2984528YjOwhz','__decorate','458202VoNdcV','onModuleInit','HttpException','visitor','length','test','4PyArOC','273171znYCBA','function','tokens:','getOwnPropertyDescriptor','redisClient','includes','35kwNRMi','__metadata','4NCEmVw','__esModule','get','HttpStatus','del','invalidateTokens','__param','admin','Inject','338005ZQwnjz','您已在其他设备覆盖登录、请您重新登录！','1084743FJoNAj','19514hoTDdo','set','31587sTCqNG','defineProperty','metadata','zRange','Injectable','token:','object','checkTokenAuth','saveToken','RedisCacheService','ttl','BAD_REQUEST','2830mgbnZw','decorate'];_0x300c=function(){return _0x1acf87;};return _0x300c();}(function(_0x5f0019,_0xb44830){const _0x113d2b=_0x5967,_0x4a114c=_0x5f0019();while(!![]){try{const _0x1f77ee=-parseInt(_0x113d2b(0x175))/0x1+parseInt(_0x113d2b(0x17d))/0x2*(-parseInt(_0x113d2b(0x18b))/0x3)+-parseInt(_0x113d2b(0x174))/0x4*(parseInt(_0x113d2b(0x186))/0x5)+-parseInt(_0x113d2b(0x16e))/0x6*(parseInt(_0x113d2b(0x17b))/0x7)+parseInt(_0x113d2b(0x16c))/0x8+parseInt(_0x113d2b(0x188))/0x9+parseInt(_0x113d2b(0x197))/0xa*(parseInt(_0x113d2b(0x189))/0xb);if(_0x1f77ee===_0xb44830)break;else _0x4a114c['push'](_0x4a114c['shift']());}catch(_0x2b7816){_0x4a114c['push'](_0x4a114c['shift']());}}}(_0x300c,0x3d842));var __decorate=this&&this[_0x336837(0x16d)]||function(_0x158091,_0x489513,_0xdb0dbb,_0x4e027d){const _0x276b6a=_0x336837;var _0x254d07=arguments[_0x276b6a(0x172)],_0x475018=_0x254d07<0x3?_0x489513:_0x4e027d===null?_0x4e027d=Object[_0x276b6a(0x178)](_0x489513,_0xdb0dbb):_0x4e027d,_0x373276;if(typeof Reflect===_0x276b6a(0x191)&&typeof Reflect['decorate']===_0x276b6a(0x176))_0x475018=Reflect[_0x276b6a(0x198)](_0x158091,_0x489513,_0xdb0dbb,_0x4e027d);else{for(var _0x31a8c0=_0x158091[_0x276b6a(0x172)]-0x1;_0x31a8c0>=0x0;_0x31a8c0--)if(_0x373276=_0x158091[_0x31a8c0])_0x475018=(_0x254d07<0x3?_0x373276(_0x475018):_0x254d07>0x3?_0x373276(_0x489513,_0xdb0dbb,_0x475018):_0x373276(_0x489513,_0xdb0dbb))||_0x475018;}return _0x254d07>0x3&&_0x475018&&Object[_0x276b6a(0x18c)](_0x489513,_0xdb0dbb,_0x475018),_0x475018;},__metadata=this&&this[_0x336837(0x17c)]||function(_0x38d5a2,_0x38fd40){const _0x373dad=_0x336837;if(typeof Reflect===_0x373dad(0x191)&&typeof Reflect[_0x373dad(0x18d)]===_0x373dad(0x176))return Reflect[_0x373dad(0x18d)](_0x38d5a2,_0x38fd40);},__param=this&&this[_0x336837(0x183)]||function(_0x46e954,_0x520687){return function(_0x4d1a19,_0x4ef9c3){_0x520687(_0x4d1a19,_0x4ef9c3,_0x46e954);};};Object['defineProperty'](exports,_0x336837(0x17e),{'value':!![]}),exports['RedisCacheService']=void 0x0;const common_1=require(_0x336837(0x199));let RedisCacheService=class RedisCacheService{constructor(_0x41d71f){const _0x189e83=_0x336837;this[_0x189e83(0x179)]=_0x41d71f;}async[_0x336837(0x16f)](){}[_0x336837(0x173)](){const _0x2a8846=_0x336837;return this[_0x2a8846(0x179)][_0x2a8846(0x18a)]('aaa',0x6f),0x1;}async[_0x336837(0x17f)](_0x344091){const _0x4474d5=_0x336837,{key:_0x4d6cb3}=_0x344091,_0x1d3023=await this[_0x4474d5(0x179)][_0x4474d5(0x17f)](_0x4d6cb3);return await this[_0x4474d5(0x179)][_0x4474d5(0x17f)](_0x4d6cb3);}async[_0x336837(0x18a)](_0x2eff15,_0x4139d4){const _0x2f67a6=_0x336837;try{const {key:_0x1c469e,val:_0x11e5c5}=_0x2eff15;await this['redisClient']['set'](_0x1c469e,_0x11e5c5),_0x4139d4&&await this[_0x2f67a6(0x179)]['expire'](_0x1c469e,_0x4139d4);return;}catch(_0x25e8f5){throw new common_1[(_0x2f67a6(0x170))](_0x25e8f5,common_1[_0x2f67a6(0x180)][_0x2f67a6(0x196)]);}}async['ttl'](_0x46213a){const _0x14cec1=_0x336837;return await this[_0x14cec1(0x179)][_0x14cec1(0x195)](_0x46213a);}async[_0x336837(0x181)](_0x3b932b){const _0x307635=_0x336837,{key:_0x293895}=_0x3b932b;await this['redisClient'][_0x307635(0x181)](_0x293895);return;}async[_0x336837(0x193)](_0x46366a,_0x3f3a0f){const _0x31a6e4=_0x336837,_0x50436f=await this[_0x31a6e4(0x179)][_0x31a6e4(0x18e)](_0x31a6e4(0x177)+_0x46366a,0x0,-0x1);await this[_0x31a6e4(0x182)](_0x46366a,_0x50436f),this['redisClient'][_0x31a6e4(0x18a)](_0x31a6e4(0x190)+_0x46366a,_0x3f3a0f);}async[_0x336837(0x182)](_0x2be229,_0x3110ab){const _0x2cd583=_0x336837;_0x3110ab[_0x2cd583(0x19b)](_0x3fd7ab=>{const _0x81a296=_0x2cd583;this[_0x81a296(0x179)][_0x81a296(0x181)](_0x81a296(0x190)+_0x2be229+':'+_0x3fd7ab);});}async[_0x336837(0x192)](_0x39955d,_0x5c9ed4){const _0x49dc7b=_0x336837,{id:_0x119924,role:_0x2ea72f}=_0x5c9ed4['user'];if(_0x2ea72f===_0x49dc7b(0x171))return!![];const _0x3e84da=await this[_0x49dc7b(0x179)][_0x49dc7b(0x17f)](_0x49dc7b(0x190)+_0x119924);if(_0x3e84da===null)return await this[_0x49dc7b(0x179)][_0x49dc7b(0x18a)](_0x49dc7b(0x190)+_0x119924,_0x39955d),!![];if(_0x3e84da!==_0x39955d){if([_0x49dc7b(0x19c),_0x49dc7b(0x184)][_0x49dc7b(0x17a)](_0x2ea72f))return!![];throw new common_1[(_0x49dc7b(0x170))](_0x49dc7b(0x187),common_1[_0x49dc7b(0x180)][_0x49dc7b(0x19a)]);}}};function _0x5967(_0x2ead54,_0x1d6be1){const _0x300c58=_0x300c();return _0x5967=function(_0x596717,_0x3428c1){_0x596717=_0x596717-0x16c;let _0x4c355a=_0x300c58[_0x596717];return _0x4c355a;},_0x5967(_0x2ead54,_0x1d6be1);}RedisCacheService=__decorate([(0x0,common_1[_0x336837(0x18f)])(),__param(0x0,(0x0,common_1[_0x336837(0x185)])('REDIS_CLIENT')),__metadata('design:paramtypes',[Object])],RedisCacheService),exports[_0x336837(0x194)]=RedisCacheService;