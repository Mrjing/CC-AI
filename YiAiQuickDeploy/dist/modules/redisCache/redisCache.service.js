'use strict';const _0x3cda0b=_0x45a7;(function(_0x466014,_0x42c93e){const _0x2fe56d=_0x45a7,_0x41c67c=_0x466014();while(!![]){try{const _0x4eb364=-parseInt(_0x2fe56d(0x1e5))/0x1*(-parseInt(_0x2fe56d(0x1d1))/0x2)+parseInt(_0x2fe56d(0x1d5))/0x3+parseInt(_0x2fe56d(0x1cb))/0x4*(-parseInt(_0x2fe56d(0x1cd))/0x5)+parseInt(_0x2fe56d(0x1f3))/0x6+parseInt(_0x2fe56d(0x1c8))/0x7*(-parseInt(_0x2fe56d(0x1e7))/0x8)+-parseInt(_0x2fe56d(0x1e2))/0x9*(-parseInt(_0x2fe56d(0x1d0))/0xa)+-parseInt(_0x2fe56d(0x1e9))/0xb;if(_0x4eb364===_0x42c93e)break;else _0x41c67c['push'](_0x41c67c['shift']());}catch(_0x284b85){_0x41c67c['push'](_0x41c67c['shift']());}}}(_0x2708,0x31832));var __decorate=this&&this[_0x3cda0b(0x1c9)]||function(_0x58b370,_0x42bc41,_0xcc0c7f,_0x15af74){const _0x503c9e=_0x3cda0b;var _0x3dbce3=arguments['length'],_0x395e27=_0x3dbce3<0x3?_0x42bc41:_0x15af74===null?_0x15af74=Object[_0x503c9e(0x1e1)](_0x42bc41,_0xcc0c7f):_0x15af74,_0x52f7a0;if(typeof Reflect==='object'&&typeof Reflect[_0x503c9e(0x1e4)]===_0x503c9e(0x1dc))_0x395e27=Reflect[_0x503c9e(0x1e4)](_0x58b370,_0x42bc41,_0xcc0c7f,_0x15af74);else{for(var _0x43cb6b=_0x58b370['length']-0x1;_0x43cb6b>=0x0;_0x43cb6b--)if(_0x52f7a0=_0x58b370[_0x43cb6b])_0x395e27=(_0x3dbce3<0x3?_0x52f7a0(_0x395e27):_0x3dbce3>0x3?_0x52f7a0(_0x42bc41,_0xcc0c7f,_0x395e27):_0x52f7a0(_0x42bc41,_0xcc0c7f))||_0x395e27;}return _0x3dbce3>0x3&&_0x395e27&&Object[_0x503c9e(0x1ec)](_0x42bc41,_0xcc0c7f,_0x395e27),_0x395e27;},__metadata=this&&this['__metadata']||function(_0x1a9383,_0x41237d){const _0x48c65b=_0x3cda0b;if(typeof Reflect===_0x48c65b(0x1ea)&&typeof Reflect['metadata']===_0x48c65b(0x1dc))return Reflect[_0x48c65b(0x1c7)](_0x1a9383,_0x41237d);},__param=this&&this[_0x3cda0b(0x1ce)]||function(_0x1ae416,_0x27df60){return function(_0x59d0d6,_0x339d99){_0x27df60(_0x59d0d6,_0x339d99,_0x1ae416);};};Object[_0x3cda0b(0x1ec)](exports,'__esModule',{'value':!![]}),exports[_0x3cda0b(0x1d9)]=void 0x0;function _0x45a7(_0x54fbee,_0x39ba4f){const _0x270877=_0x2708();return _0x45a7=function(_0x45a7ad,_0x413f6f){_0x45a7ad=_0x45a7ad-0x1c6;let _0x43239c=_0x270877[_0x45a7ad];return _0x43239c;},_0x45a7(_0x54fbee,_0x39ba4f);}const common_1=require(_0x3cda0b(0x1df));let RedisCacheService=class RedisCacheService{constructor(_0x5ac38d){const _0x3bf494=_0x3cda0b;this[_0x3bf494(0x1de)]=_0x5ac38d;}async[_0x3cda0b(0x1d6)](){}['test'](){const _0x4c2b9c=_0x3cda0b;return this[_0x4c2b9c(0x1de)][_0x4c2b9c(0x1f1)](_0x4c2b9c(0x1ee),0x6f),0x1;}async[_0x3cda0b(0x1f2)](_0x47ab59){const _0x524afa=_0x3cda0b,{key:_0x26b22e}=_0x47ab59,_0x104da2=await this[_0x524afa(0x1de)][_0x524afa(0x1f2)](_0x26b22e);return await this[_0x524afa(0x1de)][_0x524afa(0x1f2)](_0x26b22e);}async[_0x3cda0b(0x1f1)](_0x3b408b,_0x2d6468){const _0x4add22=_0x3cda0b;try{const {key:_0x1f92ca,val:_0x24471e}=_0x3b408b;await this[_0x4add22(0x1de)]['set'](_0x1f92ca,_0x24471e),_0x2d6468&&await this[_0x4add22(0x1de)]['expire'](_0x1f92ca,_0x2d6468);return;}catch(_0x5db0b2){throw new common_1[(_0x4add22(0x1ed))](_0x5db0b2,common_1['HttpStatus'][_0x4add22(0x1d7)]);}}async[_0x3cda0b(0x1f0)](_0x27756f){const _0x357c6f=_0x3cda0b;return await this[_0x357c6f(0x1de)][_0x357c6f(0x1f0)](_0x27756f);}async[_0x3cda0b(0x1da)](_0x17118d){const _0x249c4e=_0x3cda0b,{key:_0x279b99}=_0x17118d;await this[_0x249c4e(0x1de)][_0x249c4e(0x1da)](_0x279b99);return;}async[_0x3cda0b(0x1cf)](_0x41ad09,_0x133906){const _0x50e972=_0x3cda0b,_0x1f6816=await this['redisClient'][_0x50e972(0x1e0)](_0x50e972(0x1c6)+_0x41ad09,0x0,-0x1);await this[_0x50e972(0x1ca)](_0x41ad09,_0x1f6816),this[_0x50e972(0x1de)][_0x50e972(0x1f1)](_0x50e972(0x1d4)+_0x41ad09,_0x133906);}async[_0x3cda0b(0x1ca)](_0x2d316b,_0x315e9a){const _0x1e523e=_0x3cda0b;_0x315e9a[_0x1e523e(0x1cc)](_0x256308=>{const _0x50cf88=_0x1e523e;this['redisClient'][_0x50cf88(0x1da)](_0x50cf88(0x1d4)+_0x2d316b+':'+_0x256308);});}async[_0x3cda0b(0x1e3)](_0xfc1f5,_0x3aa4ae){const _0x66d968=_0x3cda0b,{id:_0x2ff98d,role:_0x2aca6e}=_0x3aa4ae[_0x66d968(0x1ef)];if(_0x2aca6e===_0x66d968(0x1e6))return!![];const _0x4d4409=await this['redisClient']['get'](_0x66d968(0x1d4)+_0x2ff98d);if(_0x4d4409===null)return await this['redisClient'][_0x66d968(0x1f1)]('token:'+_0x2ff98d,_0xfc1f5),!![];if(_0x4d4409!==_0xfc1f5){if(['super',_0x66d968(0x1d2)]['includes'](_0x2aca6e))return!![];throw new common_1[(_0x66d968(0x1ed))](_0x66d968(0x1d8),common_1[_0x66d968(0x1eb)][_0x66d968(0x1dd)]);}}};RedisCacheService=__decorate([(0x0,common_1[_0x3cda0b(0x1d3)])(),__param(0x0,(0x0,common_1[_0x3cda0b(0x1e8)])(_0x3cda0b(0x1db))),__metadata(_0x3cda0b(0x1f4),[Object])],RedisCacheService),exports[_0x3cda0b(0x1d9)]=RedisCacheService;function _0x2708(){const _0xe434e4=['@nestjs/common','zRange','getOwnPropertyDescriptor','2032407BFZbLr','checkTokenAuth','decorate','1691LZnjxL','visitor','15104rtaRvn','Inject','3101758wknPuY','object','HttpStatus','defineProperty','HttpException','aaa','user','ttl','set','get','446880WzeDQY','design:paramtypes','tokens:','metadata','791dgwELd','__decorate','invalidateTokens','4wKUzjy','forEach','814085mIAucr','__param','saveToken','10QplOoO','200asWKAX','admin','Injectable','token:','1174614WkaXvP','onModuleInit','BAD_REQUEST','您已在其他设备覆盖登录、请您重新登录！','RedisCacheService','del','REDIS_CLIENT','function','UNAUTHORIZED','redisClient'];_0x2708=function(){return _0xe434e4;};return _0x2708();}