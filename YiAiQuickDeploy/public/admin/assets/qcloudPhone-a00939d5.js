
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as M}from"./index-0c601eeb.js";import{a as _}from"./config-449ff98c.js";import{d as w,Q as D,r as g,x as A,h as d,o as N,c as k,e,f as l,a as I,l as C,E as q,q as b}from"./index-8db84802.js";const R={class:"flex justify-between"},T=I("b",null,"腾讯云手机验证码配置",-1),U=w({__name:"qcloudPhone",setup(L){const t=D({qcloudSecretId:"",qcloudSecretKey:"",qcloudPhoneRegisterStatus:"",qcloudPhoneLoginStatus:"",qcloudSMSSDKAppId:"",qcloudSMSTemplateId:"",qcloudPhoneSignName:""}),x=g({qcloudPhoneRegisterStatus:[{required:!1,trigger:"blur",message:"请选择是否开启手机号注册"}],qcloudPhoneLoginStatus:[{required:!1,trigger:"blur",message:"请选择是否开启手机号登录"}],qcloudSecretId:[{required:!1,trigger:"blur",message:"secretId"}],qcloudSecretKey:[{required:!1,trigger:"blur",message:"secretKey"}],qcloudSMSSDKAppId:[{required:!1,trigger:"blur",message:"请填写腾讯云短信服务SDK APPId"}],qcloudSMSTemplateId:[{required:!1,trigger:"blur",message:"请填写腾讯云短信服务TemplateId"}],qcloudPhoneSignName:[{required:!1,trigger:"blur",message:"请填写腾讯云短信服务的模板签名"}]}),i=g();async function m(){const u=await _.queryConfig({keys:["qcloudPhoneRegisterStatus","qcloudPhoneLoginStatus","qcloudSecretId","qcloudSecretKey","qcloudSMSSDKAppId","qcloudSMSTemplateId","qcloudPhoneSignName"]});Object.assign(t,u.data)}function V(){var u;(u=i.value)==null||u.validate(async o=>{if(o){try{await _.setConfig({settings:h(t)}),q.success("变更配置信息成功")}catch{}m()}else q.error("请填写完整信息")})}function h(u){return Object.keys(u).map(o=>({configKey:o,configVal:u[o]}))}return A(()=>{m()}),(u,o)=>{const p=d("el-alert"),y=M,P=d("el-button"),f=d("el-switch"),S=d("el-tooltip"),n=d("el-form-item"),r=d("el-col"),c=d("el-row"),s=d("el-input"),K=d("el-form"),v=d("el-card");return N(),k("div",null,[e(y,null,{default:l(()=>[e(p,{closable:!1,"show-icon":"",title:"验证码说明",description:"此处采用腾讯云短信服务调试",type:"warning"})]),_:1}),e(v,{style:{margin:"20px"}},{header:l(()=>[I("div",R,[T,e(P,{class:"button",text:"",onClick:V},{default:l(()=>[C(" 保存设置 ")]),_:1})])]),default:l(()=>[e(K,{ref_key:"formRef",ref:i,rules:x.value,model:t,"label-width":"170px"},{default:l(()=>[e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"是否开启手机号登录",prop:"qcloudPhoneLoginStatus"},{default:l(()=>[e(S,{class:"box-item",effect:"dark",content:"如您启用短信登录、则用户端则可以通过手机号的方式登录！",placement:"right"},{default:l(()=>[e(f,{modelValue:t.qcloudPhoneLoginStatus,"onUpdate:modelValue":o[0]||(o[0]=a=>t.qcloudPhoneLoginStatus=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"是否开启手机号注册",prop:"qcloudPhoneRegisterStatus"},{default:l(()=>[e(S,{class:"box-item",effect:"dark",content:"如您启用短信验证、则用户端则可以通过手机验证码方式注册！",placement:"right"},{default:l(()=>[e(f,{modelValue:t.qcloudPhoneRegisterStatus,"onUpdate:modelValue":o[1]||(o[1]=a=>t.qcloudPhoneRegisterStatus=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"secretId",prop:"qcloudSecretId"},{default:l(()=>[e(s,{modelValue:t.qcloudSecretId,"onUpdate:modelValue":o[2]||(o[2]=a=>t.qcloudSecretId=a),placeholder:"请填写SecretId",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"secretKey",prop:"qcloudSecretKey"},{default:l(()=>[e(s,{modelValue:t.qcloudSecretKey,"onUpdate:modelValue":o[3]||(o[3]=a=>t.qcloudSecretKey=a),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"短信签名",prop:"qcloudPhoneSignName"},{default:l(()=>[e(s,{modelValue:t.qcloudPhoneSignName,"onUpdate:modelValue":o[4]||(o[4]=a=>t.qcloudPhoneSignName=a),placeholder:"请填写您申请的短信签名",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"短信模板ID",prop:"qcloudSMSTemplateId"},{default:l(()=>[e(s,{modelValue:t.qcloudSMSTemplateId,"onUpdate:modelValue":o[5]||(o[5]=a=>t.qcloudSMSTemplateId=a),placeholder:"请填写短信模板ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"SDKAppId",prop:"qcloudSMSSDKAppId"},{default:l(()=>[e(s,{modelValue:t.qcloudSMSSDKAppId,"onUpdate:modelValue":o[6]||(o[6]=a=>t.qcloudSMSSDKAppId=a),placeholder:"请填写短信SDKAppId",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof b=="function"&&b(U);export{U as default};
