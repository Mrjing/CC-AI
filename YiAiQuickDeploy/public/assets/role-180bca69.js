import{N as Ae,_ as $e}from"./index.vue_vue_type_script_setup_true_lang-187c3b8a.js";import{aq as ge,ab as o,ar as Ne,d as Q,as as de,at as he,au as Ee,e as L,av as Me,aw as J,ax as qe,ay as Ie,r as z,az as He,aA as Ve,V as Xe,H as K,aB as Ge,aC as We,aD as Ke,aE as Qe,aF as Ze,aG as Je,aH as $,aI as k,aJ as N,aK as we,aL as G,aM as Ye,aN as et,aO as Le,aP as tt,aQ as U,aR as nt,aS as at,aT as ot,aU as rt,F as be,aV as it,aW as xe,v as lt,aX as Re,f as Ue,o as W,c as oe,a as _,q as m,k as v,_ as Y,aY as st,C as Pe,b as dt,h as ut,A as ie,l as w,I as Z,U as Ce,j as ct,t as ue,m as ce,p as le,s as fe,z as ft,aZ as pt,a_ as gt,a$ as ee,S as ht,am as mt,b0 as vt,b1 as bt,b2 as yt,W as wt,b3 as xt,b4 as Rt,D as Ct,E as _e,b5 as _t,ap as kt}from"./index-58669c41.js";import{N as ke}from"./Popconfirm-54398819.js";import{N as Tt}from"./Select-5c8ca9e0.js";import{N as Bt}from"./Switch-73c3b04c.js";import"./NumberAnimation-e73510ff.js";import"./LayoutSider-5fcf14f3.js";const Ft=ge("attach",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),It=ge("trash",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Lt=ge("cancel",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Ut=ge("retry",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),o("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),re=Ne("n-upload"),De="__UPLOAD_DRAGGER__",Pt=Q({name:"UploadDragger",[De]:!0,setup(e,{slots:t}){const n=de(re,null);return n||he("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:a},mergedDisabledRef:{value:i},maxReachedRef:{value:l}}=n;return o("div",{class:[`${a}-upload-dragger`,(i||l)&&`${a}-upload-dragger--disabled`]},t)}}});var ye=globalThis&&globalThis.__awaiter||function(e,t,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function g(r){try{c(a.next(r))}catch(b){u(b)}}function s(r){try{c(a.throw(r))}catch(b){u(b)}}function c(r){r.done?l(r.value):i(r.value).then(g,s)}c((a=a.apply(e,t||[])).next())})};const Oe=e=>e.includes("image/"),Te=(e="")=>{const t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},Be=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,je=e=>{if(e.type)return Oe(e.type);const t=Te(e.name||"");if(Be.test(t))return!0;const n=e.thumbnailUrl||e.url||"",a=Te(n);return!!(/^data:image\//.test(n)||Be.test(a))};function Dt(e){return ye(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Oe(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const Ot=Ee&&window.FileReader&&window.File;function jt(e){return e.isDirectory}function St(e){return e.isFile}function zt(e,t){return ye(this,void 0,void 0,function*(){const n=[];function a(i){return ye(this,void 0,void 0,function*(){for(const l of i)if(l){if(t&&jt(l)){const u=l.createReader();try{const g=yield new Promise((s,c)=>{u.readEntries(s,c)});yield a(g)}catch{}}else if(St(l))try{const u=yield new Promise((g,s)=>{l.file(g,s)});n.push({file:u,entry:l,source:"dnd"})}catch{}}})}return yield a(e),n})}function se(e){const{id:t,name:n,percentage:a,status:i,url:l,file:u,thumbnailUrl:g,type:s,fullPath:c,batchId:r}=e;return{id:t,name:n,percentage:a??null,status:i,url:l??null,file:u??null,thumbnailUrl:g??null,type:s??null,fullPath:c??null,batchId:r??null}}function At(e,t,n){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(i=>i.trim()).filter(Boolean).some(i=>{if(i.startsWith(".")){if(e.endsWith(i))return!0}else if(i.includes("/")){const[l,u]=t.split("/"),[g,s]=i.split("/");if((g==="*"||l&&g&&g===l)&&(s==="*"||u&&s&&s===u))return!0}else return!0;return!1})}const Se=Q({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const n=de(re,null);n||he("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:a,mergedDisabledRef:i,maxReachedRef:l,listTypeRef:u,dragOverRef:g,openOpenFileDialog:s,draggerInsideRef:c,handleFileAddition:r,mergedDirectoryDndRef:b,triggerClassRef:M,triggerStyleRef:D}=n,x=L(()=>u.value==="image-card");function V(){i.value||l.value||s()}function P(F){F.preventDefault(),g.value=!0}function O(F){F.preventDefault(),g.value=!0}function A(F){F.preventDefault(),g.value=!1}function X(F){var h;if(F.preventDefault(),!c.value||i.value||l.value){g.value=!1;return}const R=(h=F.dataTransfer)===null||h===void 0?void 0:h.items;R!=null&&R.length?zt(Array.from(R).map(C=>C.webkitGetAsEntry()),b.value).then(C=>{r(C)}).finally(()=>{g.value=!1}):g.value=!1}return()=>{var F;const{value:h}=a;return e.abstract?(F=t.default)===null||F===void 0?void 0:F.call(t,{handleClick:V,handleDrop:X,handleDragOver:P,handleDragEnter:O,handleDragLeave:A}):o("div",{class:[`${h}-upload-trigger`,(i.value||l.value)&&`${h}-upload-trigger--disabled`,x.value&&`${h}-upload-trigger--image-card`,M.value],style:D.value,onClick:V,onDrop:X,onDragover:P,onDragenter:O,onDragleave:A},x.value?o(Pt,null,{default:()=>Me(t.default,()=>[o(J,{clsPrefix:h},{default:()=>o(qe,null)})])}):t)}}}),$t=Q({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:de(re).mergedThemeRef}},render(){return o(Ie,null,{default:()=>this.show?o(Ae,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Nt=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Et=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Mt=globalThis&&globalThis.__awaiter||function(e,t,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function g(r){try{c(a.next(r))}catch(b){u(b)}}function s(r){try{c(a.throw(r))}catch(b){u(b)}}function c(r){r.done?l(r.value):i(r.value).then(g,s)}c((a=a.apply(e,t||[])).next())})};const pe={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},qt=Q({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const t=de(re),n=z(null),a=z(""),i=L(()=>{const{file:h}=e;return h.status==="finished"?"success":h.status==="error"?"error":"info"}),l=L(()=>{const{file:h}=e;if(h.status==="error")return"error"}),u=L(()=>{const{file:h}=e;return h.status==="uploading"}),g=L(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:h}=e;return["uploading","pending","error"].includes(h.status)}),s=L(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),c=L(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),r=L(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:h}=e;return["error"].includes(h.status)}),b=He(()=>a.value||e.file.thumbnailUrl||e.file.url),M=L(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:h},listType:R}=e;return["finished"].includes(h)&&b.value&&R==="image-card"});function D(){t.submit(e.file.id)}function x(h){h.preventDefault();const{file:R}=e;["finished","pending","error"].includes(R.status)?P(R):["uploading"].includes(R.status)?A(R):Qe("upload","The button clicked type is unknown.")}function V(h){h.preventDefault(),O(e.file)}function P(h){const{xhrMap:R,doChange:C,onRemoveRef:{value:ae},mergedFileListRef:{value:f}}=t;Promise.resolve(ae?ae({file:Object.assign({},h),fileList:f,index:e.index}):!0).then(T=>{if(T===!1)return;const I=Object.assign({},h,{status:"removed"});R.delete(h.id),C(I,void 0,{remove:!0})})}function O(h){const{onDownloadRef:{value:R}}=t;Promise.resolve(R?R(Object.assign({},h)):!0).then(C=>{C!==!1&&Ze(h.url,h.name)})}function A(h){const{xhrMap:R}=t,C=R.get(h.id);C==null||C.abort(),P(Object.assign({},h))}function X(){const{onPreviewRef:{value:h}}=t;if(h)h(e.file);else if(e.listType==="image-card"){const{value:R}=n;if(!R)return;R.click()}}const F=()=>Mt(this,void 0,void 0,function*(){const{listType:h}=e;h!=="image"&&h!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(a.value=yield t.getFileThumbnailUrlResolver(e.file))});return Ve(()=>{F()}),{mergedTheme:t.mergedThemeRef,progressStatus:i,buttonType:l,showProgress:u,disabled:t.mergedDisabledRef,showCancelButton:g,showRemoveButton:s,showDownloadButton:c,showRetryButton:r,showPreviewButton:M,mergedThumbnailUrl:b,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:n,handleRemoveOrCancelClick:x,handleDownloadClick:V,handleRetryClick:D,handlePreviewClick:X}},render(){const{clsPrefix:e,mergedTheme:t,listType:n,file:a,renderIcon:i}=this;let l;const u=n==="image";u||n==="image-card"?l=!this.shouldUseThumbnailUrl(a)||!this.mergedThumbnailUrl?o("span",{class:`${e}-upload-file-info__thumbnail`},i?i(a):je(a)?o(J,{clsPrefix:e},{default:()=>Nt}):o(J,{clsPrefix:e},{default:()=>Et})):o("a",{rel:"noopener noreferer",target:"_blank",href:a.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?o(Xe,{src:this.mergedThumbnailUrl||void 0,previewSrc:a.url||void 0,alt:a.name,ref:"imageRef"}):o("img",{src:this.mergedThumbnailUrl||void 0,alt:a.name})):l=o("span",{class:`${e}-upload-file-info__thumbnail`},i?i(a):o(J,{clsPrefix:e},{default:()=>o(Ft,null)}));const s=o($t,{show:this.showProgress,percentage:a.percentage||0,status:this.progressStatus}),c=n==="text"||n==="image";return o("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,a.url&&a.status!=="error"&&n!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${n}-type`]},o("div",{class:`${e}-upload-file-info`},l,o("div",{class:`${e}-upload-file-info__name`},c&&(a.url&&a.status!=="error"?o("a",{rel:"noopener noreferer",target:"_blank",href:a.url||void 0,onClick:this.handlePreviewClick},a.name):o("span",{onClick:this.handlePreviewClick},a.name)),u&&s),o("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${n}-type`]},this.showPreviewButton?o(K,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:pe},{icon:()=>o(J,{clsPrefix:e},{default:()=>o(Ge,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&o(K,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:pe,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>o(We,null,{default:()=>this.showRemoveButton?o(J,{clsPrefix:e,key:"trash"},{default:()=>o(It,null)}):o(J,{clsPrefix:e,key:"cancel"},{default:()=>o(Lt,null)})})}),this.showRetryButton&&!this.disabled&&o(K,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:pe},{icon:()=>o(J,{clsPrefix:e},{default:()=>o(Ut,null)})}),this.showDownloadButton?o(K,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:pe},{icon:()=>o(J,{clsPrefix:e},{default:()=>o(Ke,null)})}):null)),!u&&s)}}),Ht=Q({name:"UploadFileList",setup(e,{slots:t}){const n=de(re,null);n||he("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:a,mergedClsPrefixRef:i,listTypeRef:l,mergedFileListRef:u,fileListClassRef:g,fileListStyleRef:s,cssVarsRef:c,themeClassRef:r,maxReachedRef:b,showTriggerRef:M,imageGroupPropsRef:D}=n,x=L(()=>l.value==="image-card"),V=()=>u.value.map((O,A)=>o(qt,{clsPrefix:i.value,key:O.id,file:O,index:A,listType:l.value})),P=()=>x.value?o(Je,Object.assign({},D.value),{default:V}):o(Ie,{group:!0},{default:V});return()=>{const{value:O}=i,{value:A}=a;return o("div",{class:[`${O}-upload-file-list`,x.value&&`${O}-upload-file-list--grid`,A?r==null?void 0:r.value:void 0,g.value],style:[A&&c?c.value:"",s.value]},P(),M.value&&!b.value&&x.value&&o(Se,null,t))}}}),Vt=$([k("upload","width: 100%;",[N("dragger-inside",[k("upload-trigger",`
 display: block;
 `)]),N("drag-over",[k("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),k("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[$("&:hover",`
 border: var(--n-dragger-border-hover);
 `),N("disabled",`
 cursor: not-allowed;
 `)]),k("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[$("+",[k("upload-file-list","margin-top: 8px;")]),N("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),N("image-card",`
 width: 96px;
 height: 96px;
 `,[k("base-icon",`
 font-size: 24px;
 `),k("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),k("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[$("a, img","outline: none;"),N("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[k("upload-file","cursor: not-allowed;")]),N("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),k("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[we(),k("progress",[we({foldPadding:!0})]),$("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[k("upload-file-info",[G("action",`
 opacity: 1;
 `)])]),N("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[k("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[k("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),G("name",`
 padding: 0 8px;
 `),G("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[$("img",`
 width: 100%;
 `)])])]),N("text-type",[k("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),N("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[k("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),k("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[G("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[$("img",`
 width: 100%;
 `)])]),$("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),$("&:hover",[$("&::before","opacity: 1;"),k("upload-file-info",[G("thumbnail","opacity: .12;")])])]),N("error-status",[$("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),k("upload-file-info",[G("name","color: var(--n-item-text-color-error);"),G("thumbnail","color: var(--n-item-text-color-error);")]),N("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),N("with-url",`
 cursor: pointer;
 `,[k("upload-file-info",[G("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[$("a",`
 text-decoration: underline;
 `)])])]),k("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[G("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[k("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),G("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[k("button",[$("&:not(:last-child)",{marginRight:"4px"}),k("base-icon",[$("svg",[Ye()])])]),N("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),N("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),G("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[$("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),k("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var Fe=globalThis&&globalThis.__awaiter||function(e,t,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function g(r){try{c(a.next(r))}catch(b){u(b)}}function s(r){try{c(a.throw(r))}catch(b){u(b)}}function c(r){r.done?l(r.value):i(r.value).then(g,s)}c((a=a.apply(e,t||[])).next())})};function Xt(e,t,n){const{doChange:a,xhrMap:i}=e;let l=0;function u(s){var c;let r=Object.assign({},t,{status:"error",percentage:l});i.delete(t.id),r=se(((c=e.onError)===null||c===void 0?void 0:c.call(e,{file:r,event:s}))||r),a(r,s)}function g(s){var c;if(e.isErrorState){if(e.isErrorState(n)){u(s);return}}else if(n.status<200||n.status>=300){u(s);return}let r=Object.assign({},t,{status:"finished",percentage:l});i.delete(t.id),r=se(((c=e.onFinish)===null||c===void 0?void 0:c.call(e,{file:r,event:s}))||r),a(r,s)}return{handleXHRLoad:g,handleXHRError:u,handleXHRAbort(s){const c=Object.assign({},t,{status:"removed",file:null,percentage:l});i.delete(t.id),a(c,s)},handleXHRProgress(s){const c=Object.assign({},t,{status:"uploading"});if(s.lengthComputable){const r=Math.ceil(s.loaded/s.total*100);c.percentage=r,l=r}a(c,s)}}}function Gt(e){const{inst:t,file:n,data:a,headers:i,withCredentials:l,action:u,customRequest:g}=e,{doChange:s}=e.inst;let c=0;g({file:n,data:a,headers:i,withCredentials:l,action:u,onProgress(r){const b=Object.assign({},n,{status:"uploading"}),M=r.percent;b.percentage=M,c=M,s(b)},onFinish(){var r;let b=Object.assign({},n,{status:"finished",percentage:c});b=se(((r=t.onFinish)===null||r===void 0?void 0:r.call(t,{file:b}))||b),s(b)},onError(){var r;let b=Object.assign({},n,{status:"error",percentage:c});b=se(((r=t.onError)===null||r===void 0?void 0:r.call(t,{file:b}))||b),s(b)}})}function Wt(e,t,n){const a=Xt(e,t,n);n.onabort=a.handleXHRAbort,n.onerror=a.handleXHRError,n.onload=a.handleXHRLoad,n.upload&&(n.upload.onprogress=a.handleXHRProgress)}function ze(e,t){return typeof e=="function"?e({file:t}):e||{}}function Kt(e,t,n){const a=ze(t,n);a&&Object.keys(a).forEach(i=>{e.setRequestHeader(i,a[i])})}function Qt(e,t,n){const a=ze(t,n);a&&Object.keys(a).forEach(i=>{e.append(i,a[i])})}function Zt(e,t,n,{method:a,action:i,withCredentials:l,responseType:u,headers:g,data:s}){const c=new XMLHttpRequest;c.responseType=u,e.xhrMap.set(n.id,c),c.withCredentials=l;const r=new FormData;if(Qt(r,s,n),n.file!==null&&r.append(t,n.file),Wt(e,n,c),i!==void 0){c.open(a.toUpperCase(),i),Kt(c,g,n),c.send(r);const b=Object.assign({},n,{status:"uploading"});e.doChange(b)}}const Jt=Object.assign(Object.assign({},Le.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>Ot?je(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Yt=Q({name:"Upload",props:Jt,setup(e){e.abstract&&e.listType==="image-card"&&he("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=et(e),a=Le("Upload","-upload",Vt,it,e,t),i=tt(e),l=L(()=>{const{max:f}=e;return f!==void 0?D.value.length>=f:!1}),u=z(e.defaultFileList),g=U(e,"fileList"),s=z(null),c={value:!1},r=z(!1),b=new Map,M=nt(g,u),D=L(()=>M.value.map(se));function x(){var f;(f=s.value)===null||f===void 0||f.click()}function V(f){const T=f.target;A(T.files?Array.from(T.files).map(I=>({file:I,entry:null,source:"input"})):null,f),T.value=""}function P(f){const{"onUpdate:fileList":T,onUpdateFileList:I}=e;T&&Re(T,f),I&&Re(I,f),u.value=f}const O=L(()=>e.multiple||e.directory);function A(f,T){if(!f||f.length===0)return;const{onBeforeUpload:I}=e;f=O.value?f:[f[0]];const{max:H,accept:E}=e;f=f.filter(({file:S,source:B})=>B==="dnd"&&(E!=null&&E.trim())?At(S.name,S.type,E):!0),H&&(f=f.slice(0,H-D.value.length));const j=xe();Promise.all(f.map(S=>Fe(this,[S],void 0,function*({file:B,entry:y}){var p;const d={id:xe(),batchId:j,name:B.name,status:"pending",percentage:0,file:B,url:null,type:B.type,thumbnailUrl:null,fullPath:(p=y==null?void 0:y.fullPath)!==null&&p!==void 0?p:`/${B.webkitRelativePath||B.name}`};return!I||(yield I({file:d,fileList:D.value}))!==!1?d:null}))).then(S=>Fe(this,void 0,void 0,function*(){let B=Promise.resolve();S.forEach(y=>{B=B.then(lt).then(()=>{y&&F(y,T,{append:!0})})}),yield B})).then(()=>{e.defaultUpload&&X()})}function X(f){const{method:T,action:I,withCredentials:H,headers:E,data:j,name:S}=e,B=f!==void 0?D.value.filter(p=>p.id===f):D.value,y=f!==void 0;B.forEach(p=>{const{status:d}=p;(d==="pending"||d==="error"&&y)&&(e.customRequest?Gt({inst:{doChange:F,xhrMap:b,onFinish:e.onFinish,onError:e.onError},file:p,action:I,withCredentials:H,headers:E,data:j,customRequest:e.customRequest}):Zt({doChange:F,xhrMap:b,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},S,p,{method:T,action:I,withCredentials:H,responseType:e.responseType,headers:E,data:j}))})}const F=(f,T,I={append:!1,remove:!1})=>{const{append:H,remove:E}=I,j=Array.from(D.value),S=j.findIndex(B=>B.id===f.id);if(H||E||~S){H?j.push(f):E?j.splice(S,1):j.splice(S,1,f);const{onChange:B}=e;B&&B({file:f,fileList:j,event:T}),P(j)}};function h(f){var T;if(f.thumbnailUrl)return f.thumbnailUrl;const{createThumbnailUrl:I}=e;return I?(T=I(f.file,f))!==null&&T!==void 0?T:f.url||"":f.url?f.url:f.file?Dt(f.file):""}const R=L(()=>{const{common:{cubicBezierEaseInOut:f},self:{draggerColor:T,draggerBorder:I,draggerBorderHover:H,itemColorHover:E,itemColorHoverError:j,itemTextColorError:S,itemTextColorSuccess:B,itemTextColor:y,itemIconColor:p,itemDisabledOpacity:d,lineHeight:q,borderRadius:te,fontSize:ne,itemBorderImageCardError:me,itemBorderImageCard:ve}}=a.value;return{"--n-bezier":f,"--n-border-radius":te,"--n-dragger-border":I,"--n-dragger-border-hover":H,"--n-dragger-color":T,"--n-font-size":ne,"--n-item-color-hover":E,"--n-item-color-hover-error":j,"--n-item-disabled-opacity":d,"--n-item-icon-color":p,"--n-item-text-color":y,"--n-item-text-color-error":S,"--n-item-text-color-success":B,"--n-line-height":q,"--n-item-border-image-card-error":me,"--n-item-border-image-card":ve}}),C=n?at("upload",void 0,R,e):void 0;ot(re,{mergedClsPrefixRef:t,mergedThemeRef:a,showCancelButtonRef:U(e,"showCancelButton"),showDownloadButtonRef:U(e,"showDownloadButton"),showRemoveButtonRef:U(e,"showRemoveButton"),showRetryButtonRef:U(e,"showRetryButton"),onRemoveRef:U(e,"onRemove"),onDownloadRef:U(e,"onDownload"),mergedFileListRef:D,triggerClassRef:U(e,"triggerClass"),triggerStyleRef:U(e,"triggerStyle"),shouldUseThumbnailUrlRef:U(e,"shouldUseThumbnailUrl"),renderIconRef:U(e,"renderIcon"),xhrMap:b,submit:X,doChange:F,showPreviewButtonRef:U(e,"showPreviewButton"),onPreviewRef:U(e,"onPreview"),getFileThumbnailUrlResolver:h,listTypeRef:U(e,"listType"),dragOverRef:r,openOpenFileDialog:x,draggerInsideRef:c,handleFileAddition:A,mergedDisabledRef:i.mergedDisabledRef,maxReachedRef:l,fileListClassRef:U(e,"fileListClass"),fileListStyleRef:U(e,"fileListStyle"),abstractRef:U(e,"abstract"),acceptRef:U(e,"accept"),cssVarsRef:n?void 0:R,themeClassRef:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,showTriggerRef:U(e,"showTrigger"),imageGroupPropsRef:U(e,"imageGroupProps"),mergedDirectoryDndRef:L(()=>{var f;return(f=e.directoryDnd)!==null&&f!==void 0?f:e.directory})});const ae={clear:()=>{u.value=[]},submit:X,openOpenFileDialog:x};return Object.assign({mergedClsPrefix:t,draggerInsideRef:c,inputElRef:s,mergedTheme:a,dragOver:r,mergedMultiple:O,cssVars:n?void 0:R,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,handleFileInputChange:V},ae)},render(){var e,t;const{draggerInsideRef:n,mergedClsPrefix:a,$slots:i,directory:l,onRender:u}=this;if(i.default&&!this.abstract){const s=i.default()[0];!((e=s==null?void 0:s.type)===null||e===void 0)&&e[De]&&(n.value=!0)}const g=o("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${a}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:l||void 0,directory:l||void 0}));return this.abstract?o(be,null,(t=i.default)===null||t===void 0?void 0:t.call(i),o(rt,{to:"body"},g)):(u==null||u(),o("div",{class:[`${a}-upload`,n.value&&`${a}-upload--dragger-inside`,this.dragOver&&`${a}-upload--drag-over`,this.themeClass],style:this.cssVars},g,this.showTrigger&&this.listType!=="image-card"&&o(Se,null,i),this.showFileList&&o(Ht,null,i)))}}),en={class:"m-auto flex h-14 max-w-screen-4xl items-center justify-between px-4"},tn={class:"flex min-w-0 flex-1 items-center space-x-2 overflow-hidden pr-2"},nn=_("h2",{class:"text-base font-bold"}," 我的自定义工作台 ",-1),an=_("div",{class:"flex items-center space-x-2"},null,-1),on=Q({__name:"header",setup(e){const t=Ue();return(n,a)=>(W(),oe("div",en,[_("div",tn,[_("button",{onClick:a[0]||(a[0]=i=>m(t).go(-1))},[v(m(Y),{class:"text-xl",icon:"ri:arrow-left-s-line"})]),nn]),an]))}}),rn={class:"w-full flex justify-center"},ln={class:"p-6 max-w-screen-4xl px-4 w-full"},sn={class:"flex flex-col space-y-3 justify-between sm:flex-row sm:space-y-0"},dn={class:"sm:w-full md:w-[300px] sm:mb-3 2xl:w-[380px]"},un={class:"mt-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-5"},cn=["onClick"],fn={class:"w-full h-16 flex items-center mb-3"},pn={class:"w-14 h-14 flex justify-center items-center rounded-md shadow-md mr-5 border border-[#00000014]"},gn=["src"],hn={class:"text-base font-bold mb-1 text-base text-[#333] dark:text-[#ffffff85]"},mn={class:"w-full text-[#999999] text-xs min-h-[40px]"},vn={class:"w-full flex justify-between mt-3"},bn={class:"p-5 bg-white rounded dark:bg-slate-800"},yn={class:"font-bold text-base"},wn={class:"pt-5 mt-6"},xn=_("p",null,"Tips: 请知悉 ",-1),Rn=_("p",null,"选择共享提交之后审核状态将无法编辑应用",-1),Cn=_("p",null,"审核通过的应用将会在应用广场公开展示",-1),_n=_("p",null,"管理审核通过后将会赠送一定的站内额度奖励用户",-1),kn=_("p",null,"一旦提交处于审核中、您将不能再编辑此应用",-1),Tn=Q({__name:"main",setup(e){const t=st(),n=z(""),a=z(!1),i=z(!1),l=z([]),u=z(null),g=z(0),s=z(!1),c=L(()=>g.value===0?"创建我的个人应用":"更新我的个人应用"),r=L(()=>g.value===0?"创建专属应用":"更新个人应用"),b=L(()=>n.value?t.mineApps.filter(y=>y.appName.includes(n.value)):t.mineApps),M=z("/api/upload/file"),D=()=>({catId:null,name:null,preset:null,des:null,demoData:"",coverImg:"",public:!1}),x=z(D()),V={catId:[{required:!0,message:"请选择分类"}],name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{min:2,max:30,message:"长度应为2到10个字符之间",trigger:"blur"}],preset:[{required:!0,message:"请输入预设prompt",trigger:"blur"},{min:6,max:1200,message:"长度应为6到1200个字符之间",trigger:"blur"}],des:[{required:!0,message:"请输入简短的应用描述",trigger:"blur"},{max:50,message:"长度应为0到50个字符之间",trigger:"blur"}],demoData:[{required:!0,message:"请输入示例数据、按回车换行表示新增一条",trigger:"blur"},{max:100,message:"长度应为0到100个字符之间",trigger:"blur"}],coverImg:[{required:!0,message:"请上传应用Logo",trigger:"change"}],public:[{required:!0,message:"请选择是否公开"}]};Pe();const P=dt(),O=Ue(),A=z([]),X=z(null);function F(y){n.value=y}async function h(y){const p=await vt(),{modelMaps:d}=p.data;if(!d[1])return P.warning("管理员未配置特定应用模型、请联系管理员配置~");O.push({path:"/chat",query:{appId:y.appId}})}async function R(y){y.loading=!0;try{const p=await bt({appId:y.appId});P.success(p.data),await t.queryMineApps(),y.loading=!1}catch{y.loading=!1}}async function C(){const y=await Rt();A.value=y.data.rows}async function ae(y){const p=await yt({id:y.appId});P.success(p.data),t.queryMineApps()}async function f(y){if(!y.length)X.value=null;else{const p=y[0].file;X.value=p;const d=new FormData;d.append("file",p);const q=await wt.post(M.value,d,{headers:{"Content-Type":"multipart/form-data"}});q.data.data?x.value.coverImg=q.data.data:P.error("上传图片失败、请检查后再试试吧！")}}function T({file:y,fileList:p}){return new Promise((d,q)=>{const{size:te,type:ne}=y.file;if(ne!=="image/png"&&ne!=="image/jpg"&&ne!=="image/jpeg")return P.error("只能上传png/jpg/jpeg格式的图片"),d(!1);if(te>300*1024)return P.error("图片大小不能超过300k"),d(!1);d(!0)})}ut(()=>{!b.value.length&&t.queryMineApps()});function I(){i.value=!0,C()}function H(){}function E(){j()}function j(){g.value=0,s.value=!1,x.value=D()}async function S(y){await C();const{catId:p,appName:d,preset:q,appDes:te,demoData:ne,coverImg:me,public:ve}=y;Object.assign(x.value,{catId:p,name:d,preset:q,des:te,demoData:ne,coverImg:me,public:ve}),g.value=y.appId,i.value=!0,s.value=y.public}function B(){var y;(y=u.value)==null||y.validate(async p=>{if(!p){const d=x.value;g.value&&(d.appId=g.value);const q=await xt(d),te=g.value?"个人应用修改完成！":"个人应用创建完成！";q.success&&P.success(te),t.queryMineApps(),j(),i.value=!1}})}return(y,p)=>(W(),oe(be,null,[_("div",rn,[_("div",ln,[_("div",sn,[_("div",dn,[v(m(ie),{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=d=>n.value=d),type:"text",placeholder:`您一共收录了${b.value.length}个应用(关键词过滤)`,onInput:F},null,8,["modelValue","placeholder"])]),v(m(Ce),null,{default:w(()=>[v(m(K),{onClick:I},{icon:w(()=>[v(m(Y),{icon:"gridicons:create"})]),default:w(()=>[Z(" 创建自定义应用 ")]),_:1}),v(m(K),{type:"primary",onClick:p[1]||(p[1]=d=>m(O).push("/app-store"))},{icon:w(()=>[v(m(Y),{icon:"ri:add-line"})]),default:w(()=>[Z(" 前往广场添加应用 ")]),_:1})]),_:1})]),_("div",un,[(W(!0),oe(be,null,ct(b.value,d=>(W(),oe("div",{key:d.id,class:"card relative custom-card cursor-pointer border border-[#e0e0e0] dark:border-neutral-800 p-4 pt-2 border rounded-md flex flex-col justify-center items-center hover:bg-neutral-100 dark:hover:bg-[#24272e] select-none",onClick:q=>h(d)},[_("div",fn,[_("span",pn,[_("img",{src:d.coverImg,class:"w-8 h-8 mb-1",alt:""},null,8,gn)]),_("span",hn,ue(d.appName),1)]),_("p",mn,ue(d.appDes),1),_("div",vn,[d.appRole==="system"||d.public?(W(),ce(m(ke),{key:0,placement:"bottom",onPositiveClick:le(q=>R(d),["stop"])},{trigger:w(()=>[v(m(K),{size:"tiny",ghost:"",loading:d.loading,onClick:p[2]||(p[2]=le(()=>{},["stop"]))},{icon:w(()=>[v(m(Y),{icon:"clarity:favorite-line",class:"text-base"})]),default:w(()=>[Z(" 取消收藏 ")]),_:2},1032,["loading"])]),default:w(()=>[Z(" 确认取消收藏该应用吗？ ")]),_:2},1032,["onPositiveClick"])):fe("",!0),v(m(Ce),null,{default:w(()=>[d.appRole==="user"&&!d.public?(W(),ce(m(ke),{key:0,placement:"bottom",onPositiveClick:le(q=>ae(d),["stop"])},{trigger:w(()=>[v(m(K),{size:"tiny",ghost:"",loading:d.loading,onClick:p[3]||(p[3]=le(()=>{},["stop"]))},{icon:w(()=>[v(m(Y),{icon:"mdi-light:delete",class:"text-base"})]),default:w(()=>[Z(" 删除应用 ")]),_:2},1032,["loading"])]),default:w(()=>[Z(" 确认移除创建的应用吗？ ")]),_:2},1032,["onPositiveClick"])):fe("",!0),d.appRole==="user"&&!d.public?(W(),ce(m(K),{key:1,size:"tiny",ghost:"",loading:d.loading,onClick:le(q=>S(d),["stop"])},{icon:w(()=>[v(m(Y),{icon:"mdi-light:delete",class:"text-base"})]),default:w(()=>[Z(" 编辑应用 ")]),_:2},1032,["loading","onClick"])):fe("",!0)]),_:2},1024)]),v(m(Y),{icon:"codicon:run-all",class:"run-icon text-xl text-[#5A91FC] absolute right-3 bottom-3"}),d.status===3?(W(),ce(m(Y),{key:0,icon:"icon-park-twotone:mark",class:"text-xl text-[#5A91FC] absolute right-3 top-3"})):fe("",!0)],8,cn))),128))])])]),v(m(mt),{show:i.value,title:"创建",style:{width:"90%","max-width":"640px"},"mask-closable":!1,"on-after-enter":H,"on-after-leave":E},{default:w(()=>[_("div",bn,[_("div",{class:"absolute top-4 left-5 cursor-pointer z-30",onClick:p[4]||(p[4]=d=>i.value=!1)},[_("span",yn,ue(r.value),1)]),_("div",{class:"absolute top-3 right-3 cursor-pointer z-30",onClick:p[5]||(p[5]=d=>i.value=!1)},[v(m(ft),{size:"20",color:"#0e7a0d"},{default:w(()=>[v(m(pt))]),_:1})]),_("div",wn,[v(m(gt),{ref_key:"formRef",ref:u,model:x.value,rules:V,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:w(()=>[v(m(ee),{label:"应用分类",path:"catId"},{default:w(()=>[v(m(Tt),{value:x.value.catId,"onUpdate:value":p[6]||(p[6]=d=>x.value.catId=d),clearable:"",size:"small","label-field":"name",placeholder:"请输入您的应用分类","value-field":"id",options:A.value},null,8,["value","options"])]),_:1}),v(m(ee),{label:"应用名称",path:"name"},{default:w(()=>[v(m(ie),{value:x.value.name,"onUpdate:value":p[7]||(p[7]=d=>x.value.name=d),placeholder:"请输入您的应用名称",type:"name",maxlength:30,"show-name-on":"click",tabindex:"0"},null,8,["value"])]),_:1}),v(m(ee),{label:"预设指令",path:"preset"},{default:w(()=>[v(m(ie),{value:x.value.preset,"onUpdate:value":p[8]||(p[8]=d=>x.value.preset=d),max:255,autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写prompt预设指令（核心）"},null,8,["value"])]),_:1}),v(m(ee),{label:"应用描述",path:"des"},{default:w(()=>[v(m(ie),{value:x.value.des,"onUpdate:value":p[9]||(p[9]=d=>x.value.des=d),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请对你的应用做以简要的描述以便于大家认识它！"},null,8,["value"])]),_:1}),v(m(ee),{label:"示例内容",path:"demoData"},{default:w(()=>[v(m(ie),{value:x.value.demoData,"onUpdate:value":p[10]||(p[10]=d=>x.value.demoData=d),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写一个示例、方便快速告诉别人如何使用、每点击回车换行一次则是新增一条示例！"},null,8,["value"])]),_:1}),v(m(ee),{label:"应用Logo",path:"coverImg"},{default:w(()=>[v(m(Yt),{"on-update:file-list":f,"on-before-upload":T,max:1,"default-upload":!1,action:M.value,"default-file-list":l.value,"list-type":"image-card"},{default:w(()=>[Z(" 点击上传 ")]),_:1},8,["action","default-file-list"])]),_:1}),v(m(ee),{label:"是否共享",path:"public"},{default:w(()=>[v(m(Bt),{value:x.value.public,"onUpdate:value":p[11]||(p[11]=d=>x.value.public=d),disabled:s.value},null,8,["value","disabled"]),v(m(ht),{placement:"top-start",trigger:"hover"},{trigger:w(()=>[v(m(Y),{icon:"ri:error-warning-line",class:"text-base ml-3 cursor-pointer"})]),default:w(()=>[xn,Rn,Cn,_n,kn]),_:1})]),_:1}),v(m(ee),{class:"mt-3"},{default:w(()=>[v(m(K),{block:"",type:"primary",disabled:a.value,loading:a.value,onClick:B},{default:w(()=>[Z(ue(c.value),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["model"])])])]),_:1},8,["show"])],64))}});const Bn={class:"flex h-full w-full flex-col bg-white dark:bg-[#111114]"},Fn={class:"sticky left-0 right-0 top-0 z-40 border-b bg-white dark:border-b-neutral-800 dark:bg-[#111114]"},In=Q({__name:"index",setup(e){return(t,n)=>(W(),oe("div",Bn,[_("header",Fn,[v(on)]),v(Tn)]))}}),Ln={class:"h-full dark:bg-[#24272e] transition-all"},An=Q({__name:"role",setup(e){const t=Ct(),{isMobile:n}=Pe(),a=L(()=>t.siderCollapsed),i=L(()=>n.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"]),l=L(()=>["h-full",{"pl-[260px]":!n.value&&!a.value}]);return(u,g)=>(W(),oe("div",Ln,[_("div",{class:_e(["h-full overflow-hidden",i.value])},[v(m(kt),{class:_e(["z-40 transition",l.value]),"has-sider":""},{default:w(()=>[v($e),v(m(_t),{class:"h-full"},{default:w(()=>[v(In)]),_:1})]),_:1},8,["class"])],2)]))}});export{An as default};
